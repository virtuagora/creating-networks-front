(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{0:function(t,e,i){t.exports=i("56d7")},"01f7":function(t,e,i){},"0958":function(t,e,i){"use strict";i("1acd")},"0a81":function(t,e,i){"use strict";i("2cfe")},"0dc4":function(t,e,i){"use strict";i("81a2")},1722:function(t,e,i){"use strict";i("b83f")},"1acd":function(t,e,i){},"1c04":function(t,e,i){},"205d":function(t,e,i){"use strict";i("8df0")},"2cfe":function(t,e,i){},"33d4":function(t,e,i){},3716:function(t,e,i){"use strict";i("7467")},"3afd":function(t,e,i){"use strict";i("a1f0")},"3e0e":function(t,e,i){},4199:function(t,e,i){"use strict";i("87a8")},"41ba":function(t,e,i){},4492:function(t,e,i){},"4aed":function(t,e,i){"use strict";i("3e0e")},"53d7":function(t,e,i){"use strict";i("01f7")},"551c":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=i("a925"),n=i("8a03"),o=i.n(n),r=i("243b"),l=i.n(r),c=i("796a"),d=i.n(c),u=i("229e"),m=i.n(u),f=i("7bb1"),p=i("98c9"),h=i("0284"),v=i.n(h),g=i("3f9b"),_=i("53ca"),b=(i("b64b"),i("fb6a"),i("b0c0"),i("99af"),i("2ef0")),C=(i("caad"),i("2532"),i("2f62")),y=i("bfa9");a["default"].use(C["a"]);var w=new y["a"]({key:"creating-networks-vuex",storage:window.localStorage,reducer:function(t){return{userToken:t.userToken,isAuthenticated:t.isAuthenticated}},filter:function(t){return"setUserToken"===t.type}}),k=new C["a"].Store({state:{isLoading:!1,isAuthenticated:!1,userToken:null,firstFecth:!1,lastTimeUpdated:Date.now(),fetchService:{initiative:null,initiativeContext:null,userProfile:null,video:null}},mutations:{setLoading:function(t,e){t.isLoading=e},setAuthenticated:function(t,e){t.isAuthenticated=e},setUserToken:function(t,e){t.userToken=e},updateSubjectUserAvatar:function(t,e){a["default"].set(t.userToken.subject,"img_type",e.imgType),a["default"].set(t.userToken.subject,"img_hash",e.imgHash),t.lastTimeUpdated=Date.now()},setInitiative:function(t,e){t.fetchService.initiative=e.data,t.fetchService.initiativeContext=e.context},setUserProfile:function(t,e){t.fetchService.userProfile=e},setVideo:function(t,e){t.fetchService.video=e}},getters:{isLoading:function(t){return t.isLoading},user:function(t){return t.userToken?t.userToken.subject:null},accessToken:function(t){return t.userToken?t.userToken.access_token:null},initiative:function(t){return t.fetchService.initiative?t.fetchService.initiative:null},initiativeContext:function(t){return t.fetchService.initiative?t.fetchService.initiativeContext:null},userProfile:function(t){return t.fetchService.userProfile?t.fetchService.userProfile:null},video:function(t){return t.fetchService.video?t.fetchService.video:null},isAdmin:function(t){return!!(t.userToken&&t.userToken.subject.roles_list&&t.userToken.subject.roles_list.length>0)&&t.userToken.subject.roles_list.includes("Admin")},isAuthenticated:function(t){return t.isAuthenticated}},actions:{login:function(t,e){t.commit("setAuthenticated",!0),t.commit("setUserToken",e)},logout:function(t){t.commit("setAuthenticated",!1),t.commit("setUserToken",null)}},plugins:[w.plugin]}),$={methods:{getValue:function(t){return void 0===t||null===t?null:t},isOptional:function(t){return null===t||""===t?null:"undefined"!==typeof t&&0===t.length?[]:t},isEmptyObject:function(t){return!t||0===Object.keys(t).length},isInputEmpty:function(t){return null===t||""===t||"undefined"!==typeof t&&0===t.length},isObject:function(t){return null!==t&&"object"===Object(_["a"])(t)&&!1===Array.isArray(t)},startLoading:function(){k.commit("setLoading",!0)},stopLoading:function(){k.commit("setLoading",!1)},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},getSpaceLocalization:function(t){return t.localization&&t.localization[this.currentLanguage]?t.localization[this.currentLanguage].name:t.name},makeUserAvatar:function(t){if(t)switch(t.img_type){case 1:return"https://www.gravatar.com/avatar/".concat(t.img_hash,"?d=mm&s=256");case 2:return"".concat(this.apiUrl,"/").concat(t.img_hash);default:return"https://www.gravatar.com/avatar/".concat(t.img_hash,"?d=mm&s=256")}return"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp"},getTimestamp:function(){return Math.round((new Date).getTime()/1e3)},diffObject:function(t,e){return Object(b["transform"])(e,(function(e,i,a){Object(b["isEqual"])(i,t[a])||(e[a]=i)}))},fullDiffObject:function(t,e){var i=this;return Object(b["transform"])(e,(function(e,a,s){Object(b["isEqual"])(a,t[s])||(e[s]=i.isObject(a)&&i.isObject(t[s])?i.fullDiffObject(a,t[s]):a)}))}},computed:{apiUrl:function(){return"https://api.creatingnetworks.youthsig.virtuagora.org"},currentLanguage:function(){return document.documentElement.lang},user:function(){return this.$store.getters.user},isAdmin:function(){return this.$store.getters.isAdmin},userAvatarUrl:function(){if(this.user)switch(this.user.img_type){case 1:return"https://www.gravatar.com/avatar/".concat(this.user.img_hash,"?d=mm&s=256");case 2:return"".concat(this.apiUrl,"/").concat(this.user.img_hash,"?").concat(this.$store.state.lastTimeUpdated);default:return"https://www.gravatar.com/avatar/".concat(this.user.img_hash,"?d=mm&s=256")}return"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp"}}},x=$,I=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=["January","February","March","April","May","June","July","August","September","October","November","December"],L="Cancel",q="en-US",P={buefyOptions:{defaultDialogConfirmText:"OK",defaultDialogCancelText:L,defaultDayNames:I,defaultMonthNames:A,defaultDateFormatter:function(t){return t.toLocaleDateString(q)},defaultIconPack:"fas",defaultToastDuration:3500},title:"Creating networks",errors:{error:"The server responded with an error. Try again later",formNotValid:"Invalid data, please check the fields",invalidData:"The data is invalid",unexpected:"Unexpected error"},buttonLabels:{goHome:"Go to main page",close:"Close",save:"Save",edit:"Edit",cancel:"Cancel",return:"Return",new:"New",add:"Add",remove:"Remove",retry:"Retry"},role_of_youth:{targetAudience:"Target Audience",leadership:"Leadership",membership:"Membership"}},T=P,N={optional:"(Optional)",required:"(Required)",placeholder:"Type here..",fields:{name:{label:"Name of the initiative"},description:{label:"Description"},public_data:{label:"Public information",goals:{label:"Goals of the initiative"},founding_year:{label:"Year of foundation"},role_of_youth:{label:"Role of youth",options:{targetAudience:"Target Audience",leadership:"Leadership",membership:"Membership"}},networks:{label:"(Optional) Initiative networks",website:"Website",facebook:"Facebook",twitter:"Twitter",other_network:"Other network",test:"Click here to test the link!"}},private_data:{label:"Private information",contact_email:{label:"Contact email"},contact_phone:{label:"(Optional) Contact phone"}},location:{title:"Location in the map",searchTitle:"Search for the location",fetchingRegions:"Fetching regions from the server...",startTypingRegion:"Start typing a region",fetchingCountries:"Fetching countries from the server...",startTypingCountry:"Start typing country",fetchingCities:"Fetching cities from the server...",startTypingCity:"Start typing a city",noResults:"No results found",noCity:"My initiative is not located in a city",notificationNoCity:"The initiative is not located in a city",theLocation:'<i class="fas fa-check"></i>&nbsp;The initiative is located in <b>{region}, {country}, {city}</b>',confirm:{title:"Confirm location",question:"Do you confirm that the initiative is located in <b>{region}, {country}, {city}</b>"}}}},O=N,R={create:O},E=R,S={optional:"(Optional)",required:"(Required)",placeholder:"Type here..",fields:{title:{label:"Name of the video"},content:{label:"Write a description of the video"},public_data:{networks:{youtube:"Youtube",test:"Click here to test the link!"}}}},F=S,M={create:F},j=M,z={initiatives:E,videos:j},D=z,U={subtitle:["Lot's of initiatives to check!","Let's explore!","Where will you go today?","Check the map!","Your next destiny awaits!"],buttons:{seeMap:"Check the map"},question:["What is the Project Creating Networks?","How can I participate?"],answer:['The "Creating Networks" project is an initiative funded by ISOC\'s Beyond the Net - Medium/Large Grants program. Its objective is to map the current initiatives and organizations that involve young people and information and communication technologies around the world. In addition to the mapping, the project aims to organize capacitation sessions webinars and workshops.',"If you are part of an organization that has projects involving the training or commitment of young people in the pattern of information and communication technologies, be part of our network! To participate, complete the following form with some basic information and we will get in touch soon."]},Y=U,V={signUp:{welcome:"Welcome! Please enter your email adress and we will send you a link to complete your register",actionButton:"Create new account",goBack:["Already a user?","Log in"],response:{title:"Thank you!",notification:"We have sent you an email to complete your registration",instruction:"Please, go to your inbox and click the link we've sent you",goHome:"Go back"}},recover:{welcome:"Lost your password? Don't worry! Enter your email address and we will send you a link to recover your account",actionButton:"Reset password",goBack:["Already a user?","Log in"],response:{title:"Thank you!",notification:"We have sent you an email to reset your password",instruction:"Please, go to your inbox and click the link we've sent you",goHome:"Go back"}},completeSignUp:{placeholder:{names:"Names",surnames:"Surnames",password:"Your password",confirmPassword:"Rewrite your password"},actionButton:"Complete registration!",description:["Hi! Thanks for signing up!","Please complete your registration!"],response:{title:"Thank you!",notification:"You've successfully completed your registration!",instruction:"Now you can log in into your account and start collaborating",login:"Log In"}},completeRecover:{placeholder:{password:"Your new password",confirmPassword:"Rewrite your new password"},actionButton:"Submit new password",description:["Hi! Let's reset your password!!","Please complete the following fields!"],response:{title:"Thank you!",notification:"You've successfully reseted your password!",instruction:"Now you can log in into your account with your new password",login:"Log In"}}},B=V,H={title:"Add your initiative",optional:"(Optional)",step0:{title:"Welcome!",text:["This form aims to map initiatives that involve young people and Information and Communication Technologies.","The information will be used to create a network of organizations for future workshops and webinars.","All the information will be used only within the scope of the Creating Networks project, carried out by the Youth Observatory, the Youth Special Interest Group of the Internet Society."],start:"START!"},step1:{conversation:["Awesome! Let's start!"],fields:[{question:"Whats the name of your initiative?",placeholder:"Name of your initiative",fieldName:"Initiative name"}]},step2:{conversation:['"{initiativeName}", Nice! I like it!',"Ok, now.. how about you tell us more about it?"],fields:[{question:"Write a brief description of your initiative",placeholder:"Start typing here",fieldName:"Initiative description"}]},step3:{conversation:["Very interesting!","Let's place it in the map","Choose the region, then the country, and (if it applies) the city where your initiative is located"],fields:[{question:"Where is located?"}],fetchingRegions:"Fetching regions from the server...",startTypingRegion:"Start typing a region",fetchingCountries:"Fetching countries from the server...",startTypingCountry:"Start typing country",fetchingCities:"Fetching cities from the server...",startTypingCity:"Start typing a city",noResults:"No results found",noCity:"My initiative is not located in a city",cantFindCity:"Can\t find your city? Click here",notificationNoCity:"The initiative is not located in a city",skip:"Skip this step, my initiative cannot be placed in a location",cantLocate:"I cannot find my city in the list",feature:{title:"This feature will be available soon",text:"Sorry! We will add this feature in a future update, stay tuned!"}},step4:{conversation:["Ok, so it's located in {cityName}, right?","Let's load the map and see","Your initiative will be placed like this. If that is ok for you, let's continue!"]},step5:{conversation:["Ok, now we need some public information"],fields:[{question:"Whats are the goals of the initiative? ",placeholder:"Start typing the goals",fieldName:"Initiative goals"},{question:"What year the initiative started? ",placeholder:"YYYY",fieldName:"Initiative foundation year"},{question:"What is the role of youth in this initative? ",fieldName:"Initiative youth roles",options:{targetAudience:"Target Audience",leadership:"Leadership",membership:"Membership"}},{question:"(Optional) What are your networks?",inputs:{website:"Website",facebook:"Facebook",twitter:"Twitter",other_network:"Other network"},labels:{other_network:"(Optional) URL to other network",test:"Click here to test the link!"}}]},step6:{conversation:["We would like to know if your initiative has impact or presence in other countries.","Can you list the countries where your initiative has impact? This step is totally optional"]},step7:{conversation:["Also, we would like to know the areas of interest of your initiative.","Can you select what areas of interest is your initiative involved with?"]},step8:{conversation:["Thank you for sharing!","To finish, we will ask you for some private data"],fields:[{question:"Please provide us a contact email of the initiative",placeholder:"address@domain.com",fieldName:"Initiative contact email"},{question:"(Optional) You can also provide us a telephone number",placeholder:"Ex: +54 9 11 321 123456 (Int. format)",fieldName:"Initiative phone number"}]},step9:{conversation:["We are almost done! Now it's time to check the information you gave us","If you need to change something, please, click the pencil icon"],noLocation:"No location has been addressed",founded:"Founded in the year {year}",button:"Add my initiative",finish:"Everything is ok? Good! To finish, click the button!",labels:{description:"Description",location:"Location",goals:"Goals",roleOfYouth:"Role of Youth",networks:"Networks",contact:"Contact",private:"Private data",countries:"Countries",areasOfInterest:"Areas of interest"}},sending:{text:["Wait a few seconds!","We are sending a paper plane to our server with all the data!"]},confirmation:{congratulations:"Congratulations!",text:["You've successfully added your initiative","Thanks for being part of this project!"],edit:["Add a picture and/or the logo of your initiative","Edit any information of your initiative","Add other users as members or owners"]}},W=H,G={addInitiative:W},Q=G,J={user:Q},K=J,Z={optional:"(Optional)",goToProfile:"Go to your profile",bio:{label:"Your bio",description:"Tell us something about us!",placeholder:"Write something about how amazing you are!"},avatar:{search:"Change avatar",submit:"Submit"},networks:{label:"Your personal networks",website:"Website",facebook:"Facebook",twitter:"Twitter",other_network:"Other network",test:"Click here to test the link!"}},X=Z,tt={title:"My areas of interest",subtitle:'Here you can see your areas of interests. Click <i class="fas fa-times-circle"></i>&nbsp;to delete an area',emptyAreas:"You don't have any areas of interest... Add a few ones! :)",currentAreas:"My current areas of interest",manage:{title:"Manage areas of interest",subtitle:"Here you can add multiples areas of interest",availableAreasTitle:"Available areas of interest",newAreasTitle:"New Areas",submit:"Confirm"}},et=tt,it={profile:X,areasOfInterest:et},at=it,st={userPanel:at},nt=st,ot={globals:T,admin:D,home:Y,forms:K,auth:B,user:nt},rt=ot,lt=["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],ct=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dt="Cancelar",ut="es-AR",mt={buefyOptions:{defaultDialogConfirmText:"OK",defaultDialogCancelText:dt,defaultDayNames:lt,defaultMonthNames:ct,defaultDateFormatter:function(t){return t.toLocaleDateString(ut)},defaultIconPack:"fas",defaultToastDuration:3500}},ft=mt,pt={globals:ft},ht=pt,vt=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],gt=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],_t="Cancelar",bt="pt-BR",Ct={buefyOptions:{defaultDialogConfirmText:"OK",defaultDialogCancelText:_t,defaultDayNames:vt,defaultMonthNames:gt,defaultDateFormatter:function(t){return t.toLocaleDateString(bt)},defaultIconPack:"fas",defaultToastDuration:3500}},yt=Ct,wt={globals:yt},kt=wt,$t={en:rt,es:ht,pt:kt},xt=$t,It=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"app",attrs:{id:"app"}},[t.$route.meta.hideNavbar?t._e():i("Navbar"),i("RouterView"),i("b-loading",{ref:"loader",attrs:{active:t.isLoading}}),t.$route.meta.hideFooter?t._e():i("Footer")],1)},At=[],Lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.user?i("nav",{staticClass:"tags is-large floating-navbar",class:t.extraClasses},[i("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[i("div",{staticClass:"has-user-image",attrs:{slot:"trigger",role:"button"},slot:"trigger"},[i("img",{staticClass:"image",attrs:{src:t.userAvatarUrl}})]),i("b-dropdown-item",{attrs:{custom:"","aria-role":"menuitem"}},[i("b",[t._v(t._s(t.user.display_name))])]),t.user?i("b-dropdown-item",{attrs:{"aria-role":"listitem","has-link":""}},[i("router-link",{staticClass:"has-text-link",attrs:{to:{name:"profile",params:{id:t.user.id}}}},[t._v("My profile")])],1):t._e(),t.user?i("b-dropdown-item",{attrs:{"aria-role":"listitem","has-link":""}},[i("router-link",{staticClass:"has-text-link",attrs:{to:{name:"user"}}},[t._v("My panel")])],1):t._e(),t.isAdmin?i("b-dropdown-item",{attrs:{"aria-role":"listitem","has-link":""}},[i("router-link",{staticClass:"has-text-link",attrs:{to:{name:"admin"}}},[t._v("Admin panel")])],1):t._e(),i("hr",{staticClass:"dropdown-divider"}),i("b-dropdown-item",{attrs:{"aria-role":"listitem","has-link":""}},[i("a",{staticClass:"has-text-link",on:{click:t.logout}},[i("i",{staticClass:"fas fa-sign-out-alt"}),t._v(" Log out ")])])],1)],1):i("router-link",{staticClass:"floating-navbar has-text-primary",class:t.extraClasses,attrs:{to:{name:"login"}}},[i("i",{staticClass:"fas fa-sign-in-alt fa-2x"})])},qt=[],Pt={data:function(){return{showMobileNav:!1}},methods:{toggleMobileNav:function(){this.showMobileNav=!this.showMobileNav},closeMobileNav:function(){this.showMobileNav=!1},logout:function(){this.showMobileNav=!1,this.$store.dispatch("logout"),this.$router.push({name:"home"})}},computed:{extraClasses:function(){return!!["map"].includes(this.$route.name)&&"push-more-right"}}},Tt=Pt,Nt=(i("0a81"),i("2877")),Ot=Object(Nt["a"])(Tt,Lt,qt,!1,null,"2da9c3d3",null),Rt=Ot.exports,Et=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},St=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"footer",attrs:{id:"app-footer"}},[i("div",{staticClass:"container has-text-centered"},[i("p",[i("b",[t._v("Creating Networks")]),i("br"),t._v("a Youth Observatory project")]),i("p",{staticClass:"is-size-7"},[t._v("Powered by "),i("a",{staticClass:"has-text-primary",attrs:{href:"https://virtuagora.org",title:"Virtuágora"}},[t._v("Virtuágora")])]),i("br"),i("p",{staticClass:"is-size-7"},[i("i",{staticClass:"fas fa-bug"}),t._v(" Bugs? Something is broken? Feedback maybe? "),i("a",{staticClass:"has-text-warning ",attrs:{href:"https://docs.google.com/forms/d/e/1FAIpQLSf02YyfE8ddsf5B0u2wSF_ZggEYQi_-U0fQQcSaqfdtKmpWng/viewform",target:"_blank",title:"Support and feedback form"}},[t._v("Click here and fill the form")])]),i("br"),i("br"),i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("img",{attrs:{src:"/ISOC.svg",alt:""}})]),i("div",{staticClass:"column"},[i("img",{attrs:{src:"/YO.svg",alt:""}})]),i("div",{staticClass:"column"},[i("img",{attrs:{src:"/logo-v-white.svg",alt:""}})])])])])}],Ft={},Mt=Ft,jt=(i("53d7"),Object(Nt["a"])(Mt,Et,St,!1,null,null,null)),zt=jt.exports,Dt={name:"App",components:{Navbar:Rt,Footer:zt},beforeCreate:function(){},computed:{showNavbar:function(){return!this.$route.matched.some((function(t){return!1===t.meta.withNavbar}))},showFooter:function(){return!this.$route.matched.some((function(t){return!1===t.meta.withFooter}))},isLoading:function(){return this.$store.state.isLoading}}},Ut=Dt,Yt=(i("5c0b"),Object(Nt["a"])(Ut,It,At,!1,null,null,null)),Vt=Yt.exports,Bt=i("1da1"),Ht=(i("96cf"),i("7db0"),i("8c4f")),Wt=(i("d3b7"),i("bc3a")),Gt=i.n(Wt),Qt=i("3799");Gt.a.defaults.headers.common.Accept="application/json",Gt.a.defaults.baseURL="https://api.creatingnetworks.youthsig.virtuagora.org",Gt.a.defaults.withCredentials=!0,Gt.a.defaults.timeout=15e3;var Jt=function(){return xt[document.documentElement.lang]};Gt.a.interceptors.request.use((function(t){return k.state.userToken&&(t.headers.Authorization="Bearer ".concat(k.state.userToken.access_token)),t}),(function(t){return Promise.reject(t)})),Gt.a.interceptors.response.use((function(t){return t}),(function(t){return console.error(t.response.data),t.response&&Qt["Toast"].open({message:'<i class="fas fa-exclamation-triangle"></i> '.concat(Jt().globals.errors[t.response.data.code]),type:"is-danger"}),Promise.reject(t)}));var Kt=Gt.a,Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"home"}},[i("div",{staticClass:"hero is-dark is-medium is-mobile",attrs:{id:"hero"}},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("br",{staticClass:"is-hidden-desktop"}),t._m(0),i("div",{staticClass:"subtitle is-italic is-4 is-size-5-touch has-text-centered-touch"},[t._v('"'+t._s(t.getSubtitle())+'"')]),i("div",{staticClass:"title is-1 is-size-3-touch has-text-centered-touch"},[t._v(t._s(t.$t("globals.title")))]),i("div",{staticClass:"buttons"},[i("router-link",{staticClass:"button is-dark is-inverted is-outlined",attrs:{to:{name:"map"}}},[i("i",{staticClass:"fas fa-map"}),t._v("   "+t._s(t.$t("home.buttons.seeMap"))+" ")]),i("router-link",{staticClass:"button is-dark is-inverted is-outlined",attrs:{to:{name:"listInitiatives"}}},[i("i",{staticClass:"fas fa-list"}),t._v("   List initiatives ")]),t.user?t._e():i("router-link",{staticClass:"button is-primary is-outlined",attrs:{to:{name:"login"}}},[i("i",{staticClass:"fas fa-sign-in-alt"}),t._v("  Join ")])],1)])]),i("vue-particles",{attrs:{color:"FFFFFF",hoverEffect:!1,clickEffect:!1}})],1),i("div",{staticClass:"section"},[i("div",{staticClass:"container"},[i("div",{staticClass:"is-clearfix"},[i("h1",{staticClass:"title is-1 is-size-3-touch is-pulled-left"},[t._v("Look at some initiatives")]),i("p",{staticClass:"is-pulled-right has-text-right"},[i("router-link",{staticClass:"title is-4 is-hidden-touch has-text-primary",attrs:{to:{name:"listInitiatives"}}},[t._v(" List "),i("i",{staticClass:"fas fa-arrow-right"})]),i("br"),i("router-link",{staticClass:"title is-4 is-hidden-touch has-text-primary",attrs:{to:{name:"map"}}},[t._v(" Map "),i("i",{staticClass:"fas fa-arrow-right"})])],1)]),i("initiative-carousel"),i("br"),i("div",{staticClass:"buttons is-centered"},[i("router-link",{staticClass:"button is-link is-large animated infinite pulse",attrs:{to:{name:t.user?"newInitiative":"login"}}},[i("i",{staticClass:"fas fa-plus"}),t._v("  Add a new Initiative ")])],1),i("br",{staticClass:"is-hidden-desktop"}),i("div",{staticClass:"buttons is-centered is-hidden-desktop"},[i("router-link",{staticClass:"button is-white is-outlined",attrs:{to:{name:"map"}}},[i("i",{staticClass:"fas fa-map"}),t._v("  "+t._s(t.$t("home.buttons.seeMap"))+" ")]),i("router-link",{staticClass:"button is-white is-outlined",attrs:{to:{name:"listInitiatives"}}},[i("i",{staticClass:"fas fa-map"}),t._v("  List initiatives ")])],1)],1)]),t._m(1),i("div",{staticClass:"hero is-dark creating-network-tv"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("div",{staticClass:"columns is-centered is-vcentered"},[i("div",{staticClass:"column is-6 has-text-centered"},[i("h1",{staticClass:"subtitle is-4 is-size-6-touch is-italic"},[t._v("Why Netflix, when you have...")]),i("h1",{staticClass:"title is-1 is-size-3-touch"},[t._v("Creating Networks TV!")]),i("router-link",{staticClass:"title is-4 has-text-warning ",attrs:{to:{name:"catalogCreatingNetworksTv"}}},[t._v(" Watch our episodes "),i("i",{staticClass:"fas fa-arrow-right"})])],1),i("div",{staticClass:"column is-2 vhs-container"},[i("router-link",{attrs:{to:{name:"catalogCreatingNetworksTv"}}},[i("div",{staticClass:"vhs-effect"}),i("img",{staticClass:"image",attrs:{src:"/cntv.svg"}})])],1)])])])]),i("div",{staticClass:"hero is-medium is-link is-bold"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("img",{staticClass:"float-logo",attrs:{src:"/YO-NET.svg",alt:""}}),i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-8"},[i("h1",{staticClass:"title is-1 is-size-3-touch"},[t._v(t._s(t.$t("home.question[0]")))]),i("p",[t._v(t._s(t.$t("home.answer[0]")))])])]),i("div",{staticClass:"columns huge-margin"},[i("div",{staticClass:"column is-8 is-offset-2 has-text-centered has-text-left-touch"},[i("h1",{staticClass:"title is-1 is-size-3-touch"},[t._v(t._s(t.$t("home.question[1]")))]),i("p",[t._v(t._s(t.$t("home.answer[0]")))]),i("br"),i("div",{staticClass:"buttons is-centered"},[t.user?i("router-link",{staticClass:"button is-primary is-fullwidth is-medium",attrs:{to:{name:"map"}}},[i("i",{staticClass:"fas fa-map-marked-alt"}),t._v("  Explore ")]):i("router-link",{staticClass:"button is-primary is-fullwidth is-medium",attrs:{to:{name:"login"}}},[i("i",{staticClass:"fas fa-sign-in-alt"}),t._v("  Join today! ")])],1)])])])])])])},Xt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logo-container"},[i("img",{staticClass:"image logo-cn",attrs:{src:"/iso-cn.svg",alt:""}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hero is-dark book-bg"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("div",{staticClass:"columns is-vcentered"},[i("div",{staticClass:"column"},[i("img",{staticClass:"image is-centered book-logo",attrs:{src:"/youngatlasbook-logo.svg"}})]),i("div",{staticClass:"column has-text-centered"},[i("a",{attrs:{href:"https://drive.google.com/file/d/1pddHrGYlSz-JvM_q63RYp3JJLsgwnyix/view",target:"_blank"}},[i("img",{staticClass:"image is-centered book-style",attrs:{src:"/youngatlasbook.png"}})]),i("p",{staticClass:"title is-3 is-800 animated infinite pulse slow"},[i("i",{staticClass:"fas fa-arrow-down"}),t._v(" Download Now!")])])])])])])}],te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isFetching?i("div",[t._m(0)]):i("div",[t.initiatives.length>0?i("carousel",{staticClass:"initiative-carousel",attrs:{autoplay:t.autoplayEnabled,loop:!0,"autoplay-timeout":t.timeout,"per-page-custom":t.responsiveLayout,"navigation-enabled":t.navigationEnabled,"pagination-active-color":"#DA8313","pagination-color":"#FFFFFF",navigationNextLabel:"<i class='fas fa-angle-double-right fa-2x has-text-white'></i>",navigationPrevLabel:"<i class='fas fa-angle-double-left fa-2x has-text-white'></i>"}},[t._l(t.initiatives,(function(e){return i("slide",{key:e.id,staticClass:"item-carousel"},[i("router-link",{attrs:{to:{name:"initiative",params:{id:e.id}}}},[i("div",{staticClass:"box-initiative",class:{"has-background":e.pictures&&e.pictures.cover},style:t.backgroundImageUrl(e)},[i("div",{class:{"has-background-gradient":e.pictures&&e.pictures.cover}},[i("div",{staticClass:"to-bottom"},[i("div",{staticClass:"field is-grouped is-grouped-multiline"},[i("div",{staticClass:"control"},[i("div",{staticClass:"tags has-addons"},[i("span",{staticClass:"tag is-dark"},[i("i",{staticClass:"fas fa-map-marker-alt"})]),i("span",{staticClass:"tag is-white"},[t._v("#"+t._s(e.id))])])])]),i("h1",{staticClass:"title is-4 is-800 is-marginless"},[t._v(t._s(e.name))]),i("p",{staticClass:"shadow-text some-other-effects"},[t._v(t._s(t.getShortDescription(e.description,80)))])])])])])],1)})),i("slide",{staticClass:"item-carousel"},[i("router-link",{attrs:{to:{name:t.user?"newInitiative":"login"}}},[i("div",{staticClass:"box-add-initiative"},[i("div",{staticClass:"center-stuff"},[i("p",{staticClass:"is-size-1 has-text-centered"},[i("i",{staticClass:"fas fa-plus fa-fw has-text-white"}),i("i",{staticClass:"fas fa-map-marker fa-fw has-text-primary"})]),i("p",{staticClass:"is-size-6 has-text-centered"},[t._v("Add your initiative and be part of the project!")])])])])],1)],2):i("div",{staticClass:"notification is-light"},[i("i",{staticClass:"fas fa-info-circle"}),t._v(" There are no iniciatives. Try again later. ")])],1)},ee=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section has-text-centered"},[i("p",{staticClass:"animated bounce infinite"},[i("i",{staticClass:"fas fa-sync fa-spin"})]),i("p",[t._v("Loading")])])}],ie=(i("d81d"),i("4e82"),i("0a63")),ae={data:function(){return{initiatives:[],isFetching:!0,timeout:7e3}},components:{Carousel:ie["Carousel"],Slide:ie["Slide"]},mounted:function(){this.fetch()},methods:{fetch:function(){var t=this;this.isFetching=!0,this.$http.get("/v1/initiatives?size=10&sort=random").then((function(e){t.initiatives=t.shuffleArray(e.data.data),t.isFetching=!1}))},getShortDescription:function(t,e){if(!(t.length>e))return t;for(var i=e;i>0;i--)if(" "===t.charAt(i)&&(","!=t.charAt(i-1)||"."!=t.charAt(i-1)||";"!=t.charAt(i-1)))return"".concat(t.substring(0,i),"...")},shuffleArray:function(t){return t.map((function(t){return[Math.random(),t]})).sort((function(t,e){return t[0]-e[0]})).map((function(t){return t[1]}))},backgroundImageUrl:function(t){return t&&t.pictures&&t.pictures.cover?"background-image: url(".concat(this.apiUrl,"/").concat(t.pictures.cover.path,")"):null}},computed:{navigationEnabled:function(){return!!(this.initiatives.length-1)},autoplayEnabled:function(){return!!(this.initiatives.length-1)},perPage:function(){return this.initiatives.length>2?3:this.initiatives.length},loopEnabled:function(){return!!(this.initiatives.length-1)},responsiveLayout:function(){return this.initiatives.length>2?[[0,1],[768,2],[1024,3]]:2==this.initiatives.length?[[0,1],[768,2]]:(this.initiatives.length,null)}}},se=ae,ne=Object(Nt["a"])(se,te,ee,!1,null,"d80fcf30",null),oe=ne.exports,re={components:{InitiativeCarousel:oe},methods:{getSubtitle:function(){var t=this.$t("home.subtitle").length;return this.$t("home.subtitle")[Math.floor(Math.random()*t)]}},computed:{}},le=re,ce=(i("e9e2"),Object(Nt["a"])(le,Zt,Xt,!1,null,"368c52f7",null)),de=ce.exports,ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("Slideout",{ref:"initiativesNotLocatedSlider",attrs:{menu:"#menu",panel:"#panel",padding:400,touch:!1},on:{"on-open":t.openSlider}},[i("nav",{attrs:{id:"menu"}},[i("InitiativesNotLocated",{ref:"initiativesNotLocated",on:{close:t.closeSlider}})],1),i("section",{attrs:{id:"panel"}},[i("router-link",{staticClass:"logo",attrs:{to:{name:"home"}}},[i("img",{staticClass:"image",attrs:{src:"/iso-cn.svg",alt:""}})]),i("div",{staticClass:"control-header"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("b-autocomplete",{attrs:{placeholder:t.placeholderInput,"keep-first":!0,data:t.filteredCities,loading:t.fetchingCities,field:"name",icon:"plane-departure",disabled:t.disableInput},on:{select:function(e){return t.selectCity(e)}},model:{value:t.queryCity,callback:function(e){t.queryCity=e},expression:"queryCity"}},[i("template",{slot:"empty"},[t._v(" Oh sorry.. we don't have flights to "+t._s(t.queryCity)+"  "),i("i",{staticClass:"fas fa-sad-tear"})])],2),!t.fetchingCities&&t.mapReady?i("p",{staticClass:"help"},[i("a",{staticClass:"has-text-primary",on:{click:t.randomDesination}},[t._v("Don't know? Try a random destination!")])]):t._e(),!t.fetchingCities&&t.mapReady?i("p",{staticClass:"help"},[i("b-switch",{attrs:{type:"is-primary"},on:{input:t.changeToggleView}},[t._v("Show only presence in countries")])],1):t._e()],1)])]),i("div",{staticClass:"control-footer"},[t.mapReady?i("div",{staticClass:"has-text-centered"},[i("router-link",{staticClass:"button is-medium is-primary animated bounce is-outlined is-hidden-touch",attrs:{to:{name:t.user?"newInitiative":"login"}}},[i("i",{staticClass:"fas fa-plus"}),t._v(" Add your initiative ")]),i("router-link",{staticClass:"button is-primary animated bounce is-outlined is-hidden-desktop",attrs:{to:{name:t.user?"newInitiative":"login"}}},[i("i",{staticClass:"fas fa-plus"}),t._v(" Add your initiative ")]),i("br"),i("br",{staticClass:"is-hidden-touch"}),i("a",{staticClass:"has-text-white toggle-button is-size-7-touch",on:{click:t.openUnlocated}},[i("i",{staticClass:"fas fa-clipboard-list fa-lg"}),t._v("  List initiatives without city ")])],1):i("p",{staticClass:"animated infinite bounce is-size-4"},[i("i",{staticClass:"fas fa-sync fa-spin"}),t._v(" Loading ")])]),i("div",{staticClass:"map-container"},[t.fetchingCities?t._e():i("InitiativeMap",{ref:"initiativeMap",staticClass:"the-map",attrs:{cities:t.cities},on:{mapReady:function(e){t.mapReady=!0}}})],1)],1)])],1)},me=[],fe=(i("159b"),i("4de4"),i("25f0"),i("9098")),pe=i.n(fe),he=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"map"}},[i("MglMap",{ref:"theMap",staticClass:"my-mapbox",attrs:{accessToken:t.accessToken,minZoom:1,maxZoom:8,mapStyle:t.mapStyle},on:{"update:mapStyle":function(e){t.mapStyle=e},"update:map-style":function(e){t.mapStyle=e},load:t.onMapLoad}},[i("MglNavigationControl"),t._l(t.citiesArray,(function(e){return i("MglMarker",{key:e.id,attrs:{coordinates:e.space.point.coordinates,anchor:"bottom",color:t.colorMarker}},[i("MglPopup",{on:{open:function(i){return t.fireCityFetch("city-"+e.id)}}},[i("CityPopUp",{ref:"city-"+e.id,refInFor:!0,attrs:{city:e}})],1)],1)}))],2)],1)},ve=[],ge=i("3f3d"),_e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"content"},[i("p",{staticClass:"is-size-5"},[t._v(" Welcome to "),i("b",[t._v(t._s(t.city.name)+"!")])]),i("p",[t._v("Home of great initiatives like...")]),t.fetchingCityData?i("div",[t._m(0)]):i("div",t._l(t.cityData.initiatives,(function(e){return i("p",{key:e.id},[i("router-link",{attrs:{to:{name:"initiative",params:{id:e.id}}}},[i("i",{staticClass:"fas fa-map-marked-alt has-text-primary"}),t._v("  "+t._s(e.name)+" ")])],1)})),0)])])},be=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("i",{staticClass:"fas fa-spin fa-sync"}),t._v(" Loading... ")])}],Ce={props:{city:{type:Object}},data:function(){return{fetchingCityData:!0,cityData:null}},methods:{getCity:function(){var t=this;null==this.cityData&&this.$http.get("/v1/cities/".concat(this.city.id)).then((function(e){t.cityData=e.data.data,t.fetchingCityData=!1}))}}},ye=Ce,we=(i("4199"),Object(Nt["a"])(ye,_e,be,!1,null,"50cbd5ed",null)),ke=we.exports,$e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-card",staticStyle:{width:"100%"}},[i("section",{staticClass:"modal-card-body has-text-centered"},[i("div",{staticClass:"content"},[i("p",[i("span",{staticClass:"is-size-4 is-700"},[t._v(t._s(t.resource.initiatives)+" initiatives")]),i("br"),t._v(" have or does some work (or activity) in")]),i("h1",{staticClass:"subtitle is-3 has-text-primary is-marginless"},[t._v(t._s(t.resource.name))])]),t.getching?i("div",[t._m(0)]):i("div",t._l(t.initiatives,(function(e){return i("p",{key:e.id},[i("a",{on:{click:function(i){return t.goToInitiative(e.id)}}},[i("i",{staticClass:"fas fa-map-marked-alt has-text-primary"}),t._v("  "+t._s(e.name)+" ")])])})),0),i("br"),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button is-dark is-small",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Close")])])])])},xe=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("i",{staticClass:"fas fa-spin fa-sync"}),t._v(" Loading... ")])}],Ie={props:{resource:{type:Object,required:!0}},data:function(){return{initiatives:[],fetching:!0}},mounted:function(){this.getInitiatives()},methods:{getInitiatives:function(){var t=this;this.$http.get("/v1/initiatives?countries=".concat(this.resource.countryId)).then((function(e){t.initiatives=e.data.data,t.fetching=!1}))},goToInitiative:function(t){this.$parent.close(),this.$router.push({name:"initiative",params:{id:t}})}}},Ae=Ie,Le=Object(Nt["a"])(Ae,$e,xe,!1,null,null,null),qe=Le.exports,Pe={components:{MglMap:ge["a"],MglNavigationControl:ge["c"],MglMarker:ge["b"],MglPopup:ge["d"],CityPopUp:ke},props:{cities:{type:Array}},data:function(){return{mapbox:null,colorMarker:"#da8313",accessToken:"pk.eyJ1IjoiZ3VpbGxlY3JvIiwiYSI6ImNqd29pMWx3ZzB2aHEzeWxuMzA0bnJ3NnEifQ.7ds71K8xccQegYlKgT-rwA",mapStyle:"mapbox://styles/mapbox/dark-v9",showCities:!0}},methods:{onMapLoad:function(){var t=this;return Object(Bt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("mapReady");case 1:case"end":return e.stop()}}),e)})))()},flyTo:function(t){var e=this;return Object(Bt["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.$refs.theMap.actions.flyTo({center:t,zoom:4,speed:.4});case 2:return a=i.sent,console.log(a),i.abrupt("return",!0);case 5:case"end":return i.stop()}}),i)})))()},fireCityFetch:function(t){this.$refs[t][0].getCity()},openCountryModalLayer:function(t){this.$modal.open({parent:this,component:qe,props:{resource:t},hasModalCard:!0,events:{}})},changeCursor:function(){console.log("pointer!"),this.$refs.theMap.map.getCanvas().style.cursor="pointer"},revertCursor:function(){console.log("grab!"),this.$refs.theMap.map.getCanvas().style.cursor="grab"},toggleCountriesVisibility:function(){var t=Object(Bt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.theMap.map.getLayoutProperty("countries-layer","visibility");case 2:if(e=t.sent,"visible"!==e){t.next=9;break}return t.next=6,this.$refs.theMap.map.setLayoutProperty("countries-layer","visibility","none");case 6:this.className="",t.next=12;break;case 9:return this.className="active",t.next=12,this.$refs.theMap.map.setLayoutProperty("countries-layer","visibility","visible");case 12:this.toggleShowCities();case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),toggleShowCities:function(){this.showCities=!this.showCities},drawCountryGeoJson:function(){var t=Object(Bt["a"])(regeneratorRuntime.mark((function t(e){var i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,this.$refs.theMap.map.addSource("countries",e);case 3:return t.next=5,this.$refs.theMap.map.addLayer({id:"countries-layer",type:"fill",source:"countries",layout:{visibility:"visible"},paint:{"fill-color":"#da8313","fill-opacity":.4}});case 5:return t.next=7,this.$refs.theMap.map.on("mouseenter","countries-layer",(function(){i.$refs.theMap.map.getCanvas().style.cursor="pointer"}));case 7:return t.next=9,this.$refs.theMap.map.on("mouseleave","countries-layer",(function(){i.$refs.theMap.map.getCanvas().style.cursor=""}));case 9:return t.next=11,this.$refs.theMap.map.on("click","countries-layer",(function(t){i.openCountryModalLayer(t.features[0].properties)}));case 11:this.toggleShowCities();case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},computed:{citiesArray:function(){return this.showCities?this.cities:[]}}},Te=Pe,Ne=Object(Nt["a"])(Te,he,ve,!1,null,"6d507a14",null),Oe=Ne.exports,Re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"unlocated-list"},[i("a",{staticClass:"has-text-light close-list",on:{click:t.closePanel}},[i("i",{staticClass:"fas fa-times"})]),t.transitionToInitiative?i("div",{staticClass:"has-text-centered"},[i("i",{staticClass:"fas fa-spinner fa-spin fa-2x"}),i("h1",{staticClass:"title is-3 has-text-primary animated fadeInLeft"},[t._v("Loading...")]),i("h1",{staticClass:"subtitle is-6 animated fadeInLeft delay-1s"},[t._v("Taking you to the initiative")])]):i("div",{staticClass:"the-list"},[i("h1",{staticClass:"title is-3 has-text-primary animated fadeInLeft"},[t._v("Initiatives without city")]),i("h1",{staticClass:"subtitle is-6 animated fadeInLeft delay-1s"},[t._v("They deserve a spot too!")]),i("div",{staticClass:"list-wrapper"},[i("ul",[t._l(t.initiatives,(function(e){return i("li",{key:e.id,staticClass:"initiative-el",on:{click:function(i){return t.goToInitiative(e.id)}}},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-content"},[t._v(" "+t._s(e.name)+" ")]),t._m(0,!0)])])})),t.showList?i("infinite-loading",{on:{infinite:t.infiniteHandler}},[i("div",{staticClass:"section",attrs:{slot:"no-more"},slot:"no-more"},[i("p",[i("i",{staticClass:"far fa-surprise fa-2x"})]),i("p",[t._v("End of the list!")])]),i("div",{attrs:{slot:"no-results"},slot:"no-results"},[i("p",[i("i",{staticClass:"far fa-frown fa-2x"})]),i("p",[t._v("Nothing here")])])]):t._e()],2)])])])},Ee=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"media-right"},[i("i",{staticClass:"fas fa-angle-double-right has-text-primary"})])}],Se=i("2909"),Fe=i("e166"),Me=i.n(Fe),je=i("5118"),ze={components:{InfiniteLoading:Me.a},data:function(){return{isFetching:!1,initiatives:[],page:0,showList:!1,transitionToInitiative:!1}},methods:{getInitiatives:function(){this.isFetching=!0},goToInitiative:function(t){this.transitionToInitiative=!0,this.$router.push({name:"initiative",params:{id:t}})},startPanel:function(){this.page=0,this.initiatives=[],this.showList=!0},closePanel:function(){var t=this;this.page=0,this.$emit("close"),Object(je["setTimeout"])((function(){t.showList=!1,t.initiatives=[]}),1e3)},infiniteHandler:function(t){var e=this;this.isFetching=!0,this.$http.get("/v1/initiatives",{params:{offset:20*this.page,city_id:-1,size:20}}).then((function(i){var a,s=i.data;s.data.length?(e.page+=1,(a=e.initiatives).push.apply(a,Object(Se["a"])(s.data)),e.isFetching=!1,t.loaded()):t.complete()}))}}},De=ze,Ue=(i("6e40"),Object(Nt["a"])(De,Re,Ee,!1,null,"6e92f391",null)),Ye=Ue.exports,Ve={components:{InitiativeMap:Oe,Slideout:pe.a,InitiativesNotLocated:Ye},data:function(){return{mapLoaded:!0,fetchingCities:!0,cities:null,queryCity:"",selectedCity:null,mapReady:!1,countriesFetched:!1}},created:function(){this.getCities()},methods:{getCities:function(){var t=this;this.$http.get("/v1/cities").then((function(e){t.cities=e.data.data,t.fetchingCities=!1}))},selectCity:function(t){null!=t&&(this.selectedCity=t,this.$refs.initiativeMap.flyTo(t.space.point.coordinates))},fetchCountries:function(){var t=this;this.countriesFetched||(this.startLoading(),this.$http.get("/v1/countries?having=initiatives").then((function(e){t.countriesFetched=!0,t.prepareCountryGeoJson(e.data.data)})).finally((function(){t.stopLoading()})))},prepareCountryGeoJson:function(t){var e={type:"geojson",data:{type:"FeatureCollection",features:[]}};t.forEach((function(t){var i={type:"Feature",id:"".concat(t.code_3),properties:{countryId:t.id,name:t.name,initiatives:t.initiatives_count}};switch(t.space.type){case"Polygon":i.geometry=t.space.polygon;break;case"MultiPolygon":i.geometry=t.space.multi_polygon;break}e.data.features.push(i)})),this.$refs.initiativeMap.drawCountryGeoJson(e)},randomDesination:function(){var t=null;do{t=this.cities[Math.floor(Math.random()*this.cities.length)]}while(t.name===(this.selectedCity&&this.selectedCity.name));this.queryCity=t.name,this.selectedCity=t,this.$refs.initiativeMap.flyTo(t.space.point.coordinates)},openUnlocated:function(){this.$refs.initiativesNotLocatedSlider.slideout.toggle()},handleOpenUnlocated:function(){},handleCloseUnlocated:function(){},openSlider:function(){this.$refs.initiativesNotLocated.startPanel()},closeSlider:function(){this.$refs.initiativesNotLocatedSlider.slideout.close()},changeToggleView:function(t){console.log(t),1==t?this.countriesFetched?this.$refs.initiativeMap.toggleCountriesVisibility():this.fetchCountries():this.$refs.initiativeMap.toggleCountriesVisibility()}},computed:{placeholderInput:function(){return this.fetchingCities?"Fetching cities, hold on!":this.mapReady?"Where do you want to flight today? ✈":"Preparing your flight.. get ready!"},disableInput:function(){return this.fetchingCities||!this.mapReady},filteredCities:function(){var t=this;return this.cities?this.cities.filter((function(e){return e.name.toString().toLowerCase().indexOf(t.queryCity.toLowerCase())>=0})):[]}}},Be=Ve,He=(i("ab00"),Object(Nt["a"])(Be,ue,me,!1,null,"b75c5d82",null)),We=He.exports,Ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"hero is-fullheight is-dark",attrs:{id:"auth"}},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-4"},[i("router-link",{attrs:{to:{name:"home"}}},[i("img",{staticClass:"logo-v image is-centered",attrs:{src:"/iso-cn.svg",alt:"Creating Networks Logo"}})]),i("router-view"),i("br"),i("p",{staticClass:"has-text-centered"},[i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"home"}}},[t._v("Go back")])],1)],1)])])])])},Qe=[],Je=(i("3716"),{}),Ke=Object(Nt["a"])(Je,Ge,Qe,!1,null,null,null),Ze=Ke.exports,Xe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"has-text-centered"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"},{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{required:true,email:true}"}],staticClass:"input is-medium has-text-centered",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit.apply(null,arguments)},input:function(e){e.target.composing||(t.email=e.target.value)}}}),t.errors.has("email")?i("span",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],staticClass:"input is-medium has-text-centered",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit.apply(null,arguments)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.errors.has("password")?i("span",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("password")))]):t._e()])]),i("br"),i("div",{staticClass:"field"},[i("div",{staticClass:"control has-text-centered"},[i("a",{staticClass:"is-size-4 has-text-primary",on:{click:t.submit}},[t._v(" Log in   "),i("i",{staticClass:"fas fa-sign-in-alt fa-lg"})])])]),i("br"),i("p",[t._v(" Are you new? "),i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"signup"}}},[t._v("Sign up")])],1),i("p",[t._v(" Forgot your password? "),i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"recoverRequest"}}},[t._v("Recover")])],1)])},ti=[],ei={data:function(){return{email:null,password:null}},methods:{getCredentials:function(){var t={};return t.username=this.email,t.password=this.password,t},submit:function(){var t=this;this.$validator.validateAll().then((function(e){if(!e)return t.$toast.open({message:t.$t("globals.errors.formNotValid"),type:"is-danger"}),!1;t.startLoading(),t.$http.post("/v1/tokens",null,{auth:t.getCredentials()}).then((function(e){console.log(e),t.$toast.open("Welcome back!"),t.$store.dispatch("login",e.data),t.$router.push({name:"home"})})).finally((function(){t.stopLoading()}))}))}}},ii=ei,ai=Object(Nt["a"])(ii,Xe,ti,!1,null,null,null),si=ai.exports,ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.response.ok?i("section",[i("h1",{staticClass:"title animated fadeInUp is-4 has-text-centered"},[t._v(" "+t._s(t.$t("auth.signUp.response.title")))]),i("div",{staticClass:"box is-light has-text-centered"},[t._m(0),i("p",{staticClass:"has-text-black"},[t._v(t._s(t.$t("auth.signUp.response.notification")))])]),i("div",{staticClass:"content has-text-centered"},[i("p",[t._v(t._s(t.$t("auth.signUp.response.instruction")))])])]):i("section",{staticClass:"has-text-centered"},[i("p",[t._v(" "+t._s(t.$t("auth.signUp.welcome"))+" ")]),i("br"),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"},{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{required:true, email:true}"}],staticClass:"input is-medium has-text-centered",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t.errors.has("email")?i("span",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("vue-recaptcha",{attrs:{sitekey:t.siteKey},on:{verify:t.catchRecaptcha,expired:function(e){t.recaptcha=null}}})],1)]),i("br"),i("div",{staticClass:"field"},[i("div",{staticClass:"control has-text-centered"},[i("a",{staticClass:"is-size-4 has-text-primary",attrs:{disabled:!t.recaptcha},on:{click:t.submit}},[t._v(" "+t._s(t.$t("auth.signUp.actionButton"))+"  "),i("i",{staticClass:"fas fa-user-plus fa-lg"})])])]),i("br"),i("p",[t._v(" "+t._s(t.$t("auth.signUp.goBack[0]"))+" "),i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"login"}}},[t._v(t._s(t.$t("auth.signUp.goBack[1]")))])],1)])},oi=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"animated heartBeat delay-1s has-text-black"},[i("i",{staticClass:"fas fa-info-circle fa-lg"})])}],ri=i("e096"),li={components:{VueRecaptcha:ri["a"]},data:function(){return{email:null,recaptcha:null,response:{ok:!1}}},methods:{catchRecaptcha:function(t){this.recaptcha=t},getPayload:function(){var t={};t.email=this.email,t.locale=this.currentLanguage;var e=this.recaptcha;return{data:t,recaptcha:e}},submit:function(){var t=this;this.$validator.validateAll().then((function(e){if(!e)return t.$toast.open({message:t.$t("globals.formNotValid"),type:"is-danger"}),!1;t.startLoading(),t.$http.post("/v1/pending-users",t.getPayload()).then((function(){t.response.ok=!0})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))}))}},computed:{siteKey:function(){return"6LdfYqQUAAAAAD_L0I1FAHjCRBvm7AhlAaijZO6O"}}},ci=li,di=Object(Nt["a"])(ci,ni,oi,!1,null,null,null),ui=di.exports,mi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.response.ok?i("section",[i("h1",{staticClass:"title animated fadeInUp is-4 has-text-centered"},[t._v(" "+t._s(t.$t("auth.completeSignUp.response.title")))]),i("div",{staticClass:"box is-light has-text-centered"},[t._m(0),i("p",{staticClass:"has-text-black"},[t._v(t._s(t.$t("auth.completeSignUp.response.notification")))])]),i("div",{staticClass:"content has-text-centered"},[i("p",[t._v(t._s(t.$t("auth.completeSignUp.response.instruction")))]),i("p",[i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"login"}}},[i("i",{staticClass:"fas fa-sign-in-alt"}),t._v(" "+t._s(t.$t("auth.completeSignUp.response.login")))])],1)])]):i("section",{staticClass:"has-text-centered"},[i("p",[t._v(t._s(t.$t("auth.completeSignUp.description[0]")))]),i("p",[t._v(t._s(t.$t("auth.completeSignUp.description[1]")))]),i("br"),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.names,expression:"names"},{name:"validate",rawName:"v-validate",value:{required:!0,alpha_spaces:!0},expression:"{required: true, alpha_spaces: true}"}],staticClass:"input has-text-centered",attrs:{type:"text",name:"names",placeholder:t.$t("auth.completeSignUp.placeholder.names")},domProps:{value:t.names},on:{input:function(e){e.target.composing||(t.names=e.target.value)}}}),t.errors.has("names")?i("span",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("names")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.surnames,expression:"surnames"},{name:"validate",rawName:"v-validate",value:{required:!0,alpha_spaces:!0},expression:"{required: true, alpha_spaces: true}"}],staticClass:"input has-text-centered",attrs:{type:"text",name:"surnames",placeholder:t.$t("auth.completeSignUp.placeholder.surnames")},domProps:{value:t.surnames},on:{input:function(e){e.target.composing||(t.surnames=e.target.value)}}}),t.errors.has("surnames")?i("span",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("surnames")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"validate",rawName:"v-validate",value:{required:!0,min:6},expression:"{required: true, min:6}"}],ref:"password",staticClass:"input has-text-centered",attrs:{type:"password",name:"password",placeholder:t.$t("auth.completeSignUp.placeholder.password")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.errors.has("password")?i("span",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("password")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"},{name:"validate",rawName:"v-validate",value:{required:!0,confirmed:"password"},expression:"{required: true, confirmed: 'password'}"}],staticClass:"input has-text-centered",attrs:{type:"password",name:"confirmPassword",placeholder:t.$t("auth.completeSignUp.placeholder.confirmPassword")},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}}),t.errors.has("confirmPassword")?i("span",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("confirmPassword")))]):t._e()])]),i("br"),i("div",{staticClass:"field"},[i("div",{staticClass:"control has-text-centered "},[i("a",{staticClass:"is-size-4 has-text-primary",on:{click:t.submit}},[t._v(" "+t._s(t.$t("auth.completeSignUp.actionButton"))+" ")])])])])},fi=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"animated heartBeat delay-1s has-text-success"},[i("i",{staticClass:"fas fa-check-circle fa-lg"})])}],pi={props:{token:{required:!0,type:String}},data:function(){return{names:null,surnames:null,password:null,confirmPassword:null,response:{ok:!1}}},methods:{getPayload:function(){var t={},e={};return t.names=this.names,t.surnames=this.surnames,t.password=this.password,e.token=this.token,{data:t,options:e}},submit:function(){var t=this;this.$validator.validateAll().then((function(e){if(!e)return t.$toast.open({message:t.$t("globals.formNotValid"),type:"is-danger"}),!1;t.startLoading(),t.$http.post("/v1/users",t.getPayload()).then((function(e){console.log(e),t.response.ok=!0})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))}))}}},hi=pi,vi=Object(Nt["a"])(hi,mi,fi,!1,null,null,null),gi=vi.exports,_i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.response.ok?i("section",[i("h1",{staticClass:"title animated fadeInUp is-4 has-text-centered"},[t._v(" "+t._s(t.$t("auth.completeRecover.response.title")))]),i("div",{staticClass:"box is-light has-text-centered"},[t._m(0),i("p",{staticClass:"has-text-black"},[t._v(t._s(t.$t("auth.completeRecover.response.notification")))])]),i("div",{staticClass:"content has-text-centered"},[i("p",[t._v(t._s(t.$t("auth.completeRecover.response.instruction")))]),i("p",[i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"login"}}},[i("i",{staticClass:"fas fa-sign-in-alt"}),t._v(" "+t._s(t.$t("auth.completeRecover.response.login")))])],1)])]):i("section",{staticClass:"has-text-centered"},[i("p",[t._v(t._s(t.$t("auth.completeRecover.description[0]")))]),i("p",[t._v(t._s(t.$t("auth.completeRecover.description[1]")))]),i("br"),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"validate",rawName:"v-validate",value:{required:!0,min:6},expression:"{required: true, min:6}"}],ref:"password",staticClass:"input has-text-centered",attrs:{type:"password",name:"password",placeholder:t.$t("auth.completeRecover.placeholder.password")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.errors.has("password")?i("span",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("password")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"},{name:"validate",rawName:"v-validate",value:{required:!0,confirmed:"password"},expression:"{required: true, confirmed: 'password'}"}],staticClass:"input has-text-centered",attrs:{type:"password",name:"confirmPassword",placeholder:t.$t("auth.completeRecover.placeholder.confirmPassword")},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}}),t.errors.has("confirmPassword")?i("span",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("confirmPassword")))]):t._e()])]),i("br"),i("div",{staticClass:"field"},[i("div",{staticClass:"control has-text-centered "},[i("a",{staticClass:"is-size-4 has-text-primary",on:{click:t.submit}},[t._v(" "+t._s(t.$t("auth.completeRecover.actionButton"))+" ")])])])])},bi=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"animated heartBeat delay-1s has-text-success"},[i("i",{staticClass:"fas fa-check-circle fa-lg"})])}],Ci={props:{userId:{required:!0,type:String},token:{required:!0,type:String}},data:function(){return{password:null,confirmPassword:null,response:{ok:!1}}},methods:{getPayload:function(){var t={},e={};return t.password=this.password,e.token=this.token,{data:t,options:e}},submit:function(){var t=this;this.$validator.validateAll().then((function(e){if(!e)return t.$toast.open({message:t.$t("globals.formNotValid"),type:"is-danger"}),!1;t.startLoading(),t.$http.put("/v1/users/".concat(t.userId,"/password"),t.getPayload()).then((function(e){console.log(e),t.response.ok=!0})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))}))}}},yi=Ci,wi=Object(Nt["a"])(yi,_i,bi,!1,null,null,null),ki=wi.exports,$i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.response.ok?i("section",[i("h1",{staticClass:"title animated fadeInUp is-4 has-text-centered"},[t._v(" "+t._s(t.$t("auth.recover.response.title")))]),i("div",{staticClass:"box is-light has-text-centered"},[t._m(0),i("p",{staticClass:"has-text-black"},[t._v(t._s(t.$t("auth.recover.response.notification")))])]),i("div",{staticClass:"content has-text-centered"},[i("p",[t._v(t._s(t.$t("auth.recover.response.instruction")))]),i("p",[i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"home"}}},[i("i",{staticClass:"fas fa-arrow-left"}),t._v(" "+t._s(t.$t("auth.recover.response.goHome")))])],1)])]):i("section",{staticClass:"has-text-centered"},[i("p",[t._v(" "+t._s(t.$t("auth.recover.welcome"))+" ")]),i("br"),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"},{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{required:true, email:true}"}],staticClass:"input is-medium has-text-centered",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t.errors.has("email")?i("span",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("vue-recaptcha",{attrs:{sitekey:t.siteKey},on:{verify:t.catchRecaptcha,expired:function(e){t.recaptcha=null}}})],1)]),i("br"),i("div",{staticClass:"field"},[i("div",{staticClass:"control has-text-centered"},[i("a",{staticClass:"is-size-4 has-text-primary",attrs:{disabled:!t.recaptcha},on:{click:t.submit}},[t._v(" "+t._s(t.$t("auth.recover.actionButton"))+"  "),i("i",{staticClass:"fas fa-paper-plane fa-lg"})])])]),i("br"),i("p",[t._v(" "+t._s(t.$t("auth.recover.goBack[0]"))+" "),i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"login"}}},[t._v(t._s(t.$t("auth.recover.goBack[1]")))])],1)])},xi=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"animated heartBeat delay-1s has-text-black"},[i("i",{staticClass:"fas fa-info-circle fa-lg"})])}],Ii={components:{VueRecaptcha:ri["a"]},data:function(){return{email:null,recaptcha:null,response:{ok:!1}}},methods:{catchRecaptcha:function(t){this.recaptcha=t},getPayload:function(){var t={};t.email=this.email;var e=this.recaptcha;return{data:t,recaptcha:e}},submit:function(){var t=this;this.$validator.validateAll().then((function(e){if(!e)return t.$toast.open({message:t.$t("globals.formNotValid"),type:"is-danger"}),!1;t.startLoading(),t.$http.post("/v1/reset-tokens",t.getPayload()).then((function(){t.response.ok=!0})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))}))}},computed:{siteKey:function(){return"6LdfYqQUAAAAAD_L0I1FAHjCRBvm7AhlAaijZO6O"}}},Ai=Ii,Li=Object(Nt["a"])(Ai,$i,xi,!1,null,null,null),qi=Li.exports,Pi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"hero is-dark is-fullheight",attrs:{id:"hero"}},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("div",{staticClass:"section"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-8"},[i("div",{staticClass:"the-head"},[i("h1",{staticClass:"title is-1 is-size-3-touch has-text-centered has-text-primary"},[i("router-link",{attrs:{to:{name:"home"}}},[i("img",{staticClass:"image logo",attrs:{src:"/iso-cn.svg",alt:""}})]),t._v(" "+t._s(t.$t("forms.user.addInitiative.title"))+" ")],1)]),i("transition",{attrs:{name:"component-fade",mode:"out-in"}},[t.step>=0&&t.step<=9?i("Step"+t.step,{tag:"component",attrs:{model:t.model},on:{forward:t.forward,backward:t.backward,goTo:t.goTo,"update:model":function(e){t.model=e}}}):10==t.step?i("Sending",{attrs:{model:t.model},on:{forward:t.forward,backward:t.backward,goTo:t.goTo,"update:model":function(e){t.model=e}}}):11==t.step?i("Confirmation",{attrs:{model:t.model},on:{forward:t.forward,backward:t.backward,goTo:t.goTo,"update:model":function(e){t.model=e}}}):-1==t.step?i("Fail",{on:{goTo:t.goTo}}):t._e()],1)],1)])]),i("br")])]),i("vue-particles",{attrs:{color:"FFFFFF",hoverEffect:!1,shapeType:"circle",clickEffect:!1}})],1)])},Ti=[],Ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"title is-1 has-text-centered"},[t._v(t._s(t.$t("forms.user.addInitiative.step0.title")))]),i("div",{staticClass:"content has-text-centered"},[t._l(t.$t("forms.user.addInitiative.step0.text"),(function(e,a){return i("p",{key:a},[t._v(t._s(e))])})),i("p",[i("button",{staticClass:"button is-primary is-outlined is-large is-rounded",on:{click:function(e){return t.$emit("forward")}}},[t._v(" "+t._s(t.$t("forms.user.addInitiative.step0.start"))+" ")])])],2)])},Oi=[],Ri={},Ei=Object(Nt["a"])(Ri,Ni,Oi,!1,null,null,null),Si=Ei.exports,Fi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"content"},[i("p",{staticClass:"has-text-centered is-italic"},[t._v(t._s(t.$t("forms.user.addInitiative.step1.conversation[0]")))])]),i("h1",{staticClass:"subtitle is-5 has-text-centered"},[i("span",{staticClass:"is-500 has-text-primary"},[t._v("1.")]),t._v(" "+t._s(t.$t("forms.user.addInitiative.step1.fields[0].question"))+" ")]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],staticClass:"input is-medium has-text-centered",attrs:{type:"text","data-vv-as":t.$t("forms.user.addInitiative.step1.fields[0].fieldName"),name:"initiative",placeholder:t.$t("forms.user.addInitiative.step1.fields[0].placeholder")},domProps:{value:t.model.name},on:{input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}}),t.errors.has("initiative")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("initiative")))]):t._e()])]),i("br"),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button is-rounded is-white is-outlined is-medium",on:{click:function(e){return t.$emit("backward")}}},[i("i",{staticClass:"fas fa-arrow-left"})]),i("button",{staticClass:"button is-rounded is-primary is-outlined is-medium",on:{click:t.goForward}},[i("i",{staticClass:"fas fa-arrow-right"})])])])},Mi=[],ji={props:{model:{type:Object,required:!0}},methods:{goForward:function(){var t=this;this.$validator.validateAll().then((function(e){e?t.$emit("forward"):t.$toast.open({message:t.$t("globals.errors.formNotValid"),type:"is-warning",position:"is-bottom"})}))}}},zi=ji,Di=Object(Nt["a"])(zi,Fi,Mi,!1,null,null,null),Ui=Di.exports,Yi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"content"},[i("p",{staticClass:"has-text-centered is-italic"},[t._v(t._s(t.$t("forms.user.addInitiative.step2.conversation[0]",{initiativeName:t.model.name})))]),i("p",{staticClass:"has-text-centered is-italic"},[t._v(t._s(t.$t("forms.user.addInitiative.step2.conversation[1]")))])]),i("h1",{staticClass:"subtitle is-5 has-text-centered"},[i("span",{staticClass:"is-500 has-text-primary"},[t._v("2.")]),t._v("  "+t._s(t.$t("forms.user.addInitiative.step2.fields[0].question"))+" ")]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.description,expression:"model.description"},{name:"validate",rawName:"v-validate",value:{required:!0,max:500},expression:"{required:true, max:500 }"}],staticClass:"textarea",attrs:{name:"description",rows:"6","data-vv-as":t.$t("forms.user.addInitiative.step2.fields[0].fieldName"),placeholder:t.$t("forms.user.addInitiative.step2.fields[0].placeholder")},domProps:{value:t.model.description},on:{input:function(e){e.target.composing||t.$set(t.model,"description",e.target.value)}}}),t.errors.has("description")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("description")))]):t._e()])]),i("br"),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button is-rounded is-white is-outlined is-medium",on:{click:function(e){return t.$emit("backward")}}},[i("i",{staticClass:"fas fa-arrow-left"})]),i("button",{staticClass:"button is-rounded is-primary is-outlined is-medium",on:{click:t.goForward}},[i("i",{staticClass:"fas fa-arrow-right"})])])])},Vi=[],Bi={props:{model:{type:Object,required:!0}},methods:{goForward:function(){var t=this;this.$validator.validateAll().then((function(e){e?t.$emit("forward"):t.$toast.open({message:t.$t("globals.errors.formNotValid"),type:"is-warning",position:"is-bottom"})}))}}},Hi=Bi,Wi=Object(Nt["a"])(Hi,Yi,Vi,!1,null,null,null),Gi=Wi.exports,Qi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"content"},t._l(t.$t("forms.user.addInitiative.step3.conversation"),(function(e,a){return i("p",{key:a,staticClass:"has-text-centered is-italic"},[t._v(t._s(e))])})),0),i("h1",{staticClass:"subtitle is-5 has-text-centered"},[i("span",{staticClass:"is-500 has-text-primary"},[t._v("3.")]),t._v("  "+t._s(t.$t("forms.user.addInitiative.step3.fields[0].question"))+" ")]),i("div",{staticClass:"columns is-centered",attrs:{id:"selectLocationNewInitiative"}},[i("div",{staticClass:"column is-8"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("b-autocomplete",{attrs:{rounded:"",data:t.filteredRegions,placeholder:t.placeholderRegions,"open-on-focus":!0,loading:t.fetchingRegions,icon:"search",size:"is-medium",field:"name"},on:{select:function(e){return t.selectRegion(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}]),model:{value:t.queryRegion,callback:function(e){t.queryRegion=e},expression:"queryRegion"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("forms.user.addInitiative.step3.noResults")))])],2)],1)]),t.selectedRegion?i("div",{staticClass:"field animated fadeIn"},[i("div",{staticClass:"control"},[i("b-autocomplete",{attrs:{rounded:"",data:t.filteredCountries,placeholder:t.placeholderCountries,"open-on-focus":!0,loading:t.fetchingCountries,icon:"search",size:"is-medium",field:"name"},on:{select:function(e){return t.selectCountry(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}],null,!1,1602146227),model:{value:t.queryCountry,callback:function(e){t.queryCountry=e},expression:"queryCountry"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("forms.user.addInitiative.step3.noResults")))])],2)],1)]):t._e(),t.selectedCountry&&!t.notInACity?i("div",{staticClass:"field animated fadeIn"},[i("div",{staticClass:"control"},[i("b-autocomplete",{attrs:{rounded:"",data:t.dataCities,placeholder:t.placeholderCities,loading:t.fetchingCities,icon:"search",size:"is-medium",field:"name"},on:{typing:t.getCityAsync,select:function(e){return t.selectCity(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}],null,!1,1602146227),model:{value:t.queryCity,callback:function(e){t.queryCity=e},expression:"queryCity"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("forms.user.addInitiative.step3.noResults")))]),i("template",{slot:"footer"},[i("a",{staticClass:"has-text-primary",on:{click:t.openModalAddCity}},[t._v(t._s(t.$t("forms.user.addInitiative.step3.cantFindCity")))])])],2)],1)]):t._e(),t.notInACity?i("div",{staticClass:"notification is-dark animated fadeIn"},[i("span",{staticClass:"delete",on:{click:t.isLocatedInACity}}),i("i",{staticClass:"fas fa-info"}),t._v("    "+t._s(t.$t("forms.user.addInitiative.step3.notificationNoCity"))+" ")]):t._e()])]),i("br"),i("div",{staticClass:"content"},[i("p",{staticClass:"has-text-centered"},[i("a",{staticClass:"has-text-primary",on:{click:function(e){return t.$emit("goTo",5)}}},[i("i",{staticClass:"fas fa-share"}),t._v("  "+t._s(t.$t("forms.user.addInitiative.step3.skip"))+" ")])]),i("p",{staticClass:"has-text-centered"},[i("a",{staticClass:"has-text-primary",on:{click:t.skip}},[i("i",{staticClass:"fas fa-info-circle"}),t._v("  "+t._s(t.$t("forms.user.addInitiative.step3.cantLocate"))+" ")])])]),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button is-rounded is-white is-outlined is-medium",on:{click:function(e){return t.$emit("backward")}}},[i("i",{staticClass:"fas fa-arrow-left"})]),i("button",{staticClass:"button is-rounded is-primary is-outlined is-medium",on:{click:t.goForward}},[i("i",{staticClass:"fas fa-arrow-right"})])])])},Ji=[],Ki=i("b047"),Zi=i.n(Ki),Xi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-card",staticStyle:{width:"100%"}},[i("section",{staticClass:"modal-card-body has-text-centered"},[i("div",{staticClass:"content"},[i("h1",{staticClass:"title is-3"},[t._v("This feature will be available soon")]),i("p",[t._v("Sorry! We will add this feature in a future update, stay tuned!")]),t._m(0),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button is-outlined is-dark",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Close")])])])])])},ta=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("Meanwhile, you can contact us by filling our support form by going to "),i("a",{attrs:{href:"https://docs.google.com/forms/d/e/1FAIpQLSf02YyfE8ddsf5B0u2wSF_ZggEYQi_-U0fQQcSaqfdtKmpWng/viewform",target:"_blank",title:"Support and feedback form"}},[t._v("to this link")])])}],ea={},ia=Object(Nt["a"])(ea,Xi,ta,!1,null,null,null),aa=ia.exports,sa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-card",staticStyle:{width:"100%"}},[i("section",{staticClass:"modal-card-body has-text-centered"},[i("div",{staticClass:"content"},[i("h1",{staticClass:"title is-3"},[t._v("Before continuing...")]),i("p",[t._v("If you weren't able to find your city, we are sorry about that :(")]),t._m(0),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button is-outlined is-dark",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Close")]),i("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:t.nextStep}},[t._v("Next step")])])])])])},na=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("You can contact us to add your location by filling our support form by going to "),i("a",{attrs:{href:"https://docs.google.com/forms/d/e/1FAIpQLSf02YyfE8ddsf5B0u2wSF_ZggEYQi_-U0fQQcSaqfdtKmpWng/viewform",target:"_blank",title:"Support and feedback form"}},[t._v("to this link")])])}],oa={methods:{nextStep:function(){this.$emit("continue"),this.$parent.close()}}},ra=oa,la=(i("e847"),Object(Nt["a"])(ra,sa,na,!1,null,"588bcb53",null)),ca=la.exports,da={props:{model:{type:Object,required:!0}},data:function(){return{queryRegion:"",queryCountry:"",queryCity:"",dataRegions:[],dataCountries:[],dataCities:[],fetchingRegions:!0,fetchingCountries:!1,fetchingCities:!1,selectedRegion:null,selectedCountry:null,selectedCity:null,notInACity:!1}},created:function(){this.fetchRegions()},methods:{goForward:function(){var t=this;this.$validator.validateAll().then((function(e){e?(t.model.selectedRegion=t.selectedRegion,t.model.selectedCountry=t.selectedCountry,t.model.selectedCity=t.selectedCity,t.$emit("forward")):t.$toast.open({message:t.$t("globals.errors.formNotValid"),type:"is-warning",position:"is-bottom"})}))},fetchRegions:function(){var t=this;this.$http.get("/v1/regions?size=100").then((function(e){t.dataRegions=e.data.data})).finally((function(){t.fetchingRegions=!1}))},selectRegion:function(t){var e=this;this.fetchingCountries=!0,this.selectedRegion=t,this.queryCountry="",this.queryCity="",this.selectedCountry=null,this.selectedCity=null,this.$http.get("/v1/countries?size=100&region_id=".concat(t.id)).then((function(t){e.dataCountries=t.data.data})).finally((function(){e.fetchingCountries=!1}))},selectCountry:function(t){null!=t&&(this.selectedCountry=t,this.queryCity="",this.selectedCity=null)},getCityAsync:Zi()((function(t){var e=this;t.length?(this.fetchingCities=!0,this.$http.get("/v1/registered-cities?size=100&country_id=".concat(this.selectedCountry.id,"&s=").concat(t)).then((function(t){e.dataCities=t.data.data})).finally((function(){e.fetchingCities=!1}))):this.dataCities=[]}),500),skip:function(){var t=this;this.$modal.open({parent:this,component:ca,hasModalCard:!0,events:{continue:function(){t.$emit("goTo",5)}}})},selectCity:function(t){null!==t&&(this.selectedCity=t)},notLocatedInACity:function(){this.notInACity=!0},isLocatedInACity:function(){this.selectedCity=null,this.notInACity=!1},openModalAddCity:function(){this.$modal.open({parent:this,component:aa,hasModalCard:!0})}},computed:{placeholderRegions:function(){return this.fetchingRegions?this.$t("forms.user.addInitiative.step3.fetchingRegions"):this.$t("forms.user.addInitiative.step3.startTypingRegion")},placeholderCountries:function(){return this.fetchingCountries?this.$t("forms.user.addInitiative.step3.fetchingCountries"):this.$t("forms.user.addInitiative.step3.startTypingCountry")},placeholderCities:function(){return this.fetchingCities?this.$t("forms.user.addInitiative.step3.fetchingCities"):this.$t("forms.user.addInitiative.step3.startTypingCity")},filteredRegions:function(){var t=this;return this.dataRegions.filter((function(e){return e.name.toString().toLowerCase().indexOf(t.queryRegion.toLowerCase())>=0}))},filteredCountries:function(){var t=this;return this.dataCountries.filter((function(e){return e.name.toString().toLowerCase().indexOf(t.queryCountry.toLowerCase())>=0}))}}},ua=da,ma=(i("0dc4"),Object(Nt["a"])(ua,Qi,Ji,!1,null,null,null)),fa=ma.exports,pa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return this.model.selectedCity?i("div",[i("div",{staticClass:"content"},[i("p",{staticClass:"has-text-centered is-italic"},[t._v(t._s(t.$t("forms.user.addInitiative.step4.conversation[0]",{cityName:t.model.selectedCity.name})))]),i("p",{staticClass:"has-text-centered is-italic"},[t._v(t._s(t.$t("forms.user.addInitiative.step4.conversation[1]")))]),i("p",{staticClass:"has-text-centered is-italic"},[t._v(t._s(t.$t("forms.user.addInitiative.step4.conversation[2]")))])]),i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-8"},[i("div",{staticClass:"map-container"},[i("Map",{attrs:{name:t.model.name,description:t.model.description,coordinates:t.model.selectedCity.point.coordinates,anchor:"bottom"}})],1)])]),i("br"),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button is-rounded is-white is-outlined is-medium",on:{click:function(e){return t.$emit("backward")}}},[i("i",{staticClass:"fas fa-arrow-left"})]),i("button",{staticClass:"button is-rounded is-primary is-outlined is-medium",on:{click:t.goForward}},[i("i",{staticClass:"fas fa-arrow-right"})])])]):t._e()},ha=[],va=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"map"}},[i("MglMap",{staticClass:"my-mapbox",attrs:{accessToken:t.accessToken,zoom:7,center:t.marker,mapStyle:t.mapStyle},on:{"update:mapStyle":function(e){t.mapStyle=e},"update:map-style":function(e){t.mapStyle=e},load:t.onMapLoaded}},[i("MglMarker",{attrs:{coordinates:t.marker}},[i("MglPopup",[i("div",[i("p",{staticClass:"title is-6 is-800 has-text-dark is-marginless"},[t._v(t._s(t.name))]),i("p",{staticClass:"has-text-dark is-size-7"},[t._v(t._s(t.fixedDescription))])])])],1)],1)],1)},ga=[],_a=(i("a4d3"),i("e01a"),{components:{MglMap:ge["a"],MglMarker:ge["b"],MglPopup:ge["d"]},props:["name","description","coordinates"],data:function(){return{accessToken:"pk.eyJ1IjoiZ3VpbGxlY3JvIiwiYSI6ImNqd29pMWx3ZzB2aHEzeWxuMzA0bnJ3NnEifQ.7ds71K8xccQegYlKgT-rwA",mapStyle:"mapbox://styles/mapbox/dark-v9",marker:this.coordinates}},methods:{onMapLoaded:function(){console.info("Map has loaded")}},computed:{fixedDescription:function(){return this.description.length>200?"".concat(this.description.slice(0,200),"..."):this.description}}}),ba=_a,Ca=(i("1722"),Object(Nt["a"])(ba,va,ga,!1,null,"1ccb0b0c",null)),ya=Ca.exports,wa={components:{Map:ya},props:{model:{type:Object,required:!0}},data:function(){return{}},created:function(){null==this.model.selectedCity&&this.$emit("forward")},methods:{goForward:function(){this.$emit("forward")}}},ka=wa,$a=Object(Nt["a"])(ka,pa,ha,!1,null,"2f1399bc",null),xa=$a.exports,Ia=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"field"},[i("div",{staticClass:"content"},t._l(t.$t("forms.user.addInitiative.step5.conversation"),(function(e,a){return i("p",{key:a,staticClass:"has-text-centered is-italic"},[t._v(t._s(e))])})),0),i("h1",{staticClass:"subtitle is-5 has-text-centered"},[i("span",{staticClass:"is-500 has-text-primary"},[t._v("4-A.")]),t._v("  "+t._s(t.$t("forms.user.addInitiative.step5.fields[0].question"))+" ")]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.public_data.goals,expression:"model.public_data.goals"},{name:"validate",rawName:"v-validate",value:{required:!0,max:750},expression:"{required:true, max:750}"}],staticClass:"textarea",attrs:{name:"goal",rows:"2","data-vv-as":t.$t("forms.user.addInitiative.step5.fields[0].fieldName"),placeholder:t.$t("forms.user.addInitiative.step5.fields[0].placeholder")},domProps:{value:t.model.public_data.goals},on:{input:function(e){e.target.composing||t.$set(t.model.public_data,"goals",e.target.value)}}}),t.errors.has("goal")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("goal")))]):t._e()])]),i("br"),i("h1",{staticClass:"subtitle is-5 has-text-centered"},[i("span",{staticClass:"is-500 has-text-primary"},[t._v("4-B.")]),t._v("  "+t._s(t.$t("forms.user.addInitiative.step5.fields[1].question"))+" ")]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.public_data.founding_year,expression:"model.public_data.founding_year"},{name:"validate",rawName:"v-validate",value:{required:!0,between:[1900,2020],date_format:"yyyy"},expression:"{required: true, between: [1900,2020], date_format: 'yyyy' }"}],staticClass:"input is-medium has-text-centered",attrs:{type:"text",name:"founding_year","data-vv-as":t.$t("forms.user.addInitiative.step5.fields[1].fieldName"),placeholder:t.$t("forms.user.addInitiative.step5.fields[1].placeholder")},domProps:{value:t.model.public_data.founding_year},on:{input:function(e){e.target.composing||t.$set(t.model.public_data,"founding_year",e.target.value)}}}),t.errors.has("founding_year")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("founding_year")))]):t._e()])]),i("br"),i("h1",{staticClass:"subtitle is-5 has-text-centered"},[i("span",{staticClass:"is-500 has-text-primary"},[t._v("4-C.")]),t._v("  "+t._s(t.$t("forms.user.addInitiative.step5.fields[2].question"))+" ")]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"block has-text-centered"},[i("b-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required:true}"}],attrs:{name:"role",size:"is-medium","native-value":"targetAudience"},model:{value:t.model.public_data.role_of_youth,callback:function(e){t.$set(t.model.public_data,"role_of_youth",e)},expression:"model.public_data.role_of_youth"}},[t._v(t._s(t.$t("forms.user.addInitiative.step5.fields[2].options")["targetAudience"]))]),i("b-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required:true}"}],attrs:{name:"role",size:"is-medium","native-value":"leadership"},model:{value:t.model.public_data.role_of_youth,callback:function(e){t.$set(t.model.public_data,"role_of_youth",e)},expression:"model.public_data.role_of_youth"}},[t._v(t._s(t.$t("forms.user.addInitiative.step5.fields[2].options")["leadership"]))]),i("b-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required:true}"}],attrs:{name:"role",size:"is-medium","native-value":"membership"},model:{value:t.model.public_data.role_of_youth,callback:function(e){t.$set(t.model.public_data,"role_of_youth",e)},expression:"model.public_data.role_of_youth"}},[t._v(t._s(t.$t("forms.user.addInitiative.step5.fields[2].options")["membership"]))])],1),t.errors.has("role")?i("div",{staticClass:"help is-danger has-text-centered"},[t._v(t._s(t.errors.first("role")))]):t._e()]),i("br"),i("h1",{staticClass:"subtitle is-5 has-text-centered"},[i("span",{staticClass:"is-500 has-text-primary"},[t._v("4-D.")]),t._v("  "+t._s(t.$t("forms.user.addInitiative.step5.fields[3].question"))+" ")]),i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-10"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(0),t._m(1),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.public_data.website,expression:"model.public_data.website"},{name:"validate",rawName:"v-validate",value:{required:!1,min:5,max:100,url:!0},expression:"{required: false, min: 5, max:100, url: true }"}],staticClass:"input is-medium has-text-centered",attrs:{type:"text",name:"website","data-vv-as":t.$t("forms.user.addInitiative.step5.fields[3].inputs.website"),placeholder:t.$t("forms.user.addInitiative.optional")},domProps:{value:t.model.public_data.website},on:{input:function(e){e.target.composing||t.$set(t.model.public_data,"website",e.target.value)}}})])]),t.errors.has("website")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("website")))]):t._e(),!t.errors.has("website")&&t.model.public_data.website?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://"+t.model.public_data.website}},[t._v(t._s(t.$t("forms.user.addInitiative.step5.fields[3].labels.test")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(2),t._m(3),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.public_data.facebook,expression:"model.public_data.facebook"},{name:"validate",rawName:"v-validate",value:{required:!1,min:3,max:100},expression:"{required: false, min: 3, max:100 }"}],staticClass:"input is-medium has-text-centered",attrs:{type:"text",name:"facebook","data-vv-as":t.$t("forms.user.addInitiative.step5.fields[3].inputs.facebook"),placeholder:t.$t("forms.user.addInitiative.optional")},domProps:{value:t.model.public_data.facebook},on:{input:function(e){e.target.composing||t.$set(t.model.public_data,"facebook",e.target.value)}}})])]),t.errors.has("facebook")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("facebook")))]):t._e(),!t.errors.has("facebook")&&t.model.public_data.facebook?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://facebook.com/"+t.model.public_data.facebook}},[t._v(t._s(t.$t("forms.user.addInitiative.step5.fields[3].labels.test")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(4),t._m(5),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.public_data.twitter,expression:"model.public_data.twitter"},{name:"validate",rawName:"v-validate",value:{required:!1,min:3,max:100},expression:"{required: false, min: 3, max:100 }"}],staticClass:"input is-medium has-text-centered",attrs:{type:"text",name:"twitter","data-vv-as":t.$t("forms.user.addInitiative.step5.fields[3].inputs.twitter"),placeholder:t.$t("forms.user.addInitiative.optional")},domProps:{value:t.model.public_data.twitter},on:{input:function(e){e.target.composing||t.$set(t.model.public_data,"twitter",e.target.value)}}})])]),t.errors.has("twitter")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("twitter")))]):t._e(),!t.errors.has("twitter")&&t.model.public_data.twitter?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://twitter.com/"+t.model.public_data.twitter}},[t._v(t._s(t.$t("forms.user.addInitiative.step5.fields[3].labels.test")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(6),t._m(7),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.public_data.other_network,expression:"model.public_data.other_network"},{name:"validate",rawName:"v-validate",value:{required:!1,min:5,max:100,url:!0},expression:"{required: false, min: 5, max:100, url: true }"}],staticClass:"input is-medium has-text-centered",attrs:{type:"text",name:"other_network","data-vv-as":t.$t("forms.user.addInitiative.step5.fields[3].inputs.other_network"),placeholder:t.$t("forms.user.addInitiative.step5.fields[3].labels.other_network")},domProps:{value:t.model.public_data.other_network},on:{input:function(e){e.target.composing||t.$set(t.model.public_data,"other_network",e.target.value)}}})])]),t.errors.has("other_network")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("other_network")))]):t._e(),!t.errors.has("other_network")&&t.model.public_data.other_network?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://"+t.model.public_data.other_network}},[t._v(t._s(t.$t("forms.user.addInitiative.step5.fields[3].labels.test")))]):t._e()])])])])])]),i("br"),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button is-rounded is-white is-outlined is-medium",on:{click:function(e){return t.goTo(3)}}},[i("i",{staticClass:"fas fa-arrow-left"})]),i("button",{staticClass:"button is-rounded is-primary is-outlined is-medium",on:{click:t.goForward}},[i("i",{staticClass:"fas fa-arrow-right"})])])])},Aa=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static is-medium"},[i("i",{staticClass:"fas fa-globe fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static is-medium"},[t._v(" https:// ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static is-medium"},[i("i",{staticClass:"fab fa-facebook fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static is-medium"},[t._v(" https://facebook.com/ ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static is-medium"},[i("i",{staticClass:"fab fa-twitter fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static is-medium"},[t._v(" https://twitter.com/ ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static is-medium"},[i("i",{staticClass:"fas fa-asterisk fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static is-medium"},[t._v(" https:// ")])])}],La={props:{model:{type:Object,required:!0}},methods:{goTo:function(t){this.$emit("goTo",t)},goForward:function(){var t=this;this.$validator.validateAll().then((function(e){e?t.$emit("forward"):t.$toast.open({message:t.$t("globals.errors.formNotValid"),type:"is-warning",position:"is-bottom"})}))}}},qa=La,Pa=(i("c835"),Object(Nt["a"])(qa,Ia,Aa,!1,null,null,null)),Ta=Pa.exports,Na=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"content"},t._l(t.$t("forms.user.addInitiative.step6.conversation"),(function(e,a){return i("p",{key:a,staticClass:"has-text-centered is-italic"},[t._v(t._s(e))])})),0),t._m(0),i("div",{staticClass:"columns"},[i("div",{staticClass:"column "},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("b-autocomplete",{attrs:{rounded:"",data:t.filteredRegions,placeholder:t.placeholderRegions,"open-on-focus":!0,loading:t.fetchingRegions,field:"name",size:"is-medium"},on:{select:function(e){return t.selectRegion(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}]),model:{value:t.queryRegion,callback:function(e){t.queryRegion=e},expression:"queryRegion"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.noResults")))])],2)],1)])]),i("div",{staticClass:"column"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("b-autocomplete",{attrs:{rounded:"",data:t.filteredCountries,placeholder:t.placeholderCountries,"open-on-focus":!0,loading:t.fetchingCountries,field:"name",readonly:!t.selectedRegion,disabled:!t.selectedRegion,size:"is-medium"},on:{select:function(e){return t.selectCountry(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}]),model:{value:t.queryCountry,callback:function(e){t.queryCountry=e},expression:"queryCountry"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.noResults")))])],2)],1)])]),i("div",{staticClass:"column is-narrow"},[i("button",{staticClass:"button is-primary is-medium",attrs:{disabled:!t.selectedCountry},on:{click:t.add}},[i("i",{staticClass:"fas fa-plus"}),t._v(" Add ")])])]),t._m(1),t.model.countries&&t.model.countries.length>0?i("b-taglist",{staticClass:"is-centered"},t._l(t.model.countries,(function(e){return i("b-tag",{key:e.id,attrs:{type:"is-primary",size:"is-medium",closable:""},on:{close:function(i){return t.remove(e.id)}}},[t._v(t._s(t.getSpaceLocalization(e)))])})),1):i("p",{staticClass:"is-italic has-text-centered"},[t._v("No countries listed")]),i("br"),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button is-rounded is-white is-outlined is-medium",on:{click:function(e){return t.$emit("backward")}}},[i("i",{staticClass:"fas fa-arrow-left"})]),i("button",{staticClass:"button is-rounded is-primary is-outlined is-medium",on:{click:t.goForward}},[i("i",{staticClass:"fas fa-arrow-right"})])])],1)},Oa=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h1",{staticClass:"subtitle is-5 has-text-centered"},[i("span",{staticClass:"is-500 has-text-primary"},[t._v("6.")]),t._v(" Search countries by region and add it to the list ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h1",{staticClass:"subtitle is-5 has-text-centered"},[i("span",{staticClass:"is-500 has-text-primary"}),t._v(" List of countries where the initiative has presence ")])}],Ra={props:{model:{type:Object,required:!0}},data:function(){return{queryRegion:"",queryCountry:"",fetchingRegions:!0,fetchingCountries:!1,dataRegions:[],dataCountries:[],selectedRegion:null,selectedCountry:null}},mounted:function(){this.fetchRegions()},methods:{goForward:function(){this.$emit("forward")},fetchRegions:function(){var t=this;this.$http.get("/v1/regions?size=100").then((function(e){t.dataRegions=e.data.data})).finally((function(){t.fetchingRegions=!1}))},selectRegion:function(t){var e=this;null!==t&&(this.fetchingCountries=!0,this.selectedRegion=t,this.queryCountry="",this.selectedCountry=null,this.$http.get("/v1/countries?size=100&region_id=".concat(t.id)).then((function(t){e.dataCountries=t.data.data})).finally((function(){e.fetchingCountries=!1})))},selectCountry:function(t){null!=t&&(this.selectedCountry=t)},getPayload:function(){var t={countries:[this.selectedCountry.id]};return{data:t}},resetState:function(){this.queryRegion="",this.queryCountry="",this.dataRegions=[],this.dataCountries=[],this.fetchingRegions=!0,this.fetchingCountries=!1,this.selectedRegion=null,this.selectedCountry=null,this.fetchRegions()},add:function(){var t=this,e=this.model.countries.find((function(e){return e.id==t.selectedCountry.id}));e?this.$toast.open({message:'<i class="fas fa-exclamation-triangle"></i>&nbsp;The country is already listed',type:"is-warning"}):this.model.countries.push(this.selectedCountry),this.queryRegion="",this.queryCountry="",this.selectedRegion=null,this.selectedCountry=null},remove:function(t){this.model.countries=this.model.countries.filter((function(e){return e.id!=t}))}},computed:{placeholderRegions:function(){return this.fetchingRegions?this.$t("admin.initiatives.create.fields.location.fetchingRegions"):this.$t("admin.initiatives.create.fields.location.startTypingRegion")},placeholderCountries:function(){return this.fetchingCountries?this.$t("admin.initiatives.create.fields.location.fetchingCountries"):this.$t("admin.initiatives.create.fields.location.startTypingCountry")},filteredRegions:function(){var t=this;return this.dataRegions.filter((function(e){return e.name.toString().toLowerCase().indexOf(t.queryRegion.toLowerCase())>=0}))},filteredCountries:function(){var t=this;return this.dataCountries.filter((function(e){return e.name.toString().toLowerCase().indexOf(t.queryCountry.toLowerCase())>=0}))},query:function(){return{}}}},Ea=Ra,Sa=Object(Nt["a"])(Ea,Na,Oa,!1,null,null,null),Fa=Sa.exports,Ma=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"field"},[i("div",{staticClass:"content"},t._l(t.$t("forms.user.addInitiative.step7.conversation"),(function(e,a){return i("p",{key:a,staticClass:"has-text-centered is-italic"},[t._v(t._s(e))])})),0)]),i("h1",{staticClass:"subtitle is-5"},[t._v("Available areas of interests")]),i("b-taglist",t._l(t.availableAreas,(function(e){return i("b-tag",{key:e.id,staticStyle:{cursor:"pointer"},attrs:{type:"is-light",size:"is-medium"},nativeOn:{click:function(i){return t.model.areasOfInterest.push(e)}}},[t._v(t._s(e.name))])})),1),i("h1",{staticClass:"subtitle is-5"},[t._v("Selected areas")]),i("b-taglist",t._l(t.model.areasOfInterest,(function(e){return i("b-tag",{key:e.id,attrs:{type:"is-link",size:"is-medium",closable:""},on:{close:function(i){return t.remove(e.id)}}},[t._v(t._s(e.name))])})),1),i("br"),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button is-rounded is-white is-outlined is-medium",on:{click:function(e){return t.$emit("backward")}}},[i("i",{staticClass:"fas fa-arrow-left"})]),i("button",{staticClass:"button is-rounded is-primary is-outlined is-medium",on:{click:t.goForward}},[i("i",{staticClass:"fas fa-arrow-right"})])])],1)},ja=[],za={props:{model:{type:Object,required:!0}},data:function(){return{areas:[]}},mounted:function(){this.fetchAvailableAreasOfInterest()},methods:{fetchAvailableAreasOfInterest:function(){var t=this;this.startLoading(),this.$http.get("/v1/terms?taxonomy=topics&size=100").then((function(e){t.areas=e.data.data})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while fetching areas of interest',type:"is-danger"})})).finally((function(){t.stopLoading()}))},remove:function(t){this.model.areasOfInterest=this.model.areasOfInterest.filter((function(e){return e.id!=t}))},goTo:function(t){this.$emit("goTo",t)},goForward:function(){this.$emit("forward")}},computed:{availableAreas:function(){return this.areas?Object(b["differenceBy"])(this.areas,this.model.areasOfInterest,"id"):[]}}},Da=za,Ua=Object(Nt["a"])(Da,Ma,ja,!1,null,null,null),Ya=Ua.exports,Va=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"content"},t._l(t.$t("forms.user.addInitiative.step8.conversation"),(function(e,a){return i("p",{key:a,staticClass:"has-text-centered is-italic"},[t._v(t._s(e))])})),0),i("h1",{staticClass:"subtitle is-5 has-text-centered"},[i("span",{staticClass:"is-500 has-text-primary"},[t._v("5.")]),t._v(" "+t._s(t.$t("forms.user.addInitiative.step8.fields[0].question"))+" ")]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.private_data.contact_email,expression:"model.private_data.contact_email"},{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{required: true, email: true }"}],staticClass:"input is-medium has-text-centered",attrs:{type:"email","data-vv-as":t.$t("forms.user.addInitiative.step8.fields[0].fieldName"),name:"contact_email",placeholder:t.$t("forms.user.addInitiative.step8.fields[0].placeholder")},domProps:{value:t.model.private_data.contact_email},on:{input:function(e){e.target.composing||t.$set(t.model.private_data,"contact_email",e.target.value)}}}),t.errors.has("contact_email")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("contact_email")))]):t._e()])]),i("br"),i("h1",{staticClass:"subtitle is-5 has-text-centered"},[i("span",{staticClass:"is-500 has-text-primary"},[t._v("6.")]),t._v(" "+t._s(t.$t("forms.user.addInitiative.step8.fields[1].question"))+" ")]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.private_data.contact_phone,expression:"model.private_data.contact_phone"},{name:"validate",rawName:"v-validate",value:{required:!1,min:5,max:30},expression:"{required: false, min: 5, max: 30 }"}],staticClass:"input is-medium has-text-centered",attrs:{type:"text","data-vv-as":t.$t("forms.user.addInitiative.step8.fields[1].fieldName"),name:"contact_phone",placeholder:t.$t("forms.user.addInitiative.step8.fields[1].placeholder")},domProps:{value:t.model.private_data.contact_phone},on:{input:function(e){e.target.composing||t.$set(t.model.private_data,"contact_phone",e.target.value)}}}),t.errors.has("contact_phone")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("contact_phone")))]):t._e()])]),i("br"),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button is-rounded is-white is-outlined is-medium",on:{click:function(e){return t.$emit("backward")}}},[i("i",{staticClass:"fas fa-arrow-left"})]),i("button",{staticClass:"button is-rounded is-primary is-outlined is-medium",on:{click:t.goForward}},[i("i",{staticClass:"fas fa-arrow-right"})])])])},Ba=[],Ha={props:{model:{type:Object,required:!0}},methods:{goForward:function(){var t=this;this.$validator.validateAll().then((function(e){e?t.$emit("forward"):t.$toast.open({message:t.$t("globals.errors.formNotValid"),type:"is-warning",position:"is-bottom"})}))}}},Wa=Ha,Ga=Object(Nt["a"])(Wa,Va,Ba,!1,null,null,null),Qa=Ga.exports,Ja=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"content"},t._l(t.$t("forms.user.addInitiative.step6.conversation"),(function(e,a){return i("p",{key:a,staticClass:"has-text-centered is-italic"},[t._v(t._s(e))])})),0),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content is-clearfix"},[i("p",{staticClass:"is-pulled-right"},[i("a",{on:{click:function(e){return t.goTo(1)}}},[i("i",{staticClass:"fas fa-pencil-alt fa-fw"})])]),i("h1",{staticClass:"title is-3 has-text-primary is-marginless"},[t._v(t._s(t.model.name))]),i("h1",{staticClass:"subtitle is-6 has-text-dark is-300 is-marginless"},[t._v(t._s(t.$t("forms.user.addInitiative.step9.founded",{year:t.model.public_data.founding_year})))])])]),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content is-clearfix"},[i("p",{staticClass:"is-pulled-right"},[i("a",{on:{click:function(e){return t.goTo(2)}}},[i("i",{staticClass:"fas fa-pencil-alt fa-fw"})])]),i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("forms.user.addInitiative.step9.labels")["description"]))]),i("p",{staticClass:"add-br"},[t._v(t._s(t.model.description))])])]),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content is-clearfix"},[i("p",{staticClass:"is-pulled-right"},[i("a",{on:{click:function(e){return t.goTo(3)}}},[i("i",{staticClass:"fas fa-pencil-alt fa-fw"})])]),i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("forms.user.addInitiative.step9.labels")["location"]))]),t.model.selectedCity?i("p",[t._v(t._s(t.model.selectedRegion.name)+", "+t._s(t.model.selectedCountry.name)+", "+t._s(t.model.selectedCity.name))]):i("p",{staticClass:"is-italic"},[i("i",{staticClass:"fas fa-info-circle"}),t._v("  "+t._s(t.$t("forms.user.addInitiative.step9.noLocation"))+" ")])])]),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content is-clearfix"},[i("p",{staticClass:"is-pulled-right"},[i("a",{on:{click:function(e){return t.goTo(5)}}},[i("i",{staticClass:"fas fa-pencil-alt fa-fw"})])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("forms.user.addInitiative.step9.labels")["goals"]))]),i("p",{staticClass:"add-br"},[t._v(t._s(t.model.public_data.goals))])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("forms.user.addInitiative.step9.labels")["roleOfYouth"]))]),i("p",[t._v(t._s(t.$t("forms.user.addInitiative.step5.fields[2].options")[t.model.public_data.role_of_youth]))])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("forms.user.addInitiative.step9.labels")["Networks"]))]),t.model.public_data.website?i("p",[i("i",{staticClass:"fas fa-globe"}),t._v("  "),i("a",{attrs:{href:"https://"+t.model.public_data.website}},[t._v("https://"+t._s(t.model.public_data.website))])]):t._e(),t.model.public_data.facebook?i("p",[i("i",{staticClass:"fab fa-facebook"}),t._v("  "),i("a",{attrs:{href:"https://facebook.com/"+t.model.public_data.facebook}},[t._v("https://facebook.com/"+t._s(t.model.public_data.facebook))])]):t._e(),t.model.public_data.twitter?i("p",[i("i",{staticClass:"fab fa-twitter"}),t._v("  "),i("a",{attrs:{href:"https://twitter.com"+t.model.public_data.twitter}},[t._v("https://twitter.com/"+t._s(t.model.public_data.twitter))])]):t._e(),t.model.public_data.other_network?i("p",[i("i",{staticClass:"fas fa-asterisk"}),t._v("  "),i("a",{attrs:{href:"https://"+t.model.public_data.other_network}},[t._v("https://"+t._s(t.model.public_data.other_network))])]):t._e()])])]),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("p",{staticClass:"is-pulled-right"},[i("a",{on:{click:function(e){return t.goTo(6)}}},[i("i",{staticClass:"fas fa-pencil-alt fa-fw"})])]),i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("forms.user.addInitiative.step9.labels")["countries"]))]),t.model.countries.length>0?i("b-taglist",t._l(t.model.countries,(function(e){return i("b-tag",{key:e.id,attrs:{type:"is-link"}},[t._v(t._s(e.name))])})),1):i("p",[i("i",[t._v("No countries in the list (You can add them later)")])])],1)]),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("p",{staticClass:"is-pulled-right"},[i("a",{on:{click:function(e){return t.goTo(7)}}},[i("i",{staticClass:"fas fa-pencil-alt fa-fw"})])]),i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("forms.user.addInitiative.step9.labels")["areasOfInterest"]))]),t.model.areasOfInterest.length>0?i("b-taglist",t._l(t.model.areasOfInterest,(function(e){return i("b-tag",{key:e.id,attrs:{type:"is-link"}},[t._v(t._s(e.name))])})),1):i("p",[i("i",[t._v("No areas of interest in the list (You can add them later)")])])],1)]),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content is-clearfix"},[i("p",{staticClass:"is-pulled-right"},[i("a",{on:{click:function(e){return t.goTo(8)}}},[i("i",{staticClass:"fas fa-pencil-alt fa-fw"})])]),i("label",{staticClass:"label",attrs:{for:""}},[t._v(" "+t._s(t.$t("forms.user.addInitiative.step9.labels")["contact"])+" "),i("span",{staticClass:"has-text-danger is-400"},[t._v("("+t._s(t.$t("forms.user.addInitiative.step9.labels")["private"])+")")])]),i("p",[i("i",{staticClass:"fas fa-envelope"}),t._v("  "+t._s(t.model.private_data.contact_email)+" ")]),i("p",[i("i",{staticClass:"fas fa-phone"}),t._v("  "+t._s(t.model.private_data.contact_phone||"- - - - - - -")+" ")])])]),i("br"),i("div",{staticClass:"content"},[i("p",{staticClass:"has-text-centered is-italic"},[t._v(t._s(t.$t("forms.user.addInitiative.step9.finish")))]),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button is-primary is-outlined is-large is-rounded",on:{click:function(e){return t.$emit("forward")}}},[i("i",{staticClass:"fas fa-plus"}),t._v("  "+t._s(t.$t("forms.user.addInitiative.step9.button"))+" ")])])])])},Ka=[],Za={props:{model:{type:Object,required:!0}},methods:{goTo:function(t){this.$emit("goTo",t)}}},Xa=Za,ts=(i("0958"),Object(Nt["a"])(Xa,Ja,Ka,!1,null,"58cc62a0",null)),es=ts.exports,is=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[t._m(0),i("br"),i("br"),i("div",{staticClass:"content"},[i("h5",{staticClass:"subtitle is-5 has-text-centered is-italic is-marginless"},[t._v(t._s(t.$t("forms.user.addInitiative.sending.text[0]")))]),i("p",{staticClass:"has-text-centered is-italic"},[t._v(t._s(t.$t("forms.user.addInitiative.sending.text[1]")))]),t.isLoading?i("p",{staticClass:"has-text-centered"},[i("i",{staticClass:"fas fa-sync fa-spin fa-lg"})]):t._e()])])},as=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"has-text-centered animated zoomOutUp delay-1s slower"},[i("i",{staticClass:"fas fa-paper-plane fa-3x has-text-primary"})])}],ss={props:{model:{type:Object,required:!0}},data:function(){return{isLoading:!1}},mounted:function(){var t=this;Object(je["setTimeout"])((function(){t.submit()}),2500)},methods:{getPayload:function(){var t={},e={};return t.name=this.model.name,t.description=this.model.description,t.public_data={goals:this.model.public_data.goals,founding_year:this.model.public_data.founding_year,role_of_youth:this.model.public_data.role_of_youth,website:this.isOptional(this.model.public_data.website),facebook:this.isOptional(this.model.public_data.facebook),twitter:this.isOptional(this.model.public_data.twitter),other_network:this.isOptional(this.model.public_data.other_network)},e.countries=this.model.countries.map((function(t){return t.id})),e.terms=this.model.areasOfInterest.map((function(t){return t.id})),t.private_data={contact_email:this.model.private_data.contact_email,contact_phone:this.isOptional(this.model.private_data.contact_phone)},this.model.selectedCity?e.registered_city_id=this.model.selectedCity.id:e.registered_city_id=null,e.set_owner=!this.$store.getters.isAdmin,{data:t,options:e}},submit:function(){var t=this;this.isLoading=!0,this.$http.post("/v1/initiatives",this.getPayload()).then((function(){t.$emit("forward")})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message),t.$emit("goTo",-1)})).finally((function(){t.isLoading=!1}))}}},ns=ss,os=Object(Nt["a"])(ns,is,as,!1,null,null,null),rs=os.exports,ls=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-8"},[i("h1",{staticClass:"title animated fadeInUp is-4 has-text-centered"},[t._v(t._s(t.$t("forms.user.addInitiative.confirmation.congratulations"))+"!")]),i("div",{staticClass:"box is-light has-text-centered"},[t._m(0),i("p",{staticClass:"has-text-black"},[t._v(t._s(t.$t("forms.user.addInitiative.confirmation.text[0]")))])]),i("div",{staticClass:"content has-text-centered"},[i("p",[t._v(t._s(t.$t("forms.user.addInitiative.confirmation.text[1]")))]),i("p",[i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"userInitiativesList"}}},[i("i",{staticClass:"fas fa-home"}),t._v(" "+t._s(t.$t("forms.user.addInitiative.confirmation.edit[0]")))])],1),i("p",[i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"userInitiativesList"}}},[i("i",{staticClass:"fas fa-home"}),t._v(" "+t._s(t.$t("forms.user.addInitiative.confirmation.edit[1]")))])],1),i("p",[i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"userInitiativesList"}}},[i("i",{staticClass:"fas fa-home"}),t._v(" "+t._s(t.$t("forms.user.addInitiative.confirmation.edit[2]")))])],1),i("p",[i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"home"}}},[i("i",{staticClass:"fas fa-home"}),t._v(" "+t._s(t.$t("globals.buttonLabels.goHome")))])],1)])])])},cs=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"animated heartBeat delay-1s has-text-success"},[i("i",{staticClass:"fas fa-check-circle fa-lg"})])}],ds={},us=ds,ms=Object(Nt["a"])(us,ls,cs,!1,null,null,null),fs=ms.exports,ps=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[t._m(0),i("br"),i("div",{staticClass:"content"},[i("h5",{staticClass:"subtitle is-5 has-text-centered is-italic is-marginless"},[t._v("Fail :(")]),i("p",{staticClass:"has-text-centered is-italic"},[t._v("Something went wrong...")]),i("p",{staticClass:"has-text-centered"},[i("a",{staticClass:"has-text-primary",on:{click:function(e){return t.$emit("goTo",8)}}},[i("i",{staticClass:"fas fa-reply"}),t._v(" "+t._s(t.$t("globals.buttonLabels.retry")))])])])])},hs=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"has-text-centered"},[i("i",{staticClass:"fas fa-times fa-2x has-text-danger"})])}],vs={methods:{}},gs=vs,_s=Object(Nt["a"])(gs,ps,hs,!1,null,null,null),bs=_s.exports,Cs={data:function(){return{step:0,model:{name:null,description:null,public_data:{goals:null,founding_year:null,website:null,facebook:null,twitter:null,other_network:null,role_of_youth:null},private_data:{contact_email:null,contact_phone:null},selectedRegion:null,selectedCountry:null,selectedCity:null,countries:[],areasOfInterest:[]}}},components:{Step0:Si,Step1:Ui,Step2:Gi,Step3:fa,Step4:xa,Step5:Ta,Step6:Fa,Step7:Ya,Step8:Qa,Step9:es,Sending:rs,Confirmation:fs,Fail:bs},methods:{backward:function(){this.step<=0?this.step=0:this.step-=1},forward:function(){this.step>=11?this.step=11:this.step+=1},goTo:function(t){this.step=t}}},ys=Cs,ws=(i("a054"),Object(Nt["a"])(ys,Pi,Ti,!1,null,"7d40fbaa",null)),ks=ws.exports,$s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("router-link",{staticClass:"cn-back-home",attrs:{to:{name:"home"}}},[i("img",{staticClass:"image",attrs:{src:"/iso-cn.svg",alt:""}})]),i("section",{staticClass:"section border-bottom"},[i("div",{staticClass:"container"},[i("div",{staticClass:"subtitle is-4 is-size-6-touch has-text-centered"},[t._v("Search")]),i("div",{staticClass:"title is-1 is-size-3-touch has-text-centered"},[t._v("Initiatives")]),i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-6"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputSearchName,expression:"inputSearchName"}],staticClass:"input is-large has-text-centered is-rounded",attrs:{type:"text",placeholder:"Filter by name"},domProps:{value:t.inputSearchName},on:{input:function(e){e.target.composing||(t.inputSearchName=e.target.value)}}})])]),i("h1",{staticClass:"subtitle is-4 is-size-6-touch has-text-centered"},[i("a",{staticClass:"has-text-light",on:{click:t.toggleShowAreasFilter}},[t._v("Filter by Areas of interest  "),i("i",{staticClass:"fas fa-fw",class:t.classToggleShowAreasFilter})]),t.selectedAreas.length?i("a",{staticClass:"has-text-light",on:{click:t.clearAreasQuery}},[i("i",{staticClass:"fas fa-trash fa-fw"})]):t._e()]),i("div",{staticClass:"content"},[t.showFilterAreaOfInteres?i("p",{staticClass:"is-size-7 has-text-centered"},[t._v("The retrieved initiatives matches ALL the selected areas of interest")]):t._e()]),t.fetchingAreas&&t.showFilterAreaOfInteres?i("div",{staticClass:"subtitle is-4 is-size-6-touch has-text-centered"},[i("i",{staticClass:"fa fa-spinner fa-spin"})]):!t.fetchingAreas&&t.showFilterAreaOfInteres?i("div",{staticClass:"buttons is-centered"},t._l(t.areas,(function(e){return i("a",{key:e.id,staticClass:"button is-rounded is-small",class:t.getAreaButtonClass(e.id),on:{click:function(i){return t.toggleArea(e.id)}}},[t._v(t._s(e.name))])})),0):t._e(),i("h1",{staticClass:"subtitle is-4 is-size-6-touch has-text-centered"},[i("a",{staticClass:"has-text-light",on:{click:t.toggleShowLocationFilter}},[t._v("Filter by Location  "),i("i",{staticClass:"fas fa-fw",class:t.classToggleShowLocationFilter})]),t.selectedRegion?i("a",{staticClass:"has-text-light",on:{click:t.clearSelectedCity}},[i("i",{staticClass:"fas fa-trash fa-fw"})]):t._e()]),t.showFilterLocation?i("LocationFilter",{ref:"locationFilter",on:{saveRegion:t.saveRegionQuery,saveCountry:t.saveCountryQuery,saveCity:t.saveCityQuery,saveNotLocated:t.saveNotLocated,deleteNotLocated:t.deleteNotLocated}}):t._e()],1)]),i("div",{staticClass:"hero is-light is-bold border-bottom"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-8"},[i("b-table",{staticClass:"initiativesTable",attrs:{data:t.initiatives,loading:t.fetchingInitiatives,narrowed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"name",label:"Initiative Name"}},[i("router-link",{attrs:{to:{name:"initiative",params:{id:e.row.id}}}},[i("b",[t._v(t._s(e.row.name))])]),i("p",{staticClass:"is-size-7 add-br"},[i("b",[t._v("Goals:")]),t._v(" "+t._s(e.row.public_data.goals))])],1),i("b-table-column",{attrs:{label:"Networks",width:"90",centered:""}},[e.row.public_data.website?i("a",{attrs:{href:"https://"+e.row.public_data.website,target:"_blank"}},[i("i",{staticClass:"fas fa-globe fa-fw"})]):t._e(),e.row.public_data.facebook?i("a",{attrs:{href:"https://facebook.com/"+e.row.public_data.facebook,target:"_blank"}},[i("i",{staticClass:"fab fa-facebook-f fa-fw"})]):t._e(),e.row.public_data.twitter?i("a",{attrs:{href:"https://twitter.com/"+e.row.public_data.twitter,target:"_blank"}},[i("i",{staticClass:"fab fa-twitter fa-fw"})]):t._e(),e.row.public_data.other_network?i("a",{attrs:{href:"https://"+e.row.public_data.other_network,target:"_blank"}},[i("i",{staticClass:"fas fa-external-link-alt fa-fw"})]):t._e()]),i("b-table-column",{attrs:{field:"public_data.founding_year",label:"Founding Year",centered:""}},[i("span",{staticClass:"tag is-link is-rounded"},[t._v(t._s(e.row.public_data.founding_year))])])]}}])}),t.firstLoadDone?i("infinite-loading",{on:{infinite:t.infiniteHandler}},[i("div",{staticClass:"section",attrs:{slot:"no-more"},slot:"no-more"},[i("p",[i("i",{staticClass:"far fa-surprise fa-2x"})]),i("p",[t._v("End of the list!")])]),i("div",{staticClass:"section",attrs:{slot:"no-results"},slot:"no-results"},[i("p",[i("i",{staticClass:"far fa-smile fa-2x"})]),i("p",[t._v("End of results")])])]):t._e(),t.fetchingInitiatives?i("div",{staticClass:"section"},[t._m(0)]):t._e()],1)])])])])],1)},xs=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h1",{staticClass:"subtitle is-4 has-text-centered"},[i("i",{staticClass:"fa fa-spinner fa-spin"}),t._v(" Fetching initiatives ")])}],Is=(i("a15b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[t.notInACity?t._e():i("b-field",{attrs:{grouped:"",position:"is-centered"}},[i("b-field",[i("b-autocomplete",{attrs:{rounded:"",data:t.filteredRegions,placeholder:t.placeholderRegions,"open-on-focus":!0,loading:t.fetchingRegions,icon:"search",field:"name"},on:{select:function(e){return t.selectRegion(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}],null,!1,1602146227),model:{value:t.queryRegion,callback:function(e){t.queryRegion=e},expression:"queryRegion"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.noResults")))])],2)],1),i("b-field",[i("b-autocomplete",{attrs:{rounded:"",data:t.filteredCountries,placeholder:t.placeholderCountries,"open-on-focus":!0,loading:t.fetchingCountries,disabled:!t.selectedRegion,icon:t.selectedRegion?"search":"times",field:"name"},on:{select:function(e){return t.selectCountry(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}],null,!1,1602146227),model:{value:t.queryCountry,callback:function(e){t.queryCountry=e},expression:"queryCountry"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.noResults")))])],2)],1),i("b-field",[i("b-autocomplete",{attrs:{rounded:"",data:t.dataCities,placeholder:t.placeholderCities,loading:t.fetchingCities,disabled:!t.selectedCountry,icon:t.selectedCountry?"search":"times",field:"name"},on:{typing:t.getCityAsync,select:function(e){return t.selectCity(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}],null,!1,1602146227),model:{value:t.queryCity,callback:function(e){t.queryCity=e},expression:"queryCity"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.noResults")))]),i("template",{slot:"footer"})],2)],1)],1),i("div",{staticClass:"buttons is-centered"},[i("a",{staticClass:"button is-white is-rounded",class:{"is-outlined":!t.notInACity},on:{click:t.toggleNotInACity}},[t._v(" Not in a city ")])])],1)}),As=[],Ls={data:function(){return{queryRegion:"",queryCountry:"",queryCity:"",dataRegions:[],dataCountries:[],dataCities:[],fetchingRegions:!0,fetchingCountries:!1,fetchingCities:!1,selectedRegion:null,selectedCountry:null,selectedCity:null,notInACity:!1}},created:function(){this.fetchRegions()},methods:{fetchRegions:function(){var t=this;this.$http.get("/v1/regions?having=cities&size=100").then((function(e){t.dataRegions=e.data.data})).finally((function(){t.fetchingRegions=!1}))},selectRegion:function(t){var e=this;null!==t&&(this.fetchingCountries=!0,this.selectedRegion=t,this.queryCountry="",this.queryCity="",this.selectedCountry=null,this.selectedCity=null,this.$emit("saveRegion",t),this.$http.get("/v1/countries?having=cities&size=100&region_id=".concat(t.id)).then((function(t){e.dataCountries=t.data.data})).finally((function(){e.fetchingCountries=!1})))},selectCountry:function(t){null!=t&&(this.selectedCountry=t,this.queryCity="",this.selectedCity=null,this.$emit("saveCountry",t))},getCityAsync:Object(b["debounce"])((function(t){var e=this;t.length?(this.fetchingCities=!0,this.$http.get("/v1/registered-cities?&ize=100&country_id=".concat(this.selectedCountry.id,"&s=").concat(t)).then((function(t){e.dataCities=t.data.data})).finally((function(){e.fetchingCities=!1}))):this.dataCities=[]}),500),selectCity:function(t){null!==t&&(this.selectedCity=t,this.$emit("saveCity",t))},toggleNotInACity:function(){this.notInACity=!this.notInACity,this.notInACity?this.$emit("saveNotLocated"):this.$emit("deleteNotLocated")},resetState:function(){this.queryRegion="",this.queryCountry="",this.queryCity="",this.dataRegions=[],this.dataCountries=[],this.dataCities=[],this.fetchingRegions=!0,this.fetchingCountries=!1,this.fetchingCities=!1,this.selectedRegion=null,this.selectedCountry=null,this.selectedCity=null,this.fetchRegions()}},computed:{placeholderRegions:function(){return this.fetchingRegions?this.$t("admin.initiatives.create.fields.location.fetchingRegions"):this.$t("admin.initiatives.create.fields.location.startTypingRegion")},placeholderCountries:function(){return this.fetchingCountries?this.$t("admin.initiatives.create.fields.location.fetchingCountries"):this.$t("admin.initiatives.create.fields.location.startTypingCountry")},placeholderCities:function(){return this.fetchingCities?this.$t("admin.initiatives.create.fields.location.fetchingCities"):this.$t("admin.initiatives.create.fields.location.startTypingCity")},filteredRegions:function(){var t=this;return this.dataRegions.filter((function(e){return e.name.toString().toLowerCase().indexOf(t.queryRegion.toLowerCase())>=0}))},filteredCountries:function(){var t=this;return this.dataCountries.filter((function(e){return e.name.toString().toLowerCase().indexOf(t.queryCountry.toLowerCase())>=0}))}}},qs=Ls,Ps=Object(Nt["a"])(qs,Is,As,!1,null,"4183b4d6",null),Ts=Ps.exports,Ns={components:{InfiniteLoading:Me.a,LocationFilter:Ts},data:function(){return{fetchingAreas:!0,fetchingInitiatives:!0,areas:[],selectedAreas:[],initiatives:[],inputSearchName:null,page:0,firstLoadDone:!1,showFilterAreaOfInteres:!1,showFilterLocation:!1,selectedRegion:null,selectedCountry:null,selectedCity:null,notLocated:!1}},mounted:function(){this.fetchAreas(),this.fetchInitiatives()},methods:{fetchAreas:function(){var t=this;this.fetchingAreas=!0,this.$http.get("/v1/terms?taxonomy=topics&size=100").then((function(e){t.areas=e.data.data,t.fetchingAreas=!1})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while fetching areas of interest',type:"is-danger"})}))},infiniteHandler:function(t){var e=this;this.fetchingInitiatives=!0;var i={offset:30*this.page,size:30};this.selectedAreas.length&&(i.terms=this.selectedAreas.join(",")),this.inputSearchName&&(i.s=this.inputSearchName),this.selectedCity?i.city_id=this.selectedCity.id:this.selectedCountry?i.country_id=this.selectedCountry.id:this.selectedRegion&&(i.region_id=this.selectedRegion.id),this.notLocated&&(i.city_id=-1),this.$http.get("/v1/initiatives",{params:i}).then((function(i){var a,s=i.data;s.data.length?(e.page+=1,(a=e.initiatives).push.apply(a,Object(Se["a"])(s.data)),t.loaded()):t.complete()})).finally((function(){e.fetchingInitiatives=!1}))},fetchInitiatives:Object(b["debounce"])((function(){var t=this;this.fetchingInitiatives=!0,this.firstLoadDone=!1,this.page=0;var e={size:30};this.selectedAreas.length&&(e.terms=this.selectedAreas.join(",")),this.inputSearchName&&(e.s=this.inputSearchName),this.selectedRegion&&(e.region_id=this.selectedRegion.id),this.selectedCountry&&(e.country_id=this.selectedCountry.id),this.selectedCity&&(e.city_id=this.selectedCity.id),this.notLocated&&(e.city_id=-1),this.$http.get("/v1/initiatives",{params:e}).then((function(e){t.page+=1,t.initiatives=e.data.data,t.fetchingInitiatives=!1,t.firstLoadDone=!0})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while fetching initiatives',type:"is-danger"})}))}),700),toggleArea:function(t){this.selectedAreas.includes(t)?this.selectedAreas=this.selectedAreas.filter((function(e){return e!=t})):this.selectedAreas.push(t),this.fetchingInitiatives=!0,this.initiatives=[],this.fetchInitiatives()},toggleShowAreasFilter:function(){this.showFilterAreaOfInteres=!this.showFilterAreaOfInteres,this.showFilterAreaOfInteres||this.clearAreasQuery()},toggleShowLocationFilter:function(){this.showFilterLocation=!this.showFilterLocation,this.showFilterLocation||this.clearSelectedCity()},getAreaButtonClass:function(t){return this.selectedAreas.includes(t)?"is-white":"is-white is-outlined"},saveRegionQuery:function(t){this.selectedCountry=null,this.selectedCity=null,this.selectedRegion=t,this.notLocated=!1,this.fetchingInitiatives=!0,this.initiatives=[],this.fetchInitiatives()},saveCountryQuery:function(t){this.selectedCity=null,this.selectedCountry=t,this.notLocated=!1,this.fetchingInitiatives=!0,this.initiatives=[],this.fetchInitiatives()},saveCityQuery:function(t){this.selectedCity=t,this.notLocated=!1,this.fetchingInitiatives=!0,this.initiatives=[],this.fetchInitiatives()},clearAreasQuery:function(){this.selectedAreas=[],this.fetchingInitiatives=!0,this.initiatives=[],this.fetchInitiatives()},clearSelectedCity:function(){this.selectedRegion=null,this.selectedCountry=null,this.selectedCity=null,this.notLocated=!1,this.fetchingInitiatives=!0,this.initiatives=[],this.$refs.locationFilter.resetState(),this.fetchInitiatives()},saveNotLocated:function(){this.selectedRegion=null,this.selectedCountry=null,this.selectedCity=null,this.notLocated=!0,this.fetchingInitiatives=!0,this.initiatives=[],this.$refs.locationFilter.resetState(),this.fetchInitiatives()},deleteNotLocated:function(){this.clearSelectedCity()}},computed:{classToggleShowAreasFilter:function(){return this.showFilterAreaOfInteres?"fa-minus-square":"fa-plus-square"},classToggleShowLocationFilter:function(){return this.showFilterLocation?"fa-minus-square":"fa-plus-square"}},watch:{inputSearchName:function(){this.fetchInitiatives()}}},Os=Ns,Rs=(i("d9ad"),Object(Nt["a"])(Os,$s,xs,!1,null,null,null)),Es=Rs.exports,Ss=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"creatingNetworkTvCatalog"}},[i("div",{staticClass:"hero is-dark is-mobile vhs-effect",attrs:{id:"hero"}},[i("router-link",{staticClass:"cn-back-home",attrs:{to:{name:"home"}}},[i("img",{staticClass:"image",attrs:{src:"/iso-cn.svg",alt:""}})]),i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container has-text-centered"},[i("img",{staticClass:"image is-centered logo-cntv",attrs:{src:"/cntv.svg",alt:""}}),i("div",{staticClass:"subtitle is-4 is-size-6-touch has-text-centered-touch"},[t._v("Welcome to")]),i("div",{staticClass:"title is-1 is-size-3-touch has-text-centered-touch"},[t._v(t._s(t.$t("globals.title"))+" TV!")])])]),i("vue-particles",{attrs:{color:"FFFFFF",hoverEffect:!1,clickEffect:!1}})],1),i("div",{staticClass:"section"},[i("div",{staticClass:"container"},[i("div",{directives:[{name:"masonry",rawName:"v-masonry"}],attrs:{"transition-duration":"0.3s","item-selector":".item"}},t._l(t.videos,(function(e){return i("VideoBox",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:e.public_data.youtube,staticClass:"item",attrs:{video:e,metadata:t.metadata[e.public_data.youtube]}})})),1),i("infinite-loading",{on:{infinite:t.infiniteHandler}},[i("div",{staticClass:"section",attrs:{slot:"no-more"},slot:"no-more"},[i("p",[i("i",{staticClass:"far fa-surprise fa-2x"})]),i("p",[t._v("End of the list!")])]),i("div",{attrs:{slot:"no-results"},slot:"no-results"},[i("p",[i("i",{staticClass:"far fa-frown fa-2x"})]),i("p",[t._v("Nothing here")])])])],1)])])},Fs=[],Ms=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column is-6-mobile is-3-desktop"},[i("router-link",{staticClass:"has-text-white",attrs:{to:{name:"viewCreatingNetworksTv",params:{id:t.video.id}}}},[i("div",{staticClass:"thumbnail-container"},[t.metadata?i("span",{staticClass:"tag is-black"},[t._v(t._s(t.ISO8601toDuration(t.metadata.contentDetails.duration)))]):i("span",{staticClass:"tag is-black"},[i("i",{staticClass:"fas fa-spinner fa-spin"})]),i("img",{staticClass:"image",attrs:{src:"https://img.youtube.com/vi/"+t.video.public_data.youtube+"/maxresdefault.jpg",alt:""}})]),i("div",{staticClass:"video-card-info"},[t.metadata?i("p",{staticClass:"is-size-7"},[i("i",{staticClass:"fas fa-eye"}),t._v("  "+t._s(t.nFormatter(t.metadata.statistics.viewCount))+" "),i("i",{staticClass:"fas fa-thumbs-up fa-fw"}),t._v(" "+t._s(t.nFormatter(t.metadata.statistics.likeCount))+" ")]):i("p",{staticClass:"is-size-7"},[i("i",{staticClass:"fas fa-spinner fa-spin"}),t._v(" Loading... ")])]),i("p",{staticClass:"has-text-primary is-500"},[t._v(t._s(t.video.title))])])],1)},js=[],zs=(i("ac1f"),i("5319"),i("b680"),{props:["video","metadata"],data:function(){return{}},mounted:function(){console.log(this.metadata)},methods:{formatTimeUnit:function(t,e){var i=t.indexOf(e),a="00";return i<0?a:isNaN(t.charAt(i-2))?"0".concat(t.charAt(i-1)):t.charAt(i-2)+t.charAt(i-1)},ISO8601toDuration:function(t){var e=this.formatTimeUnit(t,"H"),i=this.formatTimeUnit(t,"M"),a=this.formatTimeUnit(t,"S");return"00"==e?e="":e+=":","".concat(e+i,":").concat(a)},nFormatter:function(t,e){var i,a=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],s=/\.0+$|(\.[0-9]*[1-9])0+$/;for(i=a.length-1;i>0;i--)if(t>=a[i].value)break;return(t/a[i].value).toFixed(e).replace(s,"$1")+a[i].symbol}}}),Ds=zs,Us=(i("3afd"),Object(Nt["a"])(Ds,Ms,js,!1,null,"bb9dca78",null)),Ys=Us.exports,Vs={components:{InfiniteLoading:Me.a,VideoBox:Ys},data:function(){return{isFetching:!1,videos:[],metadata:{},page:0}},methods:{infiniteHandler:function(t){var e=this;this.isFetching=!0,this.$http.get("/v1/videos",{params:{offset:20*this.page,size:10}}).then((function(i){var a,s=i.data;s.data.length?(e.page+=1,(a=e.videos).push.apply(a,Object(Se["a"])(s.data)),e.isFetching=!1,e.fetchMetadata(s.data.map((function(t){return t.public_data.youtube}))),t.loaded()):t.complete()}))},fetchMetadata:function(t){var e=this,i=Gt.a.create();i({url:"https://www.googleapis.com/youtube/v3/videos?part=contentDetails,statistics&key=".concat("AIzaSyBHbtBScAanlJ3SGJ_6y-ZDO-_cRsXYwhM","&id=").concat(t.join(",")),method:"get"}).then((function(t){t.data.items.forEach((function(t){e.$set(e.metadata,t.id,t)}))})).catch((function(t){console.error(t)}))}},computed:{}},Bs=Vs,Hs=(i("a6db"),Object(Nt["a"])(Bs,Ss,Fs,!1,null,"4651bc94",null)),Ws=Hs.exports,Gs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("section",[i("div",{staticClass:"hero is-dark",attrs:{id:"hero"}},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-6"},[i("p",[i("router-link",{staticClass:"has-text-white",attrs:{to:{name:"catalogCreatingNetworksTv"}}},[i("i",{staticClass:"fas fa-arrow-left"}),t._v(" Go back to catalog ")])],1),i("br"),i("div",{staticClass:"videoWrapper"},[i("iframe",{attrs:{width:"100%",height:"auto",src:"https://www.youtube.com/embed/"+t.video.public_data.youtube,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})])])])])]),i("vue-particles",{attrs:{color:"FFFFFF",hoverEffect:!1,clickEffect:!1}})],1),i("div",{staticClass:"section"},[i("div",{staticClass:"container"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-6"},[i("h1",{staticClass:"title is-2"},[t._v(t._s(t.video.title))]),i("div",{staticClass:"buttons"},[i("a",{staticClass:"button is-primary is-outlined",attrs:{href:"https://www.youtube.com/watch?v="+t.video.public_data.youtube}},[i("i",{staticClass:"fas fa-thumbs-up"}),t._v(" Like it on YouTube! ")])]),i("p",{staticClass:"add-br"},[t._v(t._s(t.video.content))]),i("br"),i("p",[i("router-link",{staticClass:"has-text-link",attrs:{to:{name:"catalogCreatingNetworksTv"}}},[i("i",{staticClass:"fas fa-arrow-left"}),t._v(" Go back to Creating Network TV Catalog! ")])],1),i("br"),i("img",{staticClass:"image is-centered is-64x64",attrs:{src:"/cntv.svg",alt:""}})])])])])])])},Qs=[],Js={computed:{video:function(){return this.$store.getters.video}},beforeRouteUpdate:function(t,e,i){t.params.id===e.params.id?(console.log("Same user video, dont load"),i()):(console.log("First time entering, getting video..."),Kt.get("/v1/videos/".concat(t.params.id)).then((function(t){k.commit("setVideo",t.data.data),console.log("GET OK - Got video"),i()})).catch((function(t){console.log("Fetching data failed.",t),i({name:"home"})})))}},Ks=Js,Zs=(i("c593"),Object(Nt["a"])(Ks,Gs,Qs,!1,null,"21a4ac58",null)),Xs=Zs.exports,tn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("section",[i("div",{staticClass:"hero is-medium is-dark",class:{"has-background":t.initiative.pictures&&t.initiative.pictures.cover},style:t.backgroundImageUrl,attrs:{id:"hero"}},[i("router-link",{staticClass:"cn-back-home",attrs:{to:{name:"home"}}},[i("img",{staticClass:"image",attrs:{src:"/iso-cn.svg",alt:""}})]),i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("br",{staticClass:"is-hidden-desktop"}),2==t.initiative.subject.img_type?i("img",{staticClass:"image initiative-logo is-centered",attrs:{src:""+t.makeUserAvatar(t.initiative.subject),alt:"Initiative logo"}}):t._e(),i("p",{staticClass:"title is-1 is-size-3-touch has-text-centered"},[t._v(t._s(t.initiative.name))]),t.initiative.city?i("p",{staticClass:"subtitle is-6 is-size-7-touch has-text-centered"},[t._v("Located in "),i("b",[t._v(t._s(t.getSpaceLocalization(t.initiative.city.country.region)+", "+t.getSpaceLocalization(t.initiative.city.country)+", "+t.getSpaceLocalization(t.initiative.city)))])]):t._e(),i("div",{staticClass:"columns is-centered is-mobile"},[i("div",{staticClass:"column is-narrow"},[t.initiative.public_data.website?i("a",{staticClass:"has-text-white",attrs:{href:"https://"+t.initiative.public_data.website,target:"_blank"}},[i("i",{staticClass:"fas fa-globe fa-lg fa-fw"})]):t._e()]),i("div",{staticClass:"column is-narrow"},[t.initiative.public_data.facebook?i("a",{staticClass:"has-text-white",attrs:{href:"https://facebook.com/"+t.initiative.public_data.facebook,target:"_blank"}},[i("i",{staticClass:"fab fa-facebook-f fa-lg fa-fw"})]):t._e()]),i("div",{staticClass:"column is-narrow"},[t.initiative.public_data.twitter?i("a",{staticClass:"has-text-white",attrs:{href:"https://twitter.com/"+t.initiative.public_data.twitter,target:"_blank"}},[i("i",{staticClass:"fab fa-twitter fa-lg fa-fw"})]):t._e()]),i("div",{staticClass:"column is-narrow"},[t.initiative.public_data.other_network?i("a",{staticClass:"has-text-white",attrs:{href:"https://"+t.initiative.public_data.other_network,target:"_blank"}},[i("i",{staticClass:"fas fa-external-link-alt fa-lg fa-fw"})]):t._e()])]),t.user?i("div",{staticClass:"buttons is-centered"},[t.initiativeContext&&null==t.initiativeContext.connection?i("button",{staticClass:"button is-outlined is-white is-small is-800",on:{click:t.followInitiative}},[i("i",{staticClass:"fas fa-plus fa-lg fa-fw"}),t._v("  F O L L O W ")]):t._e(),t.initiativeContext&&t.initiativeContext.connection&&"follower"==t.initiativeContext.connection.relation?i("button",{staticClass:"button is-outlined is-white is-small is-800",on:{click:t.unfollowInitiative}},[i("i",{staticClass:"fas fa-minus fa-lg fa-fw"}),t._v("  U N F O L L O W ")]):t._e(),i("EditButton",{attrs:{initiative:t.initiative.id}})],1):t._e()])]),i("div",{staticClass:"hero-foot"},[i("nav",{staticClass:"tabs is-centered is-boxed"},[i("div",{staticClass:"container"},[i("ul",[i("li",[i("router-link",{attrs:{to:{name:"home"}}},[i("i",{staticClass:"fas fa-reply fa-lg"}),t._v("  Go back")])],1),i("li",{class:{"is-active":"initiative"===t.$route.name}},[i("router-link",{attrs:{to:{name:"initiative",params:{id:t.initiative.id}}}},[t._v("Overview")])],1),t.initiative.city?i("li",{class:{"is-active":"initiativeLocation"===t.$route.name}},[i("router-link",{attrs:{to:{name:"initiativeLocation",params:{id:t.initiative.id}}}},[t._v("Location")])],1):t._e(),i("li",{class:{"is-active":"initiativeMembers"===t.$route.name}},[i("router-link",{attrs:{to:{name:"initiativeMembers",params:{id:t.initiative.id}}}},[t._v("Members")])],1)])])])]),i("vue-particles",{attrs:{color:"FFFFFF",hoverEffect:!1,clickEffect:!1}})],1)]),i("div",{staticClass:"section"},[i("div",{staticClass:"container"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-8"},[i("router-view")],1)])])])])},en=[],an=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLoading||!t.showAdminEdit&&!t.showUserEdit?t._e():i("router-link",{staticClass:"button is-outlined is-white is-small is-800",attrs:{to:t.theLink}},[i("i",{staticClass:"fas fa-pencil-alt fa-lg fa-fw"}),t._v("  E D I T ")])},sn=[],nn={props:["initiative"],data:function(){return{isLoading:!0,showUserEdit:!1,showAdminEdit:!1,owners:[]}},mounted:function(){this.user&&(this.isAdmin?(this.showAdminEdit=!0,this.isLoading=!1):this.getOwners())},methods:{getOwners:function(){var t=this;this.$http.get("/v1/initiatives/".concat(this.initiative,"/members"),{params:{offset:0,size:100,relation:"owner"}}).then((function(e){t.owners=e.data.data.map((function(t){return t.id})),t.owners.includes(t.user.id)&&(t.showUserEdit=!0)})).catch((function(){})).finally((function(){t.isLoading=!1}))}},computed:{theLink:function(){return this.showAdminEdit?{name:"adminInitiativesEdit",params:{id:this.initiative}}:this.showUserEdit?{name:"userInitiativesEdit",params:{id:this.initiative}}:{name:"home"}}}},on=nn,rn=Object(Nt["a"])(on,an,sn,!1,null,"fbb1901e",null),ln=rn.exports,cn={data:function(){return{}},components:{EditButton:ln},methods:{followInitiative:function(){var t=this;if(!this.user)return this.$router.push({name:"login"}),!1;this.startLoading(),this.$http.post("/v1/initiatives/".concat(this.initiative.id,"/members/").concat(this.user.id)).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;You are now following this initiative!',type:"is-success"}),t.updateInitiative()})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;There was an error',type:"is-danger"})})).finally((function(){t.stopLoading()}))},unfollowInitiative:function(){var t=this;if(!this.user)return this.$router.push({name:"login"}),!1;this.startLoading(),this.$http.delete("/v1/initiatives/".concat(this.initiative.id,"/members/").concat(this.user.id)).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;You don\'t follow the initiative anymore',type:"is-success"}),t.updateInitiative()})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;There was an error',type:"is-danger"})})).finally((function(){t.stopLoading()}))},updateInitiative:function(){var t=this;this.$http.get("/v1/initiatives/".concat(this.initiative.id)).then((function(e){t.$store.commit("setInitiative",e.data)})).catch((function(t){console.error(t)}))}},computed:{initiative:function(){return this.$store.getters.initiative},initiativeContext:function(){return this.$store.getters.initiativeContext},backgroundImageUrl:function(){return this.initiative&&this.initiative.pictures&&this.initiative.pictures.cover?"background-image: url(".concat(this.apiUrl,"/").concat(this.initiative.pictures.cover.path,")"):null}},beforeRouteUpdate:function(t,e,i){t.params.id===e.params.id?(console.log("Same initiative, dont load"),i()):(console.log("First time entering, getting initiative..."),Kt.get("/v1/initiatives/".concat(t.params.id)).then((function(t){k.commit("setInitiative",t.data),console.log("GET OK - Got initiative"),i()})).catch((function(t){console.log("Fetching data failed.",t),i({name:"home"})})))}},dn=cn,un=(i("4aed"),Object(Nt["a"])(dn,tn,en,!1,null,"27080282",null)),mn=un.exports,fn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"subtitle is-5 has-text-primary"},[t._v("Description")]),i("div",{staticClass:"content add-br"},[i("p",[t._v(t._s(t.initiative.description))])]),i("h1",{staticClass:"subtitle is-5 has-text-primary"},[t._v("Founding Year")]),i("div",{staticClass:"content"},[i("p",[i("b",[t._v(t._s(t.initiative.name))]),t._v(" was founded the year "+t._s(t.initiative.public_data.founding_year))])]),i("h1",{staticClass:"subtitle is-5 has-text-primary"},[t._v("Our goals")]),i("div",{staticClass:"content add-br"},[i("p",[t._v(t._s(t.initiative.public_data.goals))])]),i("h1",{staticClass:"subtitle is-5 has-text-primary"},[t._v("Areas of interest")]),0==t.initiative.terms.length?i("div",{staticClass:"content"},[t._m(0)]):t._e(),i("div",{staticClass:"tags"},t._l(t.initiative.terms,(function(e){return i("span",{key:e.id,staticClass:"tag is-rounded is-medium is-white"},[t._v(t._s(e.name))])})),0),i("h1",{staticClass:"subtitle is-5 has-text-primary"},[t._v("Presence in other countries")]),0==t.initiative.countries.length?i("div",{staticClass:"content"},[t._m(1)]):t._e(),i("div",{staticClass:"tags"},t._l(t.initiative.countries,(function(e){return i("span",{key:e.id,staticClass:"tag is-rounded is-medium is-white"},[t._v(t._s(t.getSpaceLocalization(e)))])})),0),i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("h1",{staticClass:"subtitle is-5 has-text-primary"},[t._v("Social networks")]),i("div",{staticClass:"content"},[t.initiative.public_data.website?i("p",[i("a",{staticClass:"has-text-white",attrs:{href:"https://"+t.initiative.public_data.website,target:"_blank"}},[i("i",{staticClass:"fas fa-globe fa-lg fa-fw"}),t._v("   https://"+t._s(t.initiative.public_data.website)+" ")])]):t._e(),t.initiative.public_data.facebook?i("p",[i("a",{staticClass:"has-text-white",attrs:{href:"https://facebook.com/"+t.initiative.public_data.facebook,target:"_blank"}},[i("i",{staticClass:"fab fa-facebook-f fa-lg fa-fw"}),t._v("   https://facebook.com/"+t._s(t.initiative.public_data.facebook)+" ")])]):t._e(),t.initiative.public_data.twitter?i("p",[i("a",{staticClass:"has-text-white",attrs:{href:"https://twitter.com/"+t.initiative.public_data.twitter,target:"_blank"}},[i("i",{staticClass:"fab fa-twitter fa-lg fa-fw"}),t._v("   https://twitter.com/"+t._s(t.initiative.public_data.twitter)+" ")])]):t._e(),t.initiative.public_data.other_network?i("p",[i("a",{staticClass:"has-text-white",attrs:{href:"https://"+t.initiative.public_data.other_network,target:"_blank"}},[i("i",{staticClass:"fas fa-external-link-alt fa-lg fa-fw"}),t._v("   https://"+t._s(t.initiative.public_data.other_network)+" ")])]):t._e()]),t.hasSocialNetworks?t._e():i("div",[t._m(2)])]),i("div",{staticClass:"column"},[i("h1",{staticClass:"subtitle is-5 has-text-primary"},[t._v("Role of Youth")]),i("div",{staticClass:"content"},[i("p",[t._v(t._s(t.$t("globals.role_of_youth")[t.initiative.public_data.role_of_youth]))])])])])])},pn=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("i",[t._v("No areas of interest has been added to the initiative")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("i",[t._v("No presence in other countries")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("i",[t._v("The initiative didn't add social networks")])])}],hn={computed:{initiative:function(){return this.$store.getters.initiative},hasSocialNetworks:function(){return this.initiative.public_data.facebook||this.initiative.public_data.twitter||this.initiative.public_data.website||this.initiative.public_data.other_network}}},vn=hn,gn=Object(Nt["a"])(vn,fn,pn,!1,null,null,null),_n=gn.exports,bn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"subtitle is-5 has-text-primary has-text-centered"},[t._v("Members")]),i("div",{staticClass:"columns is-multiline is-mobile is-centered"},t._l(t.ownersAndMembers,(function(e){return i("div",{key:e.id,staticClass:"column is-6-mobile is-3-desktop has-text-centered"},[i("router-link",{staticClass:"has-text-white",attrs:{to:{name:"profile",params:{id:e.id}}}},[i("img",{staticClass:"image is-rounded is-128x128 is-centered member-icon",attrs:{src:t.makeUserAvatar(e)}}),i("p",[t._v(t._s(e.display_name)+" "),i("br"),"owner"==e.pivot.relation?i("span",{staticClass:"is-size-7"},[i("i",{staticClass:"fas fa-shield-alt"}),t._v(" Owner")]):t._e(),"member"==e.pivot.relation?i("span",{staticClass:"is-size-7"},[i("i",{staticClass:"fas fa-star"}),t._v(" Member")]):t._e()])])],1)})),0),i("h1",{staticClass:"subtitle is-5 has-text-primary has-text-centered"},[t._v("Followers")]),i("div",{staticClass:"columns is-multiline is-mobile is-centered"},t._l(t.followers,(function(e){return i("div",{key:e.id,staticClass:"column is-6-mobile is-3-desktop has-text-centered"},[i("router-link",{staticClass:"has-text-white",attrs:{to:{name:"profile",params:{id:e.id}}}},[i("img",{staticClass:"image is-rounded is-64x64 is-centered member-icon",attrs:{src:t.makeUserAvatar(e)}}),i("p",[t._v(t._s(e.display_name)+" "),i("br"),i("span",{staticClass:"is-size-7"},[i("i",{staticClass:"fas fa-thumbs-up"}),t._v(" Follower")])])])],1)})),0),i("infinite-loading",{on:{infinite:t.infiniteHandler}},[i("div",{staticClass:"section",attrs:{slot:"no-more"},slot:"no-more"},[i("p",[i("i",{staticClass:"far fa-surprise fa-2x"})]),i("p",[t._v("End of the list!")])]),i("div",{attrs:{slot:"no-results"},slot:"no-results"},[i("p",[i("i",{staticClass:"far fa-frown fa-2x"})]),i("p",[t._v("Nothing here")])])])],1)},Cn=[],yn={props:["id"],data:function(){return{isFetching:!1,members:[],page:0,sort:["owner","member"]}},components:{InfiniteLoading:Me.a},methods:{infiniteHandler:function(t){var e=this;this.isFetching=!0,this.$http.get("/v1/initiatives/".concat(this.id,"/members"),{params:{offset:100*this.page,size:100}}).then((function(i){var a,s=i.data;s.data.length?(e.page+=1,(a=e.members).push.apply(a,Object(Se["a"])(s.data)),e.isFetching=!1,t.loaded()):t.complete()}))}},computed:{initiative:function(){return this.$store.getters.initiative},ownersAndMembers:function(){var t=this;return this.members.filter((function(t){return["owner","member"].includes(t.pivot.relation)})).sort((function(e,i){return t.sort.indexOf(e.pivot.relation)-t.sort.indexOf(i.pivot.relation)}))},followers:function(){return this.members.filter((function(t){return"follower"==t.pivot.relation}))}}},wn=yn,kn=(i("f861"),Object(Nt["a"])(wn,bn,Cn,!1,null,"2aec7572",null)),$n=kn.exports,xn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"subtitle is-5 has-text-primary"},[t._v("Location")]),i("div",{staticClass:"map-container"},[i("Map",{attrs:{name:t.initiative.name,description:t.initiative.description,coordinates:t.initiative.city.space.point.coordinates}})],1)])},In=[],An={components:{Map:ya},computed:{initiative:function(){return this.$store.getters.initiative}}},Ln=An,qn=Object(Nt["a"])(Ln,xn,In,!1,null,null,null),Pn=qn.exports,Tn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("section",[i("div",{staticClass:"hero is-fullheight is-dark",attrs:{id:"hero"}},[i("router-link",{staticClass:"cn-back-home",attrs:{to:{name:"home"}}},[i("img",{staticClass:"image",attrs:{src:"/iso-cn.svg",alt:""}})]),i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-narrow"},[i("img",{staticClass:"image is-rounded is-centered profile-icon",attrs:{src:t.makeUserAvatar(t.userProfile)}})]),i("div",{staticClass:"column"},[i("h1",{staticClass:"title is-1 is-size-3-touch"},[t._v(t._s(t.userProfile.display_name))]),t.user&&t.user.id==t.userProfile.id?i("div",{staticClass:"buttons"},[t.isAdmin?i("router-link",{staticClass:"button is-outlined is-white is-small is-800",attrs:{to:{name:"userProfile",params:{id:t.user.id}}}},[i("i",{staticClass:"fas fa-pencil-alt fa-lg fa-fw"}),t._v("  E D I T ")]):t._e()],1):t._e(),i("div",{staticClass:"content"},[i("p",{staticClass:"add-br is-italic"},[t._v(t._s(t.userProfile.bio||"I haven't completed my bio yet!"))])]),i("div",{staticClass:"columns is-mobile"},[i("div",{staticClass:"column is-narrow"},[t.userProfile.data&&t.userProfile.data.website?i("a",{staticClass:"has-text-white",attrs:{href:"https://"+t.userProfile.data.website,target:"_blank"}},[i("i",{staticClass:"fas fa-globe fa-lg fa-fw"})]):t._e()]),i("div",{staticClass:"column is-narrow"},[t.userProfile.data&&t.userProfile.data.facebook?i("a",{staticClass:"has-text-white",attrs:{href:"https://facebook.com/"+t.userProfile.data.facebook,target:"_blank"}},[i("i",{staticClass:"fab fa-facebook-f fa-lg fa-fw"})]):t._e()]),i("div",{staticClass:"column is-narrow"},[t.userProfile.data&&t.userProfile.data.twitter?i("a",{staticClass:"has-text-white",attrs:{href:"https://twitter.com/"+t.userProfile.data.twitter,target:"_blank"}},[i("i",{staticClass:"fab fa-twitter fa-lg fa-fw"})]):t._e()]),i("div",{staticClass:"column is-narrow"},[t.userProfile.data&&t.userProfile.data.other_network?i("a",{staticClass:"has-text-white",attrs:{href:"https://"+t.userProfile.data.other_network,target:"_blank"}},[i("i",{staticClass:"fas fa-external-link-alt fa-lg fa-fw"})]):t._e()])]),t._m(0),0==t.userProfile.person.terms.length?i("div",{staticClass:"content"},[t._m(1)]):t._e(),i("div",{staticClass:"tags"},t._l(t.userProfile.person.terms,(function(e){return i("span",{key:e.id,staticClass:"tag is-rounded is-medium is-primary"},[t._v(t._s(e.name))])})),0)])])])]),i("vue-particles",{attrs:{color:"FFFFFF",hoverEffect:!1,clickEffect:!1}})],1)])])},Nn=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h1",{staticClass:"subtitle is-5 has-text-white"},[i("i",{staticClass:"fas fa-tag"}),t._v(" Areas of interest")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("i",[t._v("I haven't completed my areas of interest yet!")])])}],On={computed:{userProfile:function(){return this.$store.getters.userProfile}},beforeRouteUpdate:function(t,e,i){t.params.id===e.params.id?(console.log("Same user profile, dont load"),i()):(console.log("First time entering, getting user profile..."),Kt.get("/v1/users/".concat(t.params.id)).then((function(t){k.commit("setUserProfile",t.data.data),console.log("GET OK - Got user profile"),i()})).catch((function(t){console.log("Fetching data failed.",t),i({name:"home"})})))}},Rn=On,En=(i("d870"),Object(Nt["a"])(Rn,Tn,Nn,!1,null,"b71c56c2",null)),Sn=En.exports,Fn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("div",{staticClass:"container"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-3"},[i("Menu")],1),i("div",{staticClass:"column"},[i("RouterView")],1)])])])},Mn=[],jn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-link",{attrs:{to:{name:"home"}}},[i("img",{staticClass:"image logo",attrs:{src:"/iso-cn.svg",alt:""}})]),i("aside",{staticClass:"menu"},[i("ul",{staticClass:"menu-list"},[i("li",[i("router-link",{attrs:{to:{name:"home"}}},[i("i",{staticClass:"fas fa-arrow-left"}),t._v(" Home ")])],1),i("li",[i("router-link",{attrs:{to:{name:"admin"}}},[t._v("Dashboard")])],1)]),i("p",{staticClass:"menu-label"},[t._v("Initiative management")]),i("ul",{staticClass:"menu-list"},[i("li",[i("router-link",{attrs:{to:{name:"adminInitiativesCreate"}}},[i("i",{staticClass:"fas fa-plus"}),t._v(" New initiative ")])],1),i("li",[i("router-link",{attrs:{to:{name:"adminInitiativesList"}}},[t._v("List initiatives")])],1),i("li",[i("router-link",{attrs:{to:{name:"adminInitiativesListCities"}}},[t._v("List cities with initiative")])],1)]),i("p",{staticClass:"menu-label"},[t._v("Map management")]),i("ul",{staticClass:"menu-list"},[i("li",[i("router-link",{attrs:{to:{name:"adminMapCitiesAdd"}}},[i("i",{staticClass:"fas fa-plus"}),t._v(" New city ")])],1),i("li",[i("router-link",{attrs:{to:{name:"adminMapCitiesList"}}},[t._v("List cities")])],1),i("li",[i("router-link",{attrs:{to:{name:"adminMapCountriesList"}}},[t._v("List countries")])],1),i("li",[i("router-link",{attrs:{to:{name:"adminMapRegionsList"}}},[t._v("List regions")])],1)]),i("p",{staticClass:"menu-label"},[t._v("Areas of interest management")]),i("ul",{staticClass:"menu-list"},[i("li",[i("router-link",{attrs:{to:{name:"adminAreasOfInterestCreate"}}},[i("i",{staticClass:"fas fa-plus"}),t._v(" New area of interest ")])],1),i("li",[i("router-link",{attrs:{to:{name:"adminAreasOfInterestList"}}},[t._v("List areas of interest")])],1)]),i("p",{staticClass:"menu-label"},[t._v("Creating Networks TV")]),i("ul",{staticClass:"menu-list"},[i("li",[i("router-link",{attrs:{to:{name:"adminCreatingNetworksTvCreate"}}},[i("i",{staticClass:"fas fa-plus"}),t._v(" New video ")])],1),i("li",[i("router-link",{attrs:{to:{name:"adminCreatingNetworksTvList"}}},[t._v("List videos")])],1)]),i("p",{staticClass:"menu-label"},[t._v("Configuration")]),i("ul",{staticClass:"menu-list"},[i("li",[i("router-link",{attrs:{to:{name:"adminConfigAdministrators"}}},[t._v("Administrators")])],1)])])],1)},zn=[],Dn=(i("ad41"),{}),Un=Object(Nt["a"])(Dn,jn,zn,!1,null,"65c8d724",null),Yn=Un.exports,Vn={components:{Menu:Yn}},Bn=Vn,Hn=Object(Nt["a"])(Bn,Fn,Mn,!1,null,null,null),Wn=Hn.exports,Gn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3 "},[t._v("Welcome to the admin panel!")]),i("p",[t._v("Hi "+t._s(t.user.display_name)+"! "),i("i",{staticClass:"far fa-grin"})])])},Qn=[],Jn={},Kn=Jn,Zn=Object(Nt["a"])(Kn,Gn,Qn,!1,null,null,null),Xn=Zn.exports,to=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("Administrators")]),i("p",[t._v("Here you can see and add new administrators to the platform")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v("Add a new admin")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.emailInput,expression:"emailInput"},{name:"validate",rawName:"v-validate",value:{email:!0},expression:"{email: true}"}],staticClass:"input",attrs:{type:"text",name:"Email",placeholder:"Type the email"},domProps:{value:t.emailInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findUser.apply(null,arguments)},input:function(e){e.target.composing||(t.emailInput=e.target.value)}}}),i("p",{staticClass:"help is-dark"},[t._v("Write the new email of the new administrator")]),i("p",{staticClass:"help is-danger",attrs:{"v-show":t.errors.has("Email")}},[t._v(t._s(t.errors.first("Email")))])])]),i("div",{staticClass:"buttons is-right"},[i("button",{staticClass:"button is-primary",on:{click:t.findUser}},[i("i",{staticClass:"fas fa-search"}),t._v(" Check user")])])])]),t.userFound?i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("b-notification",{attrs:{type:"is-dark","aria-close-label":"Close notification"},on:{close:function(e){t.userFound=null}}},[i("div",{staticClass:"content"},[i("p",[t._v("Found user "),i("b",[t._v(t._s(t.userFound.display_name))]),i("br"),t._v("Do you want to add the user as an Administrator?")]),i("div",{staticClass:"buttons"},[i("button",{staticClass:"button is-primary is-small",on:{click:t.submit}},[i("i",{staticClass:"fas fa-check"}),t._v(" Yes")])])])])],1)]):t._e(),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("b-table",{attrs:{data:t.admins,loading:t.fetching,striped:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"id",label:"ID",width:"40",numeric:""}},[t._v(t._s(e.row.id))]),i("b-table-column",{attrs:{label:"Avatar",width:"100",centered:""}},[i("img",{staticClass:"image is-rounded is-48x48 is-centered",attrs:{src:t.makeUserAvatar(e.row),alt:""}})]),i("b-table-column",{attrs:{field:"display_name",label:"Name and surname",sortable:""}},[t._v(t._s(e.row.display_name))]),i("b-table-column",{attrs:{label:"Actions",width:"100",centered:""}},[i("div",{staticClass:"buttons is-marginless is-centered"},[i("a",{staticClass:"button is-small",attrs:{disabled:""}},[i("i",{staticClass:"fas fa-times"})])])])]}}])},[i("template",{slot:"empty"},[i("empty-table")],1)],2),i("br"),i("pagination-bar",{ref:"paginator",attrs:{"resource-url":"/v1/subjects",fetching:t.fetching,query:t.query},on:{update:t.getAdmins,"update:fetching":function(e){t.fetching=e}}})],1)])])},eo=[],io=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{staticClass:"pagination is-small",attrs:{role:"navigation","aria-label":"pagination"}},[i("a",{staticClass:"pagination-previous",attrs:{disabled:t.disablePrevious},on:{click:t.fetchPrevious}},[t._v("Previous")]),i("a",{staticClass:"pagination-next",attrs:{disabled:t.disableNextPage},on:{click:t.fetchNext}},[t._v("Next page")]),i("ul",{staticClass:"pagination-list"},[t.isLoading?t._e():i("li",[i("a",{staticClass:"pagination-ellipsis"},[t._v("Page "+t._s(this.currentPage)+" of "+t._s(this.totalPages))])])])])},ao=[],so={props:{resourceUrl:{type:String,required:!0},query:{type:Object,required:!1},fetching:Boolean},data:function(){return{defaultQuery:{size:10},pagination:{offset:null,size:null,total:0},links:null,isLoading:!1}},created:function(){this.getResource()},methods:{getResource:function(){var t=this;this.isLoading=!0,this.startLoading(),this.$emit("update:fetching",!0);var e=this.resourceUrl;this.queryString&&(e="".concat(e,"?").concat(this.queryString)),console.log(this.query),console.log(e),this.$http.get(e).then((function(e){t.updatePagination(e.data.pagination,e.data.links),t.$emit("update",e.data.data)})).finally((function(){t.isLoading=!1,t.stopLoading(),t.$emit("update:fetching",!1)}))},updatePagination:function(t,e){this.pagination=t,this.links=e},fetchNext:function(){var t=this,e=this.links.next.replace(/^.*\/\/[^\/]+/,"");this.startLoading(),this.$emit("update:fetching",!0),this.$http.get(e).then((function(e){t.updatePagination(e.data.pagination,e.data.links),t.$emit("update",e.data.data)})).finally((function(){t.stopLoading(),t.$emit("update:fetching",!1)}))},fetchPrevious:function(){var t=this,e=this.links.prev.replace(/^.*\/\/[^\/]+/,"");this.startLoading(),this.$emit("update:fetching",!0),this.$http.get(e).then((function(e){t.updatePagination(e.data.pagination,e.data.links),t.$emit("update",e.data.data)})).finally((function(){t.stopLoading(),t.$emit("update:fetching",!1)}))}},computed:{queryString:function(){var t=this.defaultQuery;return this.isEmptyObject(this.query)||(t=Object.assign(t,this.query)),Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")},disableNextPage:function(){return!this.links||!this.links.next},disablePrevious:function(){return!this.links||!this.links.prev},currentPage:function(){return this.pagination.offset/this.pagination.size+1},totalPages:function(){return this.pagination.total%this.pagination.size?Math.floor(this.pagination.total/this.pagination.size)+1:0==this.pagination.total?1:this.pagination.total/this.pagination.size}}},no=so,oo=Object(Nt["a"])(no,io,ao,!1,null,null,null),ro=oo.exports,lo=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},co=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"section"},[i("div",{staticClass:"content has-text-grey has-text-centered"},[i("p",[i("i",{staticClass:"far fa-frown fa-2x"})]),i("p",[t._v("Nothing here")])])])}],uo={},mo=Object(Nt["a"])(uo,lo,co,!1,null,null,null),fo=mo.exports,po={components:{PaginationBar:ro,EmptyTable:fo},data:function(){return{emailInput:null,admins:[],fetching:null,userFound:null}},mounted:function(){},methods:{getAdmins:function(t){this.admins=t},findUser:function(){var t=this;this.$http.get("/v1/subjects?role=User&username=".concat(this.emailInput)).then((function(e){e.data.data[0]&&(t.userFound=e.data.data[0]),0===e.data.data.length&&t.$toast.open({message:'No result with email <i class="fas fa-envelope fa-fw"></i>&nbsp;'.concat(t.emailInput),type:"is-warning"})}))},getPayload:function(){var t={};return{data:t}},submit:function(){var t=this;this.startLoading(),this.$http.post("/v1/subjects/".concat(this.userFound.id,"/roles/Admin"),this.getPayload()).then((function(){t.userFound=null,t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;New administrator added',type:"is-success"}),t.$refs.paginator.getResource()})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while adding administrator',type:"is-danger"}),t.stopLoading()}))}},computed:{query:function(){return{role:"Admin"}}}},ho=po,vo=Object(Nt["a"])(ho,to,eo,!1,null,null,null),go=vo.exports,_o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("List of initiatives")]),i("p",[t._v("Take a look at the initiatives added to the platform")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("b-table",{attrs:{data:t.initiatives,loading:t.fetching,striped:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"id",label:"ID",width:"40",numeric:""}},[t._v(t._s(e.row.id))]),i("b-table-column",{attrs:{field:"name",label:"Name",sortable:""}},[i("router-link",{attrs:{to:{name:"adminInitiativesEdit",params:{id:e.row.id}}}},[t._v(t._s(e.row.name))])],1),i("b-table-column",{attrs:{field:"created_at",label:"Created"}},[t._v(t._s(e.row.created_at.split(" ")[0]))]),i("b-table-column",{attrs:{width:"80"}},[i("router-link",{attrs:{to:{name:"initiative",params:{id:e.row.id}}}},[t._v("View")]),t._v("  "),i("router-link",{attrs:{to:{name:"adminInitiativesEdit",params:{id:e.row.id}}}},[t._v("Edit")]),t._v("  "),i("a",{staticClass:"has-text-danger",on:{click:function(i){return t.openModalDelete(e.row)}}},[t._v("Delete")])],1)]}}])},[i("template",{slot:"empty"},[i("empty-table")],1)],2),i("br"),i("pagination-bar",{ref:"paginator",attrs:{"resource-url":"/v1/initiatives",fetching:t.fetching},on:{update:t.getInitiatives,"update:fetching":function(e){t.fetching=e}}})],1)])])},bo=[],Co=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-card",staticStyle:{width:"100%"}},[i("section",{staticClass:"modal-card-body has-text-centered"},["initiative"==t.resourceType?i("div",{staticClass:"content"},[i("h1",{staticClass:"subtitle is-3 has-text-danger"},[t._v("You are about to delete a initiative")]),i("p",[t._v("There is no going back after deleting it!")]),i("p",[t._v("Are you sure you want to delete the initiative "),i("b",[t._v(t._s(t.resource.name))])])]):t._e(),"areaOfInterest"==t.resourceType?i("div",{staticClass:"content"},[i("h1",{staticClass:"subtitle is-3 has-text-danger"},[t._v("You are about to delete an area of interest")]),i("p",[t._v("There is no going back after deleting it!")]),i("p",[t._v("Are you sure you want to delete the area of interest "),i("b",[t._v(t._s(t.resource.name))])])]):t._e(),"videos"==t.resourceType?i("div",{staticClass:"content"},[i("h1",{staticClass:"subtitle is-3 has-text-danger"},[t._v("You are about to delete a video from Creating Networks TV")]),i("p",[t._v("There is no going back after deleting it!")]),i("p",[t._v("Are you sure you want to delete the video "),i("b",[t._v(t._s(t.resource.title))])])]):t._e(),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Close")]),i("button",{staticClass:"button is-danger",on:{click:t.confirm}},[i("i",{staticClass:"fas fa-delete"}),t._v(" Delete it")])])])])},yo=[],wo={props:{resourceType:{type:String,required:!0},resource:{type:Object,required:!0}},methods:{confirm:function(){this.$parent.close(),this.$emit("confirm",this.resource)}}},ko=wo,$o=Object(Nt["a"])(ko,Co,yo,!1,null,null,null),xo=$o.exports,Io={components:{PaginationBar:ro,EmptyTable:fo},data:function(){return{initiatives:[],fetching:null}},mounted:function(){},methods:{getInitiatives:function(t){this.initiatives=t},openModalDelete:function(t){var e=this;this.$modal.open({parent:this,component:xo,props:{resourceType:"initiative",resource:t},hasModalCard:!0,events:{confirm:function(t){e.deleteInitiative(t)}}})},deleteInitiative:function(t){var e=this;this.startLoading(),this.$http.delete("/v1/initiatives/".concat(t.id)).then((function(){e.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;The initiative has been deleted',type:"is-success"}),e.$refs.paginator.getResource()})).catch((function(t){console.error(t),e.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while deleting an initiative',type:"is-danger"}),e.stopLoading()}))}}},Ao=Io,Lo=Object(Nt["a"])(Ao,_o,bo,!1,null,null,null),qo=Lo.exports,Po=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("New initiative")]),i("p",[t._v("Add initiatives as an admin. Later you can assign users as administrators of the initiative.")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("DataForm",{ref:"data",attrs:{model:t.model},on:{"update:model":function(e){t.model=e}}})],1)]),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("LocationForm",{ref:"location",attrs:{model:t.model},on:{"update:model":function(e){t.model=e}}})],1)]),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"buttons is-right"},[i("button",{staticClass:"button is-primary",on:{click:t.submit}},[i("i",{staticClass:"fas fa-plus"}),t._v(" Create Initiative ")])])])])])},To=[],No=(i("3ca3"),i("ddb0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("admin.initiatives.create.fields.name.label")))]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required: true}"}],staticClass:"input",attrs:{type:"text","data-vv-as":t.$t("admin.initiatives.create.fields.name.label"),name:"name",placeholder:t.$t("admin.initiatives.create.placeholder")},domProps:{value:t.model.name},on:{input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}}),t.errors.has("name")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("name")))]):t._e()])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("admin.initiatives.create.fields.description.label")))]),i("div",{staticClass:"control"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.description,expression:"model.description"},{name:"validate",rawName:"v-validate",value:{required:!0,max:500},expression:"{required:true, max:500 }"}],staticClass:"textarea",attrs:{rows:"4","data-vv-as":t.$t("admin.initiatives.create.fields.description.label"),name:"description",placeholder:t.$t("admin.initiatives.create.placeholder")},domProps:{value:t.model.description},on:{input:function(e){e.target.composing||t.$set(t.model,"description",e.target.value)}}}),t.errors.has("description")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("description")))]):t._e()])]),i("br"),i("h1",{staticClass:"title is-3 has-text-black"},[t._v(t._s(t.$t("admin.initiatives.create.fields.public_data.label")))]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("admin.initiatives.create.fields.public_data.goals.label")))]),i("div",{staticClass:"control"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.public_data.goals,expression:"model.public_data.goals"},{name:"validate",rawName:"v-validate",value:{required:!0,max:750},expression:"{required:true, max:750}"}],staticClass:"textarea",attrs:{rows:"4","data-vv-as":t.$t("admin.initiatives.create.fields.public_data.goals.label"),name:"goals",placeholder:t.$t("admin.initiatives.create.placeholder")},domProps:{value:t.model.public_data.goals},on:{input:function(e){e.target.composing||t.$set(t.model.public_data,"goals",e.target.value)}}}),t.errors.has("goals")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("goals")))]):t._e()])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("admin.initiatives.create.fields.public_data.founding_year.label")))]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.public_data.founding_year,expression:"model.public_data.founding_year"},{name:"validate",rawName:"v-validate",value:{required:!0,between:[1900,2020],date_format:"yyyy"},expression:"{required: true, between: [1900,2020], date_format: 'yyyy' }"}],staticClass:"input",attrs:{type:"text","data-vv-as":t.$t("admin.initiatives.create.fields.public_data.founding_year.label"),name:"founding_year",placeholder:t.$t("admin.initiatives.create.placeholder")},domProps:{value:t.model.public_data.founding_year},on:{input:function(e){e.target.composing||t.$set(t.model.public_data,"founding_year",e.target.value)}}}),t.errors.has("founding_year")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("founding_year")))]):t._e()])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("admin.initiatives.create.fields.public_data.role_of_youth.label")))]),i("div",{staticClass:"control"},[i("div",{staticClass:"block"},[i("b-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required:true}"}],attrs:{name:"role","native-value":"targetAudience"},model:{value:t.model.public_data.role_of_youth,callback:function(e){t.$set(t.model.public_data,"role_of_youth",e)},expression:"model.public_data.role_of_youth"}},[t._v(t._s(t.$t("admin.initiatives.create.fields.public_data.role_of_youth.options")["targetAudience"]))]),i("b-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required:true}"}],attrs:{name:"role","native-value":"leadership"},model:{value:t.model.public_data.role_of_youth,callback:function(e){t.$set(t.model.public_data,"role_of_youth",e)},expression:"model.public_data.role_of_youth"}},[t._v(t._s(t.$t("admin.initiatives.create.fields.public_data.role_of_youth.options")["leadership"]))]),i("b-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{required:true}"}],attrs:{name:"role","native-value":"membership"},model:{value:t.model.public_data.role_of_youth,callback:function(e){t.$set(t.model.public_data,"role_of_youth",e)},expression:"model.public_data.role_of_youth"}},[t._v(t._s(t.$t("admin.initiatives.create.fields.public_data.role_of_youth.options")["membership"]))])],1),t.errors.has("role")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("role")))]):t._e()])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("admin.initiatives.create.fields.public_data.networks.label")))]),i("div",{staticClass:"control"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(0),t._m(1),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.public_data.website,expression:"model.public_data.website"},{name:"validate",rawName:"v-validate",value:{required:!1,min:5,max:100,url:!0},expression:"{required: false, min: 5, max:100, url: true }"}],staticClass:"input has-text-centered",attrs:{type:"text",name:"website","data-vv-as":t.$t("admin.initiatives.create.fields.public_data.networks.website"),placeholder:t.$t("forms.user.addInitiative.optional")},domProps:{value:t.model.public_data.website},on:{input:function(e){e.target.composing||t.$set(t.model.public_data,"website",e.target.value)}}})])]),t.errors.has("website")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("website")))]):t._e(),!t.errors.has("website")&&t.model.public_data.website?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://"+t.model.public_data.website}},[t._v(t._s(t.$t("admin.initiatives.create.fields.public_data.networks.test")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(2),t._m(3),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.public_data.facebook,expression:"model.public_data.facebook"},{name:"validate",rawName:"v-validate",value:{required:!1,min:3,max:100},expression:"{required: false, min: 3, max:100 }"}],staticClass:"input has-text-centered",attrs:{type:"text",name:"facebook","data-vv-as":t.$t("admin.initiatives.create.fields.public_data.networks.facebook"),placeholder:t.$t("forms.user.addInitiative.optional")},domProps:{value:t.model.public_data.facebook},on:{input:function(e){e.target.composing||t.$set(t.model.public_data,"facebook",e.target.value)}}})])]),t.errors.has("facebook")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("facebook")))]):t._e(),!t.errors.has("facebook")&&t.model.public_data.facebook?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://facebook.com/"+t.model.public_data.facebook}},[t._v(t._s(t.$t("admin.initiatives.create.fields.public_data.networks.test")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(4),t._m(5),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.public_data.twitter,expression:"model.public_data.twitter"},{name:"validate",rawName:"v-validate",value:{required:!1,min:3,max:100},expression:"{required: false, min: 3, max:100 }"}],staticClass:"input has-text-centered",attrs:{type:"text",name:"twitter","data-vv-as":t.$t("admin.initiatives.create.fields.public_data.networks.twitter"),placeholder:t.$t("forms.user.addInitiative.optional")},domProps:{value:t.model.public_data.twitter},on:{input:function(e){e.target.composing||t.$set(t.model.public_data,"twitter",e.target.value)}}})])]),t.errors.has("twitter")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("twitter")))]):t._e(),!t.errors.has("twitter")&&t.model.public_data.twitter?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://twitter.com/"+t.model.public_data.twitter}},[t._v(t._s(t.$t("admin.initiatives.create.fields.public_data.networks.test")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(6),t._m(7),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.public_data.other_network,expression:"model.public_data.other_network"},{name:"validate",rawName:"v-validate",value:{required:!1,min:5,max:100,url:!0},expression:"{required: false, min: 5, max:100, url: true }"}],staticClass:"input has-text-centered",attrs:{type:"text",name:"other_network","data-vv-as":t.$t("admin.initiatives.create.fields.public_data.networks.other_network"),placeholder:t.$t("admin.initiatives.create.fields.public_data.networks.other_network")},domProps:{value:t.model.public_data.other_network},on:{input:function(e){e.target.composing||t.$set(t.model.public_data,"other_network",e.target.value)}}})])]),t.errors.has("other_network")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("other_network")))]):t._e(),!t.errors.has("other_network")&&t.model.public_data.other_network?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://"+t.model.public_data.other_network}},[t._v(t._s(t.$t("admin.initiatives.create.fields.public_data.networks.test")))]):t._e()])])])]),i("br"),i("h1",{staticClass:"title is-3 has-text-black"},[t._v(t._s(t.$t("admin.initiatives.create.fields.private_data.label")))]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("admin.initiatives.create.fields.private_data.contact_email.label")))]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.private_data.contact_email,expression:"model.private_data.contact_email"},{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{required: true, email: true}"}],staticClass:"input",attrs:{type:"text","data-vv-as":t.$t("admin.initiatives.create.fields.private_data.contact_email.label"),name:"contact_email",placeholder:t.$t("admin.initiatives.create.placeholder")},domProps:{value:t.model.private_data.contact_email},on:{input:function(e){e.target.composing||t.$set(t.model.private_data,"contact_email",e.target.value)}}}),t.errors.has("contact_email")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("contact_email")))]):t._e()])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("admin.initiatives.create.fields.private_data.contact_phone.label")))]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.private_data.contact_phone,expression:"model.private_data.contact_phone"},{name:"validate",rawName:"v-validate",value:{required:!1,min:5,max:30},expression:"{required: false, min: 5, max: 30 }"}],staticClass:"input",attrs:{type:"text","data-vv-as":t.$t("admin.initiatives.create.fields.private_data.contact_phone.label"),name:"contact_phone",placeholder:t.$t("admin.initiatives.create.optional")},domProps:{value:t.model.private_data.contact_phone},on:{input:function(e){e.target.composing||t.$set(t.model.private_data,"contact_phone",e.target.value)}}}),t.errors.has("contact_phone")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("contact_phone")))]):t._e()])]),t.edit?i("div",[i("hr"),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"buttons is-right"},[i("button",{staticClass:"button is-primary",on:{click:function(e){return t.$emit("update")}}},[i("i",{staticClass:"fas fa-save"}),t._v(" Update ")])])])])]):t._e()])}),Oo=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[i("i",{staticClass:"fas fa-globe fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[t._v("https://")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[i("i",{staticClass:"fab fa-facebook fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[t._v("https://facebook.com/")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[i("i",{staticClass:"fab fa-twitter fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[t._v("https://twitter.com/")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[i("i",{staticClass:"fas fa-asterisk fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[t._v("https://")])])}],Ro={props:{model:{type:Object,required:!0},edit:{type:Boolean}},data:function(){return{}},methods:{validate:function(){var t=this,e=new Promise((function(e){t.$validator.validateAll().then((function(t){return e(t)}))}));return e}}},Eo=Ro,So=Object(Nt["a"])(Eo,No,Oo,!1,null,null,null),Fo=So.exports,Mo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3 has-text-black"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.title")))]),t.edit?i("div",[null==t.model.city?i("div",{staticClass:"notification is-link"},[i("p",[t._v(t._s(t.$t("admin.initiatives.create.fields.location.notificationNoCity")))])]):i("div",{staticClass:"notification is-success"},[i("p",{domProps:{innerHTML:t._s(t.$t("admin.initiatives.create.fields.location.theLocation",{region:t.getSpaceLocalization(t.model.city.country.region),country:t.getSpaceLocalization(t.model.city.country),city:t.getSpaceLocalization(t.model.city)}))}})])]):i("div",[null==t.model.selectedCity?i("div",{staticClass:"notification is-link"},[i("p",[t._v(t._s(t.$t("admin.initiatives.create.fields.location.notificationNoCity")))])]):i("div",{staticClass:"notification is-success"},[i("p",{domProps:{innerHTML:t._s(t.$t("admin.initiatives.create.fields.location.theLocation",{region:t.getSpaceLocalization(t.model.selectedRegion),country:t.getSpaceLocalization(t.model.selectedCountry),city:t.getSpaceLocalization(t.model.selectedCity)}))}})])]),i("br"),null!=t.model.city&&t.edit?i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("label",{staticClass:"label"},[t._v("Remove initiative from the map")]),i("div",{staticClass:"is-clearfix"},[i("button",{staticClass:"button is-danger is-outlined is-pulled-right",on:{click:t.removeCity}},[i("i",{staticClass:"fas fa-times"}),t._v(" Remove location")]),i("p",{staticClass:"is-pulled-left"},[t._v("¿Do you really want to remove the initiative from the map?")])])])]):t._e(),null==t.model.city?i("div",{},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.searchTitle")))]),i("b-autocomplete",{attrs:{rounded:"",data:t.filteredRegions,placeholder:t.placeholderRegions,"open-on-focus":!0,loading:t.fetchingRegions,icon:"search",field:"name"},on:{select:function(e){return t.selectRegion(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}],null,!1,1602146227),model:{value:t.queryRegion,callback:function(e){t.queryRegion=e},expression:"queryRegion"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.noResults")))])],2)],1)]),t.selectedRegion?i("div",{staticClass:"field animated fadeIn"},[i("div",{staticClass:"control"},[i("b-autocomplete",{attrs:{rounded:"",data:t.filteredCountries,placeholder:t.placeholderCountries,"open-on-focus":!0,loading:t.fetchingCountries,icon:"search",field:"name"},on:{select:function(e){return t.selectCountry(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}],null,!1,1602146227),model:{value:t.queryCountry,callback:function(e){t.queryCountry=e},expression:"queryCountry"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.noResults")))])],2)],1)]):t._e(),t.selectedCountry&&!t.notInACity?i("div",{staticClass:"field animated fadeIn"},[i("div",{staticClass:"control"},[i("b-autocomplete",{attrs:{rounded:"",data:t.dataCities,placeholder:t.placeholderCities,loading:t.fetchingCities,icon:"search",field:"name"},on:{typing:t.getCityAsync,select:function(e){return t.selectCity(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}],null,!1,1602146227),model:{value:t.queryCity,callback:function(e){t.queryCity=e},expression:"queryCity"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.noResults")))]),i("template",{slot:"footer"})],2)],1)]):t._e(),t.notInACity?i("div",{staticClass:"notification is-dark animated fadeIn"},[i("span",{staticClass:"delete",on:{click:t.isLocatedInACity}}),i("i",{staticClass:"fas fa-info"}),t._v("    "+t._s(t.$t("admin.initiatives.create.fields.location.notificationNoCity"))+" ")]):t._e(),i("br"),t.selectedCity?i("div",[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.confirm.title")))]),i("div",{staticClass:"control"},[i("p",{domProps:{innerHTML:t._s(t.$t("admin.initiatives.create.fields.location.confirm.question",{region:t.getSpaceLocalization(t.selectedRegion),country:t.getSpaceLocalization(t.selectedCountry),city:t.getSpaceLocalization(t.selectedCity)}))}})])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"buttons"},[i("button",{staticClass:"button is-primary",on:{click:t.confirmLocation}},[t._v("Confirm")])])])])]):t._e()]):t._e()])},jo=[],zo={props:{model:{type:Object,required:!0},edit:{type:Boolean}},data:function(){return{queryRegion:"",queryCountry:"",queryCity:"",dataRegions:[],dataCountries:[],dataCities:[],fetchingRegions:!0,fetchingCountries:!1,fetchingCities:!1,selectedRegion:null,selectedCountry:null,selectedCity:null,notInACity:!1}},created:function(){this.fetchRegions()},methods:{fetchRegions:function(){var t=this;this.$http.get("/v1/regions?size=100").then((function(e){t.dataRegions=e.data.data})).finally((function(){t.fetchingRegions=!1}))},selectRegion:function(t){var e=this;null!==t&&(this.fetchingCountries=!0,this.selectedRegion=t,this.queryCountry="",this.queryCity="",this.selectedCountry=null,this.selectedCity=null,this.$http.get("/v1/countries?size=100&region_id=".concat(t.id)).then((function(t){e.dataCountries=t.data.data})).finally((function(){e.fetchingCountries=!1})))},selectCountry:function(t){null!=t&&(this.selectedCountry=t,this.queryCity="",this.selectedCity=null)},getCityAsync:Zi()((function(t){var e=this;t.length?(this.fetchingCities=!0,this.$http.get("/v1/registered-cities?size=100&country_id=".concat(this.selectedCountry.id,"&s=").concat(t)).then((function(t){e.dataCities=t.data.data})).finally((function(){e.fetchingCities=!1}))):this.dataCities=[]}),500),selectCity:function(t){null!==t&&(this.selectedCity=t)},confirmLocation:function(){this.model.selectedRegion=this.selectedRegion,this.model.selectedCountry=this.selectedCountry,this.model.selectedCity=this.selectedCity,this.edit&&this.$emit("update"),this.resetState()},removeCity:function(){this.model.selectedRegion=null,this.model.selectedCountry=null,this.model.selectedCity=null,this.model.city=null,this.$emit("update"),this.resetState()},resetState:function(){this.queryRegion="",this.queryCountry="",this.queryCity="",this.dataRegions=[],this.dataCountries=[],this.dataCities=[],this.fetchingRegions=!0,this.fetchingCountries=!1,this.fetchingCities=!1,this.selectedRegion=null,this.selectedCountry=null,this.selectedCity=null,this.notInACity=!1,this.fetchRegions()}},computed:{placeholderRegions:function(){return this.fetchingRegions?this.$t("admin.initiatives.create.fields.location.fetchingRegions"):this.$t("admin.initiatives.create.fields.location.startTypingRegion")},placeholderCountries:function(){return this.fetchingCountries?this.$t("admin.initiatives.create.fields.location.fetchingCountries"):this.$t("admin.initiatives.create.fields.location.startTypingCountry")},placeholderCities:function(){return this.fetchingCities?this.$t("admin.initiatives.create.fields.location.fetchingCities"):this.$t("admin.initiatives.create.fields.location.startTypingCity")},filteredRegions:function(){var t=this;return this.dataRegions.filter((function(e){return e.name.toString().toLowerCase().indexOf(t.queryRegion.toLowerCase())>=0}))},filteredCountries:function(){var t=this;return this.dataCountries.filter((function(e){return e.name.toString().toLowerCase().indexOf(t.queryCountry.toLowerCase())>=0}))}}},Do=zo,Uo=Object(Nt["a"])(Do,Mo,jo,!1,null,null,null),Yo=Uo.exports,Vo={components:{DataForm:Fo,LocationForm:Yo},data:function(){return{activeTab:0,model:{name:null,description:null,public_data:{goals:null,founding_year:null,website:null,facebook:null,twitter:null,other_network:null,role_of_youth:null},private_data:{contact_email:null,contact_phone:null},selectedRegion:null,selectedCountry:null,selectedCity:null}}},methods:{getPayload:function(){var t={},e={};return t.name=this.model.name,t.description=this.model.description,t.public_data={goals:this.model.public_data.goals,founding_year:this.model.public_data.founding_year,role_of_youth:this.model.public_data.role_of_youth,website:this.isOptional(this.model.public_data.website),facebook:this.isOptional(this.model.public_data.facebook),twitter:this.isOptional(this.model.public_data.twitter),other_network:this.isOptional(this.model.public_data.other_network)},t.private_data={contact_email:this.model.private_data.contact_email,contact_phone:this.isOptional(this.model.private_data.contact_phone)},this.model.selectedCity?e.registered_city_id=this.model.selectedCity.id:e.registered_city_id=null,e.set_owner=!1,{data:t,options:e}},submit:function(){var t=this;Promise.all([this.$refs.data.validate()]).then((function(e){e.some((function(t){return 0==t}))?t.$toast.open({message:t.$t("globals.errors.formNotValid"),type:"is-warning",position:"is-bottom"}):(t.startLoading(),t.$http.post("/v1/initiatives",t.getPayload()).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;New initiative has been created',type:"is-success"}),t.$router.push({name:"adminInitiativesList"})})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()})))})).catch((function(e){t.$toast.open(e.response.data.message)}))}}},Bo=Vo,Ho=Object(Nt["a"])(Bo,Po,To,!1,null,null,null),Wo=Ho.exports,Go=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("Edit initiative")]),i("p",[t._v("Edit the initiative as an admin. "),i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"initiative",params:{id:t.id}}}},[t._v("Go to the initiative "),i("i",{staticClass:"fas fa-arrow-right"})])],1),i("br"),i("b-tabs",{staticClass:"is-marginless",attrs:{type:"is-toggle",expanded:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[i("b-tab-item",{attrs:{label:"Information",icon:"scroll","icon-pack":"fas"}}),i("b-tab-item",{attrs:{label:"Customize",icon:"paint-roller","icon-pack":"fas"}}),i("b-tab-item",{attrs:{label:"Location",icon:"map-marker-alt","icon-pack":"fas"}}),i("b-tab-item",{attrs:{label:"Members",icon:"users","icon-pack":"fas"}}),i("b-tab-item",{attrs:{label:"Countries",icon:"map-signs","icon-pack":"fas"}}),i("b-tab-item",{attrs:{label:"Areas of Interest",icon:"tag","icon-pack":"fas"}})],1),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[0==t.activeTab?i("DataForm",{ref:"data",attrs:{edit:"",model:t.model},on:{update:t.submitData,"update:model":function(e){t.model=e}}}):t._e(),1==t.activeTab?i("CustomizeForm",{ref:"customize",attrs:{edit:"",model:t.model,id:t.id},on:{"update:model":function(e){t.model=e},updateModel:t.updateModel}}):t._e(),2==t.activeTab?i("LocationForm",{ref:"location",attrs:{edit:"",model:t.model},on:{update:t.submitLocation,"update:model":function(e){t.model=e}}}):t._e(),3==t.activeTab?i("MemberForm",{ref:"member",attrs:{model:t.model,id:t.id},on:{"update:model":function(e){t.model=e}}}):t._e(),4==t.activeTab?i("CountryPresence",{ref:"countries",attrs:{model:t.model,id:t.id},on:{"update:model":function(e){t.model=e},updateModel:t.updateModel}}):t._e(),5==t.activeTab?i("AreasOfInterestForm",{ref:"areasOfInterest",attrs:{model:t.model,id:t.id},on:{"update:model":function(e){t.model=e},updateModel:t.updateModel}}):t._e()],1)])],1)},Qo=[],Jo=i("4245"),Ko=i.n(Jo),Zo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3 has-text-dark"},[t._v("Customize your page")]),i("p",[t._v("Here you can customize the page of your initiative. Add a logo, or a cover picture.")]),i("br"),i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"box has-text-black has-text-centered"},[2==t.model.subject.img_type?i("div",[i("img",{staticClass:"image showPicture is-centered",attrs:{src:t.makeUserAvatar(t.model.subject)+"?"+t.timestamp,alt:""}}),i("button",{staticClass:"button is-small is-danger is-outlined",on:{click:function(e){return t.removePicture("avatar")}}},[i("i",{staticClass:"fas fa-times"}),t._v(" Remove ")]),i("hr")]):t._e(),i("p",{staticClass:"is-size-4"},[t._v("Submit a logo")]),i("p",[t._v("You can upload a logo for your initiative page")]),i("br"),t.fileAvatar?i("div",{},[i("p",[i("i",{staticClass:"fas fa-file fa-2x"})]),i("p",{staticClass:"is-size-7 has-text-centered"},[t._v(" "+t._s(t.fileAvatar.name)+" "),i("a",{on:{click:function(e){t.fileAvatar=null}}},[i("i",{staticClass:"fas fa-times-circle fa-lg has-text-danger"})])]),i("br"),i("button",{staticClass:"button is-primary is-small",on:{click:function(e){return t.uploadFile("avatar")}}},[i("i",{staticClass:"fas fa-upload"}),t._v(" Upload file ")])]):i("b-field",{staticClass:"file is-centered"},[i("b-upload",{attrs:{"drag-drop":""},model:{value:t.fileAvatar,callback:function(e){t.fileAvatar=e},expression:"fileAvatar"}},[i("section",{staticClass:"section"},[i("div",{staticClass:"content has-text-centered"},[i("p",[i("i",{staticClass:"fas fa-upload fa-2x"})]),i("p",[t._v("Drop your file here or click to upload")])])])])],1)],1)]),i("div",{staticClass:"column has-text-centered"},[i("div",{staticClass:"box has-text-black"},[t.model.pictures&&t.model.pictures.cover?i("div",[i("img",{staticClass:"image showPicture is-centered",attrs:{src:t.apiUrl+"/"+t.model.pictures.cover.path+"?"+t.timestamp,alt:""}}),i("button",{staticClass:"button is-small is-danger is-outlined",on:{click:function(e){return t.removePicture("cover")}}},[i("i",{staticClass:"fas fa-times"}),t._v(" Remove ")]),i("hr")]):t._e(),i("p",{staticClass:"is-size-4"},[t._v("Add a picture cover")]),i("p",[t._v("You can upload a cover for your initiative page")]),i("br"),t.fileCover?i("div",{},[i("p",[i("i",{staticClass:"fas fa-file fa-2x"})]),i("p",{staticClass:"is-size-7 has-text-centered"},[t._v(" "+t._s(t.fileCover.name)+" "),i("a",{on:{click:function(e){t.fileCover=null}}},[i("i",{staticClass:"fas fa-times-circle fa-lg has-text-danger"})])]),i("br"),i("button",{staticClass:"button is-primary is-small",on:{click:function(e){return t.uploadFile("cover")}}},[i("i",{staticClass:"fas fa-upload"}),t._v(" Upload file ")])]):i("b-field",{staticClass:"file is-centered"},[i("b-upload",{attrs:{"drag-drop":""},model:{value:t.fileCover,callback:function(e){t.fileCover=e},expression:"fileCover"}},[i("section",{staticClass:"section"},[i("div",{staticClass:"content has-text-centered"},[i("p",[i("i",{staticClass:"fas fa-upload fa-2x"})]),i("p",[t._v("Drop your file here or click to upload")])])])])],1)],1)])])])},Xo=[],tr=(i("a9e3"),{props:{model:{type:Object,required:!0},id:{type:Number,required:!0}},components:{},data:function(){return{fileAvatar:null,fileCover:null,hasAvatar:!1,timestamp:Math.round((new Date).getTime()/1e3)}},mounted:function(){},methods:{uploadFile:function(t){var e=this;this.startLoading();var i=null,a=null;switch(t){case"avatar":i=this.fileAvatar,a="/v1/subjects/".concat(this.model.subject.id,"/picture");break;case"cover":i=this.fileCover,a="/v1/initiatives/".concat(this.id,"/pictures/cover");break;default:return}this.$http.put(a,i,{headers:{"content-type":i.type}}).then((function(){e.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Picture was successfully loaded!',type:"is-success"}),e.$emit("updateModel"),e.fileAvatar=e.fileCover=null,e.timestamp=e.getTimestamp()})).catch((function(t){console.error(t),e.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;There was an error while uploading your picture',type:"is-danger"})})).finally((function(){e.stopLoading()}))},removePicture:function(t){var e=this,i=null;switch(this.startLoading(),t){case"avatar":i="/v1/subjects/".concat(this.model.subject.id,"/picture");break;case"cover":i="/v1/initiatives/".concat(this.id,"/pictures/cover");break;default:return}this.$http.delete(i).then((function(){e.$emit("updateModel"),e.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Picture was successfully deleted!',type:"is-success"})})).catch((function(t){console.error(t),e.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;There was an error while deleting the picture',type:"is-danger"})})).finally((function(){e.stopLoading()}))}},computed:{query:function(){return{}}}}),er=tr,ir=(i("61d0"),Object(Nt["a"])(er,Zo,Xo,!1,null,"36ace668",null)),ar=ir.exports,sr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3 has-text-dark"},[t._v("Members of the initiative")]),t._m(0),i("br"),t._m(1),i("b-table",{attrs:{data:t.subjects,loading:t.fetching,striped:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{label:"Avatar",width:"60",centered:""}},[i("img",{staticClass:"image is-rounded is-32x32 is-centered",attrs:{src:t.makeUserAvatar(e.row),alt:""}})]),i("b-table-column",{attrs:{field:"display_name",label:"Name and surname"}},[i("p",{staticClass:"is-size-5"},[t._v(t._s(e.row.display_name))])]),i("b-table-column",{attrs:{field:"pivot.relation",label:"Role",centered:""}},["owner"==e.row.pivot.relation?i("span",{staticClass:"tag is-dark is-rounded"},[i("i",{staticClass:"fas fa-shield-alt"}),t._v(" Owner")]):t._e(),"member"==e.row.pivot.relation?i("span",{staticClass:"tag is-dark is-rounded"},[i("i",{staticClass:"fas fa-user"}),t._v(" Member")]):t._e()]),i("b-table-column",{attrs:{label:"Actions",width:"200"}},[i("div",{staticClass:"action-list"},[i("p",["member"==e.row.pivot.relation?i("a",{staticClass:"has-text-link",on:{click:function(i){return t.changeRelation("owner",e.row.id)}}},[i("i",{staticClass:"fas fa-arrow-up"}),t._v(" Promote to owner ")]):t._e()]),i("p",["owner"==e.row.pivot.relation?i("a",{staticClass:"has-text-link",on:{click:function(i){return t.openModalDemote("member",e.row)}}},[i("i",{staticClass:"fas fa-arrow-down"}),t._v(" Demote to member ")]):t._e()]),i("p",["follower"==e.row.pivot.relation?i("a",{staticClass:"has-text-link",on:{click:function(i){return t.changeRelation("member",e.row.id)}}},[i("i",{staticClass:"fas fa-arrow-up"}),t._v(" Promote to member ")]):t._e()]),i("p",["member"==e.row.pivot.relation?i("a",{staticClass:"has-text-link",on:{click:function(i){return t.openModalDemote("follower",e.row)}}},[i("i",{staticClass:"fas fa-arrow-down"}),t._v(" Demote to follower ")]):t._e()])])])]}}])},[i("template",{slot:"empty"},[i("empty-table")],1)],2),i("br"),i("pagination-bar",{ref:"paginator",attrs:{"resource-url":"v1/initiatives/"+t.id+"/members",fetching:t.fetching,query:t.query},on:{update:t.getSubjects,"update:fetching":function(e){t.fetching=e}}})],1)},nr=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("Here you can see and add new members to the initiative."),i("br"),t._v("You can add members to your initiative "),i("b",[t._v("AFTER")]),t._v(" they are followers of your initiative")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"notification is-dark"},[i("p",[i("i",{staticClass:"fas fa-exclamation-triangle"}),t._v(" "),i("b",[t._v("BE CAREFUL")])]),i("p",{staticClass:"is-size-7"},[t._v("* Try not to lock yourself out of the initiative without any responsables. If that happens, contact an admin.")]),i("p",{staticClass:"is-size-7"},[t._v('* Remember, only users with role "owner" can edit an initiative')])])}],or=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-card",staticStyle:{width:"100%"}},[i("section",{staticClass:"modal-card-body has-text-centered"},["member"==t.resourceType?i("div",{staticClass:"content"},[i("h1",{staticClass:"subtitle is-3 has-text-danger"},[t._v("You are about to demote an owner")]),i("p",[t._v("The user will not be able to edit the initiative anymore.")]),i("p",[t._v("Note: If you are the user, then you will be logged out.")]),i("p",[t._v("Are you sure you want to demote the user?")])]):t._e(),"follower"==t.resourceType?i("div",{staticClass:"content"},[i("h1",{staticClass:"subtitle is-3 has-text-danger"},[t._v("You are about to demote a member")]),i("p",[t._v("The user will be a follower of the initiative")]),i("p",[t._v("Are you sure you want to demote the user?")])]):t._e(),i("div",{staticClass:"buttons is-centered"},[i("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Close")]),i("button",{staticClass:"button is-danger",on:{click:t.confirm}},[i("i",{staticClass:"fas fa-delete"}),t._v(" Delete it")])])])])},rr=[],lr={props:{resourceType:{type:String,required:!0},resource:{type:Object,required:!0}},methods:{confirm:function(){this.$parent.close(),this.$emit("confirm",this.resource,this.resourceType)}}},cr=lr,dr=Object(Nt["a"])(cr,or,rr,!1,null,null,null),ur=dr.exports,mr={props:{model:{type:Object,required:!0},id:{type:Number,required:!0}},components:{PaginationBar:ro,EmptyTable:fo},data:function(){return{subjects:[],fetching:null}},mounted:function(){},methods:{getSubjects:function(t){this.subjects=t},openModalDemote:function(t,e){var i=this;this.$modal.open({parent:this,component:ur,props:{resourceType:t,resource:e},hasModalCard:!0,events:{confirm:function(t,e){i.changeRelation(e,t.id)}}})},remove:function(t){var e=this;this.startLoading(),this.$http.delete("/v1/initiatives/".concat(this.id,"/members/").concat(t)).then((function(){e.userFound=null,e.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;User has been removed from the initiative',type:"is-success"}),e.$refs.paginator.getResource()})).catch((function(t){console.error(t),e.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while removing user from initiative',type:"is-danger"}),e.stopLoading()}))},changeRelation:function(t,e){var i=this;this.startLoading(),this.$http.patch("/v1/initiatives/".concat(this.id,"/members/").concat(e),{data:{relation:t}}).then((function(){i.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;User has been updated',type:"is-success"}),i.isAdmin||"adminInitiativesEdit"==i.$route.name||(i.user.id!==e||"member"!=t&&"follower"!=t?i.$refs.paginator.getResource():(i.$store.dispatch("logout"),i.$router.push({name:"home"}))),i.$refs.paginator.getResource()})).catch((function(t){console.error(t),i.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while removing user from initiative',type:"is-danger"})})).finally((function(){i.stopLoading()}))}},computed:{query:function(){return{}}}},fr=mr,pr=Object(Nt["a"])(fr,sr,nr,!1,null,null,null),hr=pr.exports,vr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3 has-text-dark"},[t._v("Presence in countries")]),i("p",[t._v("Countries there the initiative is working or doing presence")]),i("br"),t.model.countries&&t.model.countries.length>0?i("b-taglist",t._l(t.model.countries,(function(e){return i("b-tag",{key:e.id,attrs:{type:"is-primary",size:"is-medium",closable:""},on:{close:function(i){return t.remove(e.id)}}},[t._v(t._s(t.getSpaceLocalization(e)))])})),1):t._e(),i("hr"),i("h1",{staticClass:"subtitle has-text-dark is-4 is-marginless"},[t._v("Add a new country")]),i("p",[t._v("Here you can add a new country where your initiative has presence:")]),i("br"),i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("b-autocomplete",{attrs:{rounded:"",data:t.filteredRegions,placeholder:t.placeholderRegions,"open-on-focus":!0,loading:t.fetchingRegions,field:"name"},on:{select:function(e){return t.selectRegion(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}]),model:{value:t.queryRegion,callback:function(e){t.queryRegion=e},expression:"queryRegion"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.noResults")))])],2)],1)])]),i("div",{staticClass:"column"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("b-autocomplete",{attrs:{rounded:"",data:t.filteredCountries,placeholder:t.placeholderCountries,"open-on-focus":!0,loading:t.fetchingCountries,field:"name",readonly:!t.selectedRegion,disabled:!t.selectedRegion},on:{select:function(e){return t.selectCountry(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.option.name))]}}]),model:{value:t.queryCountry,callback:function(e){t.queryCountry=e},expression:"queryCountry"}},[i("template",{slot:"empty"},[t._v(t._s(t.$t("admin.initiatives.create.fields.location.noResults")))])],2)],1)])]),i("div",{staticClass:"column is-narrow"},[i("button",{staticClass:"button is-primary",attrs:{disabled:!t.selectedCountry},on:{click:t.checkSubmit}},[i("i",{staticClass:"fas fa-plus"}),t._v(" Add country ")])])])],1)},gr=[],_r={props:["model","id"],components:{},data:function(){return{queryRegion:"",queryCountry:"",fetchingRegions:!0,fetchingCountries:!1,dataRegions:[],dataCountries:[],selectedRegion:null,selectedCountry:null}},mounted:function(){this.fetchRegions()},methods:{fetchRegions:function(){var t=this;this.$http.get("/v1/regions?size=100").then((function(e){t.dataRegions=e.data.data})).finally((function(){t.fetchingRegions=!1}))},selectRegion:function(t){var e=this;null!==t&&(this.fetchingCountries=!0,this.selectedRegion=t,this.queryCountry="",this.selectedCountry=null,this.$http.get("/v1/countries?size=100&region_id=".concat(t.id)).then((function(t){e.dataCountries=t.data.data})).finally((function(){e.fetchingCountries=!1})))},selectCountry:function(t){null!=t&&(this.selectedCountry=t)},getPayload:function(){var t={countries:[this.selectedCountry.id]};return{data:t}},resetState:function(){this.queryRegion="",this.queryCountry="",this.dataRegions=[],this.dataCountries=[],this.fetchingRegions=!0,this.fetchingCountries=!1,this.selectedRegion=null,this.selectedCountry=null,this.fetchRegions()},checkSubmit:function(){var t=this,e=this.model.countries.find((function(e){return e.id==t.selectedCountry.id}));e?(this.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;The country is already listed',type:"is-warning"}),this.queryRegion="",this.queryCountry="",this.selectedRegion=null,this.selectedCountry=null):this.submit()},submit:function(){var t=this;this.startLoading(),this.$http.post("/v1/initiatives/".concat(this.id,"/countries"),this.getPayload()).then((function(){t.$emit("updateModel"),t.queryRegion="",t.queryCountry="",t.selectedRegion=null,t.selectedCountry=null,t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;New country associated to the initiative',type:"is-success"})})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while adding country to initiative',type:"is-danger"})})).finally((function(){t.stopLoading()}))},remove:function(t){var e=this;this.startLoading(),this.$http.delete("/v1/initiatives/".concat(this.id,"/countries/").concat(t)).then((function(){e.$emit("updateModel"),e.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;The country has been removed from the initiative',type:"is-success"})})).catch((function(t){console.error(t),e.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while removing country from initiative',type:"is-danger"})})).finally((function(){e.stopLoading()}))}},computed:{placeholderRegions:function(){return this.fetchingRegions?this.$t("admin.initiatives.create.fields.location.fetchingRegions"):this.$t("admin.initiatives.create.fields.location.startTypingRegion")},placeholderCountries:function(){return this.fetchingCountries?this.$t("admin.initiatives.create.fields.location.fetchingCountries"):this.$t("admin.initiatives.create.fields.location.startTypingCountry")},filteredRegions:function(){var t=this;return this.dataRegions.filter((function(e){return e.name.toString().toLowerCase().indexOf(t.queryRegion.toLowerCase())>=0}))},filteredCountries:function(){var t=this;return this.dataCountries.filter((function(e){return e.name.toString().toLowerCase().indexOf(t.queryCountry.toLowerCase())>=0}))},query:function(){return{}}}},br=_r,Cr=Object(Nt["a"])(br,vr,gr,!1,null,null,null),yr=Cr.exports,wr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3 has-text-dark"},[t._v("Areas of interest of the initiative")]),t._m(0),i("br"),t.model.terms&&t.model.terms.length>0?i("b-taglist",t._l(t.model.terms,(function(e){return i("b-tag",{key:e.id,attrs:{type:"is-primary",size:"is-medium",closable:""},on:{close:function(i){return t.remove(e.id)}}},[t._v(t._s(e.name))])})),1):i("div",{staticClass:"notification is-warning"},[i("i",{staticClass:"fas fa-exclamation-circle"}),t._v(" There are no areas of interest associated to the initiative ")]),i("hr"),i("h1",{staticClass:"subtitle has-text-dark is-4 is-marginless"},[t._v("Manage areas of interest")]),i("p",[t._v("Here you can add multiples areas of interest to the initiative")]),i("br"),i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"notification"},[i("h1",{staticClass:"subtitle is-5"},[t._v("Available areas of interests")]),i("b-taglist",t._l(t.availableAreas,(function(e){return i("b-tag",{key:e.id,staticStyle:{cursor:"pointer"},attrs:{type:"is-info"},nativeOn:{click:function(i){return t.selectedAreas.push(e)}}},[t._v(t._s(e.name))])})),1)],1)]),t._m(1),i("div",{staticClass:"column"},[i("div",{staticClass:"notification"},[i("h1",{staticClass:"subtitle is-5"},[t._v("New areas")]),i("b-taglist",t._l(t.selectedAreas,(function(e){return i("b-tag",{key:e.id,attrs:{type:"is-info"}},[t._v(t._s(e.name))])})),1)],1),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"buttons is-right"},[i("button",{staticClass:"button is-primary",attrs:{disabled:0==t.selectedAreas.length},on:{click:t.submit}},[t._v("Confirm")])])])])])])],1)},kr=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("Here you can see the areas of interests of the initiative. Click "),i("i",{staticClass:"fas fa-times-circle"}),t._v(" to delete an area")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column is-narrow is-hidden-touch"},[i("br"),i("i",{staticClass:"fas fa-arrow-right fa-lg"})])}],$r={props:["model","id"],components:{},data:function(){return{areas:[],selectedAreas:[]}},mounted:function(){this.fetchAvailableAreasOfInterest()},methods:{fetchAvailableAreasOfInterest:function(){var t=this;this.startLoading(),this.$http.get("/v1/terms?taxonomy=topics&size=100").then((function(e){t.areas=e.data.data})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while fetching areas of interest',type:"is-danger"})})).finally((function(){t.stopLoading()}))},getPayload:function(){var t={};return t.terms=this.selectedAreas.map((function(t){return t.id})),{data:t}},submit:function(){var t=this;this.startLoading(),this.$http.post("/v1/initiatives/".concat(this.id,"/terms"),this.getPayload()).then((function(){t.selectedAreas=[],t.$emit("updateModel"),t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Areas of interests added to the initiative',type:"is-success"})})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while adding the area of interest',type:"is-danger"})})).finally((function(){t.stopLoading()}))},remove:function(t){var e=this;this.startLoading(),this.$http.delete("/v1/initiatives/".concat(this.id,"/terms/").concat(t)).then((function(){e.$emit("updateModel"),e.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Area of interest has been removed from the initiative',type:"is-success"})})).catch((function(t){console.error(t),e.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while removing Area of interest from initiative',type:"is-danger"})})).finally((function(){e.stopLoading()}))}},computed:{availableAreas:function(){if(!this.areas)return[];var t=Object(b["differenceBy"])(this.areas,this.model.terms,"id");return Object(b["differenceBy"])(t,this.selectedAreas,"id")}}},xr=$r,Ir=Object(Nt["a"])(xr,wr,kr,!1,null,null,null),Ar=Ir.exports,Lr={props:["id"],components:{DataForm:Fo,CustomizeForm:ar,LocationForm:Yo,MemberForm:hr,CountryPresence:yr,AreasOfInterestForm:Ar},data:function(){return{activeTab:0,model:{name:null,description:null,public_data:{goals:null,founding_year:null,website:null,facebook:null,twitter:null,other_network:null,role_of_youth:null},private_data:{contact_email:null,contact_phone:null},selectedRegion:null,selectedCountry:null,selectedCity:null,countries:null,city:null,subject:null,pictures:null},originalDataPayload:null,originalLocationPayload:null}},beforeMount:function(){var t=this;this.startLoading(),this.$http.get("/v1/initiatives/".concat(this.id)).then((function(e){t.model=Ko()(t.model,e.data.data),t.originalDataPayload=t.createPayloadDataForm(),t.originalLocationPayload=t.createPayloadLocationForm()})).catch((function(e){console.error(e),t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))},methods:{updateModel:function(){var t=this;this.$http.get("/v1/initiatives/".concat(this.id)).then((function(e){t.model=Ko()(t.emptyModel(),e.data.data),t.originalDataPayload=t.createPayloadDataForm(),t.originalLocationPayload=t.createPayloadLocationForm()})).catch((function(e){console.error(e),t.$toast.open(e.response.data.message)}))},createPayloadDataForm:function(){var t={};return t.name=this.model.name,t.description=this.model.description,t.public_data={goals:this.model.public_data.goals,founding_year:this.model.public_data.founding_year,role_of_youth:this.model.public_data.role_of_youth,website:this.isOptional(this.model.public_data.website),facebook:this.isOptional(this.model.public_data.facebook),twitter:this.isOptional(this.model.public_data.twitter),other_network:this.isOptional(this.model.public_data.other_network)},t.private_data={contact_email:this.model.private_data.contact_email,contact_phone:this.isOptional(this.model.private_data.contact_phone)},t},createPayloadLocationForm:function(){var t={};return this.model.city?t.registered_city_id=this.model.city.id:this.model.selectedCity?t.registered_city_id=this.model.selectedCity.id:t.registered_city_id=null,t},makePayload:function(t){return{data:t}},emptyModel:function(){return{name:null,description:null,public_data:{goals:null,founding_year:null,website:null,facebook:null,twitter:null,other_network:null,role_of_youth:null},private_data:{contact_email:null,contact_phone:null},selectedRegion:null,selectedCountry:null,selectedCity:null,countries:null,city:null}},submitData:function(){var t=this;Promise.all([this.$refs.data.validate()]).then((function(e){if(e.some((function(t){return 0==t})))t.$toast.open({message:t.$t("globals.errors.formNotValid"),type:"is-warning",position:"is-bottom"});else{t.startLoading();var i=t.createPayloadDataForm(),a=t.diffObject(t.originalDataPayload,i);t.$http.patch("/v1/initiatives/".concat(t.id),t.makePayload(a)).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Initiative has been updated',type:"is-success"}),t.$router.push({name:"adminInitiativesList"})})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))}})).catch((function(e){t.$toast.open(e.response.data.message)}))},submitLocation:function(){var t=this;this.startLoading();var e=this.createPayloadLocationForm(),i=this.diffObject(this.originalLocationPayload,e);null==i.registered_city_id&&this.$http.delete("/v1/initiatives/".concat(this.id,"/city")).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Initiative has been updated',type:"is-success"}),t.$router.push({name:"adminInitiativesList"})})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()})),i.registered_city_id&&this.$http.post("/v1/initiatives/".concat(this.id,"/city"),this.makePayload(i)).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Initiative has been updated',type:"is-success"}),t.$router.push({name:"adminInitiativesList"})})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))}}},qr=Lr,Pr=Object(Nt["a"])(qr,Go,Qo,!1,null,null,null),Tr=Pr.exports,Nr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("List of cities with initiatives")]),i("p",[t._v("Take a look at the cities with initiatives added to the platform")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("b-table",{attrs:{data:t.cities,loading:t.fetching,striped:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"name",label:"City Name",sortable:""}},[t._v(t._s(e.row.name))]),i("b-table-column",{attrs:{field:"iniciatives_count",label:"Iniciatives count",numeric:"",sortable:""}},[t._v(t._s(e.row.initiatives_count))])]}}])},[i("template",{slot:"empty"},[i("empty-table")],1)],2),i("br"),i("pagination-bar",{attrs:{"resource-url":"/v1/cities",fetching:t.fetching},on:{update:t.getCities,"update:fetching":function(e){t.fetching=e}}})],1)])])},Or=[],Rr={components:{PaginationBar:ro,EmptyTable:fo},data:function(){return{cities:[],fetching:null}},mounted:function(){},methods:{getCities:function(t){this.cities=t}}},Er=Rr,Sr=Object(Nt["a"])(Er,Nr,Or,!1,null,null,null),Fr=Sr.exports,Mr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("List of registered cities")]),i("p",[t._v("Take a look at the cities added to the platform")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("b-table",{attrs:{data:t.cities,loading:t.fetching,striped:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"name",label:"City name"}},[t._v(t._s(e.row.name))]),i("b-table-column",{attrs:{label:"Country"}},[t._v(t._s(t.getSpaceLocalization(e.row.country)))])]}}])},[i("template",{slot:"empty"},[i("empty-table")],1)],2),i("br"),i("pagination-bar",{attrs:{"resource-url":"/v1/registered-cities",fetching:t.fetching},on:{update:t.getCities,"update:fetching":function(e){t.fetching=e}}})],1)])])},jr=[],zr={components:{PaginationBar:ro,EmptyTable:fo},data:function(){return{cities:[],fetching:null}},mounted:function(){},methods:{getCities:function(t){this.cities=t}}},Dr=zr,Ur=Object(Nt["a"])(Dr,Mr,jr,!1,null,null,null),Yr=Ur.exports,Vr=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Br=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("Add city")]),i("p",[t._v("Add a new city in the platform")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("p",[t._v("Soon to be aded")])])])])}],Hr={},Wr=Hr,Gr=Object(Nt["a"])(Wr,Vr,Br,!1,null,null,null),Qr=Gr.exports,Jr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("List of registered countries")]),i("p",[t._v("Take a look at the countries added to the platform")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("b-table",{attrs:{data:t.countries,loading:t.fetching,striped:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"name",label:"Country name"}},[t._v(t._s(t.getSpaceLocalization(e.row)))])]}}])},[i("template",{slot:"empty"},[i("empty-table")],1)],2),i("br"),i("pagination-bar",{attrs:{"resource-url":"/v1/countries",fetching:t.fetching},on:{update:t.getCountries,"update:fetching":function(e){t.fetching=e}}})],1)])])},Kr=[],Zr={components:{PaginationBar:ro,EmptyTable:fo},data:function(){return{countries:[],fetching:null}},mounted:function(){},methods:{getCountries:function(t){this.countries=t}}},Xr=Zr,tl=Object(Nt["a"])(Xr,Jr,Kr,!1,null,null,null),el=tl.exports,il=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("List of registered regions")]),i("p",[t._v("Take a look at the regions added to the platform")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("b-table",{attrs:{data:t.regions,loading:t.fetching,striped:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"name",label:"Region name"}},[t._v(t._s(t.getSpaceLocalization(e.row)))])]}}])},[i("template",{slot:"empty"},[i("empty-table")],1)],2),i("br"),i("pagination-bar",{attrs:{"resource-url":"/v1/regions",fetching:t.fetching,query:{size:20}},on:{update:t.getRegions,"update:fetching":function(e){t.fetching=e}}})],1)])])},al=[],sl={components:{PaginationBar:ro,EmptyTable:fo},data:function(){return{regions:[],fetching:null}},mounted:function(){},methods:{getRegions:function(t){this.regions=t}}},nl=sl,ol=Object(Nt["a"])(nl,il,al,!1,null,null,null),rl=ol.exports,ll=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("New area of interest")]),i("p",[t._v("Add a new area of interest.")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v("Name of the area of interest")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.termInput,expression:"termInput"},{name:"validate",rawName:"v-validate",value:{required:!0,max:100},expression:"{required: true, max: 100}"}],staticClass:"input",attrs:{type:"text",name:"Area",placeholder:"Type the name"},domProps:{value:t.termInput},on:{input:function(e){e.target.composing||(t.termInput=e.target.value)}}}),i("p",{staticClass:"help is-danger",attrs:{"v-show":t.errors.has("Area")}},[t._v(t._s(t.errors.first("Area")))])])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"buttons is-right"},[i("button",{staticClass:"button is-primary",on:{click:t.submit}},[i("i",{staticClass:"fas fa-plus"}),t._v(" Create area of interest ")])])])])])])])},cl=[],dl={components:{},data:function(){return{termInput:null}},methods:{getPayload:function(){var t={},e={};return t.name=this.termInput,t.taxonomy_id="topics",t.data=null,{data:t,options:e}},submit:function(){var t=this;this.$validator.validateAll().then((function(e){if(!e)return t.$toast.open({message:t.$t("globals.formNotValid"),type:"is-danger"}),!1;t.startLoading(),t.$http.post("/v1/terms",t.getPayload()).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;New area of interest has been created',type:"is-success"}),t.$router.push({name:"adminAreasOfInterestList"})})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))}))}}},ul=dl,ml=Object(Nt["a"])(ul,ll,cl,!1,null,null,null),fl=ml.exports,pl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("List of areas of interest")]),i("p",[t._v("Take a look at the areas of interest added to the platform")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("b-table",{attrs:{data:t.terms,loading:t.fetching,striped:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"name",label:"Areas",sortable:""}},[t._v(t._s(e.row.name))]),i("b-table-column",{attrs:{width:"50"}},[i("a",{staticClass:"has-text-danger",on:{click:function(i){return t.openModalDelete(e.row)}}},[t._v("Delete")])])]}}])},[i("template",{slot:"empty"},[i("empty-table")],1)],2),i("br"),i("pagination-bar",{attrs:{"resource-url":"/v1/terms",query:t.query,fetching:t.fetching},on:{update:t.getTerms,"update:fetching":function(e){t.fetching=e}}})],1)])])},hl=[],vl={components:{PaginationBar:ro,EmptyTable:fo},data:function(){return{terms:[],fetching:null,query:{taxonomy:"topics"}}},mounted:function(){},methods:{getTerms:function(t){this.terms=t},openModalDelete:function(t){var e=this;this.$modal.open({parent:this,component:xo,props:{resourceType:"areaOfInterest",resource:t},hasModalCard:!0,events:{confirm:function(t){e.deleteAreaOfInterest(t)}}})},deleteAreaOfInterest:function(t){var e=this;this.startLoading(),this.$http.delete("/v1/terms/".concat(t.id)).then((function(){e.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;The area of interest has been deleted',type:"is-success"}),e.$refs.paginator.getResource()})).catch((function(t){console.error(t),e.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while deleting the area of interest',type:"is-danger"}),e.stopLoading()}))}}},gl=vl,_l=Object(Nt["a"])(gl,pl,hl,!1,null,null,null),bl=_l.exports,Cl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("Add video")]),i("p",[t._v("Add a new video to Creating Networks TV")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("VideoForm",{ref:"data",attrs:{model:t.model},on:{"update:model":function(e){t.model=e},submit:t.submit}})],1)])])},yl=[],wl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v("Paste the link of your YouTube video")]),i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(0),t._m(1),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.urlInput,expression:"urlInput"},{name:"validate",rawName:"v-validate",value:{required:!0,url:!0,min:8,max:250},expression:"{required: true, url: true, min: 8, max:250 }"}],staticClass:"input",attrs:{type:"text",name:"twitter","data-vv-as":t.$t("admin.videos.create.fields.public_data.networks.youtube"),placeholder:t.$t("admin.videos.create.placeholder")},domProps:{value:t.urlInput},on:{blur:t.extractVideoId,input:function(e){e.target.composing||(t.urlInput=e.target.value)}}})])]),t.errors.has("youtube")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("youtube")))]):t._e(),t.noVideoId?i("div",{staticClass:"help is-danger"},[t._v("Invalid YouTube video")]):t._e(),!t.errors.has("youtube")&&t.model.public_data.youtube?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://youtube.com/watch?v="+t.model.public_data.youtube}},[t._v(t._s(t.$t("admin.videos.create.fields.public_data.networks.test")))]):t._e()])]),i("hr"),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("admin.videos.create.fields.title.label")))]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.title,expression:"model.title"},{name:"validate",rawName:"v-validate",value:{required:!0,min:1,max:100},expression:"{required: true, min: 1, max: 100}"}],staticClass:"input",attrs:{type:"text","data-vv-as":t.$t("admin.videos.create.fields.title.label"),name:"title",placeholder:t.$t("admin.videos.create.placeholder")},domProps:{value:t.model.title},on:{input:function(e){e.target.composing||t.$set(t.model,"title",e.target.value)}}}),t.errors.has("title")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("title")))]):t._e()])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("admin.videos.create.fields.content.label")))]),i("div",{staticClass:"control"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.content,expression:"model.content"},{name:"validate",rawName:"v-validate",value:{required:!0,min:1,max:1e3},expression:"{required:true, min: 1, max:1000 }"}],staticClass:"textarea",attrs:{rows:"4","data-vv-as":t.$t("admin.videos.create.fields.content.label"),name:"content",placeholder:t.$t("admin.videos.create.placeholder")},domProps:{value:t.model.content},on:{input:function(e){e.target.composing||t.$set(t.model,"content",e.target.value)}}}),t.errors.has("content")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("content")))]):t._e()])]),i("hr"),t.showYoutubePanel?i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-4"},[i("div",{staticClass:"videoWrapper"},[i("iframe",{attrs:{width:"100%",height:"auto",src:"https://www.youtube.com/embed/"+t.model.public_data.youtube,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})])]),i("div",{staticClass:"column"},[i("h1",{staticClass:"title is-3 has-text-dark"},[t._v(t._s(t.model.title))]),i("p",{staticClass:"add-br"},[t._v(t._s(t.model.content))])])]):t._e(),i("hr"),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"buttons is-right"},[i("button",{staticClass:"button is-primary",on:{click:function(e){return t.$emit("submit")}}},[i("i",{staticClass:"fas",class:{"fa-save":t.edit,"fa-plus":!t.edit}}),t._v(" "+t._s(t.edit?"Update":"Create")+" video ")])])])])])},kl=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[i("i",{staticClass:"fab fa-youtube fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[t._v("YouTube URL")])])}],$l=(i("466d"),{props:{model:{type:Object,required:!0},edit:{type:Boolean}},data:function(){return{showYoutubePanel:!1,urlInput:null,noVideoId:!1}},mounted:function(){this.edit&&(this.urlInput="https://youtube.com/watch?v=".concat(this.model.public_data.youtube),this.showYoutubePanel=!0)},methods:{extractVideoId:function(){this.noVideoId=!1;var t=/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/,e=this.urlInput.match(t);this.model.public_data.youtube=e[1],e[1]?this.showYoutubePanel=!0:(this.showYoutubePanel=!1,this.noVideoId=!0)},validate:function(){var t=this,e=new Promise((function(e){t.$validator.validateAll().then((function(t){return e(t)}))}));return e}}}),xl=$l,Il=(i("8dd6"),Object(Nt["a"])(xl,wl,kl,!1,null,"20594050",null)),Al=Il.exports,Ll={components:{VideoForm:Al},data:function(){return{activeTab:0,model:{title:null,content:null,public_data:{youtube:null}}}},methods:{getPayload:function(){var t={},e={};return t.title=this.model.title,t.content=this.model.content,t.public_data={youtube:this.model.public_data.youtube},t.private_data=null,{data:t,options:e}},submit:function(){var t=this;Promise.all([this.$refs.data.validate()]).then((function(e){e.some((function(t){return 0==t}))?t.$toast.open({message:t.$t("globals.errors.formNotValid"),type:"is-warning",position:"is-bottom"}):(t.startLoading(),t.$http.post("/v1/videos",t.getPayload()).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;New video has been added to Creating Networks TV!',type:"is-success"}),t.$router.push({name:"adminCreatingNetworksTvList"})})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()})))})).catch((function(e){t.$toast.open(e.response.data.message)}))}}},ql=Ll,Pl=Object(Nt["a"])(ql,Cl,yl,!1,null,null,null),Tl=Pl.exports,Nl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("List of videos for Creating Networks TV")]),i("p",[t._v("All the videos added to Creating Networks Tv")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("b-table",{attrs:{data:t.videos,loading:t.fetching,striped:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"id",label:"ID",width:"40",numeric:""}},[t._v(t._s(e.row.id))]),i("b-table-column",{attrs:{field:"name",label:"Name",sortable:""}},[i("router-link",{attrs:{to:{name:"initiative",params:{id:e.row.id}}}},[t._v(t._s(e.row.title))])],1),i("b-table-column",{attrs:{field:"created_at",label:"Created"}},[t._v(t._s(e.row.created_at))]),i("b-table-column",{attrs:{width:"50"}},[i("router-link",{attrs:{to:{name:"adminCreatingNetworksTvEdit",params:{id:e.row.id}}}},[t._v("Edit")]),t._v(" "),i("a",{staticClass:"has-text-danger",on:{click:function(i){return t.openModalDelete(e.row)}}},[t._v("Delete")])],1)]}}])},[i("template",{slot:"empty"},[i("empty-table")],1)],2),i("br"),i("pagination-bar",{ref:"paginator",attrs:{"resource-url":"/v1/videos",fetching:t.fetching},on:{update:t.getVideos,"update:fetching":function(e){t.fetching=e}}})],1)])])},Ol=[],Rl={components:{PaginationBar:ro,EmptyTable:fo},data:function(){return{videos:[],fetching:null}},mounted:function(){},methods:{getVideos:function(t){this.videos=t},openModalDelete:function(t){var e=this;this.$modal.open({parent:this,component:xo,props:{resourceType:"videos",resource:t},hasModalCard:!0,events:{confirm:function(t){e.deleteVideo(t)}}})},deleteVideo:function(t){var e=this;this.startLoading(),this.$http.delete("/v1/videos/".concat(t.id)).then((function(){e.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;The initiative has been deleted',type:"is-success"}),e.$refs.paginator.getResource()})).catch((function(t){console.error(t),e.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while deleting an initiative',type:"is-danger"}),e.stopLoading()}))}}},El=Rl,Sl=Object(Nt["a"])(El,Nl,Ol,!1,null,null,null),Fl=Sl.exports,Ml=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("Edit video")]),i("p",[t._v("Edit the video data of Creating Networks TV")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("VideoForm",{ref:"data",attrs:{edit:!0,model:t.model},on:{"update:model":function(e){t.model=e},submit:t.submit}})],1)])])},jl=[],zl={props:["id"],components:{VideoForm:Al},data:function(){return{activeTab:0,model:{title:null,content:null,public_data:{youtube:null}},originalDataPayload:null}},beforeMount:function(){var t=this;this.startLoading(),this.$http.get("/v1/videos/".concat(this.id)).then((function(e){t.model=Ko()(t.model,e.data.data)})).catch((function(e){console.error(e),t.$toast.open({message:t.$t("globals.errors.error"),type:"is-warning",position:"is-bottom"})})).finally((function(){t.stopLoading()}))},methods:{getPayload:function(){var t={},e={};return t.title=this.model.title,t.content=this.model.content,t.public_data={youtube:this.model.public_data.youtube},t.private_data=null,{data:t,options:e}},submit:function(){var t=this;Promise.all([this.$refs.data.validate()]).then((function(e){e.some((function(t){return 0==t}))?t.$toast.open({message:t.$t("globals.errors.formNotValid"),type:"is-warning",position:"is-bottom"}):(t.startLoading(),t.$http.patch("/v1/videos/".concat(t.id),t.getPayload()).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Your video has been edited',type:"is-success"}),t.$router.push({name:"adminCreatingNetworksTvList"})})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()})))})).catch((function(e){console.error(e),t.$toast.open(t.$t("globals.errors.unexpected"))}))}}},Dl=zl,Ul=Object(Nt["a"])(Dl,Ml,jl,!1,null,null,null),Yl=Ul.exports,Vl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("div",{staticClass:"container"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-3"},[i("Menu")],1),i("div",{staticClass:"column"},[i("RouterView")],1)])])])},Bl=[],Hl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-link",{attrs:{to:{name:"home"}}},[i("img",{staticClass:"image logo",attrs:{src:"/iso-cn.svg",alt:""}})]),i("aside",{staticClass:"menu"},[i("ul",{staticClass:"menu-list"},[i("li",[i("router-link",{attrs:{to:{name:"home"}}},[i("i",{staticClass:"fas fa-arrow-left"}),t._v(" Home")])],1),i("li",[i("router-link",{attrs:{to:{name:"user"}}},[t._v("Dashboard")])],1)]),i("p",{staticClass:"menu-label"},[t._v(" My initiatives ")]),i("ul",{staticClass:"menu-list"},[i("li",[i("router-link",{attrs:{to:{name:"userInitiativesList"}}},[t._v("List initiatives")])],1),i("li",[i("router-link",{attrs:{to:{name:"newInitiative"}}},[i("i",{staticClass:"fas fa-plus"}),t._v(" New initiative")])],1)]),i("p",{staticClass:"menu-label"},[t._v(" My account ")]),i("ul",{staticClass:"menu-list"},[i("li",[i("router-link",{attrs:{to:{name:"userProfile"}}},[t._v("My profile")])],1),i("li",[i("router-link",{attrs:{to:{name:"userAreasOfInterest"}}},[t._v("My areas of interest")])],1),i("li",[i("router-link",{attrs:{to:{name:"userAccountChangePassword"}}},[t._v("Change password")])],1)])])],1)},Wl=[],Gl=(i("dae3"),{}),Ql=Object(Nt["a"])(Gl,Hl,Wl,!1,null,"23884535",null),Jl=Ql.exports,Kl={components:{Menu:Jl}},Zl=Kl,Xl=Object(Nt["a"])(Zl,Vl,Bl,!1,null,null,null),tc=Xl.exports,ec=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3 "},[t._v("Hi "+t._s(t.user.display_name)+"!")]),t._m(0)])},ic=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("Welcome to your panel  "),i("i",{staticClass:"far fa-grin"})])}],ac={},sc=ac,nc=Object(Nt["a"])(sc,ec,ic,!1,null,null,null),oc=nc.exports,rc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("Change my password")]),i("p",[t._v("Here you can change your password")]),i("br"),t.response.ok?i("div",{staticClass:"notification is-success"},[i("i",{staticClass:"fas fa-check"}),t._v("  Success! ")]):i("section",[i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v("Your old and dusty password")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPassword,expression:"currentPassword"},{name:"validate",rawName:"v-validate",value:{required:!0,min:6},expression:"{required: true, min: 6}"}],staticClass:"input",attrs:{type:"password",name:"currentPassword","data-vv-as":"Old password",placeholder:"Type your old password"},domProps:{value:t.currentPassword},on:{input:function(e){e.target.composing||(t.currentPassword=e.target.value)}}}),i("p",{staticClass:"help is-danger",attrs:{"v-show":t.errors.has("currentPassword")}},[t._v(t._s(t.errors.first("currentPassword")))])])])])]),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v("Your new brillant password")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"validate",rawName:"v-validate",value:{required:!0,min:6},expression:"{required: true, min: 6}"}],ref:"newPassword",staticClass:"input",attrs:{type:"password",name:"newPassword","data-vv-as":"New password",placeholder:"Type your new password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),i("p",{staticClass:"help is-danger",attrs:{"v-show":t.errors.has("newPassword")}},[t._v(t._s(t.errors.first("newPassword")))])])])]),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v("Now rewrite your awesome password")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"},{name:"validate",rawName:"v-validate",value:{required:!0,confirmed:"newPassword"},expression:"{required: true, confirmed: 'newPassword'}"}],staticClass:"input",attrs:{type:"password",name:"confirmPassword","data-vv-as":"Confirm password",placeholder:"Confirm your new password"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}}),i("p",{staticClass:"help is-danger",attrs:{"v-show":t.errors.has("confirmPassword")}},[t._v(t._s(t.errors.first("confirmPassword")))])])]),i("div",{staticClass:"buttons is-right"},[i("div",{staticClass:"button is-primary",on:{click:t.submit}},[t._v("Save")])])])])])])])},lc=[],cc={data:function(){return{currentPassword:null,password:null,confirmPassword:null,response:{ok:!1}}},methods:{getPayload:function(){var t={},e={};return t.password=this.password,e.current_password=this.currentPassword,{data:t,options:e}},submit:function(){var t=this;this.$validator.validateAll().then((function(e){if(!e)return t.$toast.open({message:t.$t("globals.formNotValid"),type:"is-danger"}),!1;t.startLoading(),t.$http.put("/v1/users/".concat(t.user.id,"/password"),t.getPayload()).then((function(){t.response.ok=!0})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))}))}}},dc=cc,uc=Object(Nt["a"])(dc,rc,lc,!1,null,null,null),mc=uc.exports,fc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("List of my initiatives")]),i("p",[t._v("Take a look at your initiatives")]),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("b-table",{attrs:{data:t.initiatives,loading:t.fetching,striped:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"id",label:"ID",width:"40",numeric:""}},[t._v(t._s(e.row.id))]),i("b-table-column",{attrs:{field:"name",label:"Name"}},[i("router-link",{attrs:{to:{name:"userInitiativesEdit",params:{id:e.row.id}}}},[t._v(t._s(e.row.name))])],1),i("b-table-column",{attrs:{field:"created_at",label:"Created"}},[t._v(t._s(e.row.created_at.split(" ")[0]))]),i("b-table-column",{attrs:{width:"80"}},[i("router-link",{attrs:{to:{name:"initiative",params:{id:e.row.id}}}},[t._v("View")]),t._v("  "),i("router-link",{attrs:{to:{name:"userInitiativesEdit",params:{id:e.row.id}}}},[t._v("Edit")]),t._v("  "),i("a",{staticClass:"has-text-danger",on:{click:function(i){return t.openModalDelete(e.row)}}},[t._v("Delete")])],1)]}}])},[i("template",{slot:"empty"},[i("empty-table")],1)],2),i("br"),i("pagination-bar",{ref:"paginator",attrs:{"resource-url":"/v1/users/"+this.user.id+"/groups",fetching:t.fetching,query:t.query},on:{update:t.getInitiatives,"update:fetching":function(e){t.fetching=e}}})],1)])])},pc=[],hc={components:{PaginationBar:ro,EmptyTable:fo},data:function(){return{initiatives:[],fetching:null}},mounted:function(){},methods:{getInitiatives:function(t){this.initiatives=t},openModalDelete:function(t){var e=this;this.$modal.open({parent:this,component:xo,props:{resourceType:"initiative",resource:t},hasModalCard:!0,events:{confirm:function(t){e.deleteInitiative(t)}}})},deleteInitiative:function(t){var e=this;this.startLoading(),this.$http.delete("/v1/initiatives/".concat(t.id)).then((function(){e.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;The initiative has been deleted',type:"is-success"}),e.$refs.paginator.getResource()})).catch((function(t){console.error(t),e.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while deleting an initiative',type:"is-danger"}),e.stopLoading()}))}},computed:{query:function(){return{type:"Initiative",relation:"owner"}}}},vc=hc,gc=Object(Nt["a"])(vc,fc,pc,!1,null,null,null),_c=gc.exports,bc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("Edit initiative")]),i("p",[t._v("Edit your initiative. "),i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"initiative",params:{id:t.id}}}},[t._v("Go to the initiative "),i("i",{staticClass:"fas fa-arrow-right"})])],1),i("br"),i("b-tabs",{staticClass:"is-marginless",attrs:{type:"is-toggle",expanded:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[i("b-tab-item",{attrs:{label:"Information",icon:"scroll","icon-pack":"fas"}}),i("b-tab-item",{attrs:{label:"Customize",icon:"paint-roller","icon-pack":"fas"}}),i("b-tab-item",{attrs:{label:"Location",icon:"map-marker-alt","icon-pack":"fas"}}),i("b-tab-item",{attrs:{label:"Members",icon:"users","icon-pack":"fas"}}),i("b-tab-item",{attrs:{label:"Countries",icon:"map-signs","icon-pack":"fas"}}),i("b-tab-item",{attrs:{label:"Areas of interest",icon:"tag","icon-pack":"fas"}})],1),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[0==t.activeTab?i("DataForm",{ref:"data",attrs:{edit:"",model:t.model},on:{update:t.submitData,"update:model":function(e){t.model=e}}}):t._e(),1==t.activeTab?i("CustomizeForm",{ref:"customize",attrs:{edit:"",model:t.model,id:t.id},on:{"update:model":function(e){t.model=e},updateModel:t.updateModel}}):t._e(),2==t.activeTab?i("LocationForm",{ref:"location",attrs:{edit:"",model:t.model},on:{update:t.submitLocation,"update:model":function(e){t.model=e}}}):t._e(),3==t.activeTab?i("MemberForm",{ref:"member",attrs:{model:t.model,id:t.id},on:{"update:model":function(e){t.model=e}}}):t._e(),4==t.activeTab?i("CountryPresence",{ref:"countries",attrs:{model:t.model,id:t.id},on:{"update:model":function(e){t.model=e},updateModel:t.updateModel}}):t._e(),5==t.activeTab?i("AreasOfInterestForm",{ref:"location",attrs:{model:t.model,id:t.id},on:{"update:model":function(e){t.model=e},updateModel:t.updateModel}}):t._e()],1)])],1)},Cc=[],yc={props:["id"],components:{DataForm:Fo,CustomizeForm:ar,LocationForm:Yo,MemberForm:hr,CountryPresence:yr,AreasOfInterestForm:Ar},data:function(){return{activeTab:0,model:{name:null,description:null,public_data:{goals:null,founding_year:null,website:null,facebook:null,twitter:null,other_network:null,role_of_youth:null},private_data:{contact_email:null,contact_phone:null},selectedRegion:null,selectedCountry:null,selectedCity:null,city:null,countries:null,subject:null,pictures:null},originalDataPayload:null,originalLocationPayload:null}},beforeMount:function(){var t=this;this.startLoading(),this.$http.get("/v1/initiatives/".concat(this.id)).then((function(e){t.model=Ko()(t.model,e.data.data),t.originalDataPayload=t.createPayloadDataForm(),t.originalLocationPayload=t.createPayloadLocationForm()})).catch((function(e){console.error(e),t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))},methods:{updateModel:function(){var t=this;this.$http.get("/v1/initiatives/".concat(this.id)).then((function(e){t.model=Ko()(t.emptyModel(),e.data.data),t.originalDataPayload=t.createPayloadDataForm(),t.originalLocationPayload=t.createPayloadLocationForm()})).catch((function(e){console.error(e),t.$toast.open(e.response.data.message)}))},createPayloadDataForm:function(){var t={};return t.name=this.model.name,t.description=this.model.description,t.public_data={goals:this.model.public_data.goals,founding_year:this.model.public_data.founding_year,role_of_youth:this.model.public_data.role_of_youth,website:this.isOptional(this.model.public_data.website),facebook:this.isOptional(this.model.public_data.facebook),twitter:this.isOptional(this.model.public_data.twitter),other_network:this.isOptional(this.model.public_data.other_network)},t.private_data={contact_email:this.model.private_data.contact_email,contact_phone:this.isOptional(this.model.private_data.contact_phone)},t},createPayloadLocationForm:function(){var t={};return this.model.city?t.registered_city_id=this.model.city.id:this.model.selectedCity?t.registered_city_id=this.model.selectedCity.id:t.registered_city_id=null,t},makePayload:function(t){return{data:t}},emptyModel:function(){return{name:null,description:null,public_data:{goals:null,founding_year:null,website:null,facebook:null,twitter:null,other_network:null,role_of_youth:null},private_data:{contact_email:null,contact_phone:null},selectedRegion:null,selectedCountry:null,selectedCity:null,countries:null,city:null}},submitData:function(){var t=this;Promise.all([this.$refs.data.validate()]).then((function(e){if(e.some((function(t){return 0==t})))t.$toast.open({message:t.$t("globals.errors.formNotValid"),type:"is-warning",position:"is-bottom"});else{t.startLoading();var i=t.createPayloadDataForm(),a=t.diffObject(t.originalDataPayload,i);t.$http.patch("/v1/initiatives/".concat(t.id),t.makePayload(a)).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Initiative has been updated',type:"is-success"}),t.$router.push({name:"userInitiativesList"})})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))}})).catch((function(e){t.$toast.open(e.response.data.message)}))},submitLocation:function(){var t=this;this.startLoading();var e=this.createPayloadLocationForm(),i=this.diffObject(this.originalLocationPayload,e);null==i.registered_city_id&&this.$http.delete("/v1/initiatives/".concat(this.id,"/city")).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Initiative has been updated',type:"is-success"}),t.$router.push({name:"userInitiativesList"})})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()})),i.registered_city_id&&this.$http.post("/v1/initiatives/".concat(this.id,"/city"),this.makePayload(i)).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Initiative has been updated',type:"is-success"}),t.$router.push({name:"userInitiativesList"})})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))}}},wc=yc,kc=Object(Nt["a"])(wc,bc,Cc,!1,null,null,null),$c=kc.exports,xc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v("My profile")]),i("p",[t._v("This is your public profile! "),i("router-link",{staticClass:"has-text-primary",attrs:{to:{name:"profile",params:{id:t.user.id}}}},[t._v("  "+t._s(t.$t("user.userPanel.profile.goToProfile"))+" "),i("i",{staticClass:"fas fa-arrow-circle-right"})])],1),i("br"),i("section",[i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-left is-hidden-touch"},[i("img",{staticClass:"myAvatar image",attrs:{src:""+t.userAvatarUrl}})]),i("div",{staticClass:"media-content"},[i("img",{staticClass:"myAvatar image is-hidden-desktop is-centered",attrs:{src:""+t.userAvatarUrl}}),i("br"),i("h1",{staticClass:"title is-1 has-text-black has-text-centered-touch"},[t._v(t._s(t.user.display_name))]),t._m(0),i("b-field",{staticClass:"file"},[i("b-upload",{model:{value:t.fileAvatar,callback:function(e){t.fileAvatar=e},expression:"fileAvatar"}},[i("a",{staticClass:"button is-primary"},[i("i",{staticClass:"fas fa-upload"}),t._v("   "),i("span",[t._v("Click to upload")])])]),t.fileAvatar?i("span",{staticClass:"file-name"},[t._v(" "+t._s(t.fileAvatar.name)+" "),i("a",{on:{click:function(e){t.fileAvatar=null}}},[i("i",{staticClass:"fas fa-times-circle fa-lg has-text-danger"})])]):t._e()],1),i("div",{staticClass:"buttons"},[t.fileAvatar?i("button",{staticClass:"button is-primary is-small",on:{click:t.uploadAvatar}},[i("i",{staticClass:"fas fa-upload"}),t._v(" Upload file ")]):t._e(),i("button",{staticClass:"button is-small is-danger is-outlined",on:{click:t.removeAvatar}},[i("i",{staticClass:"fas fa-times"}),t._v(" Remove current avatar ")])])],1)]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("user.userPanel.profile.bio.label")))]),i("div",{staticClass:"control"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.bio,expression:"model.bio"},{name:"validate",rawName:"v-validate",value:{required:!0,max:750},expression:"{required:true, max:750}"}],staticClass:"textarea",attrs:{rows:"4","data-vv-as":t.$t("user.userPanel.profile.bio.label"),name:"goals",placeholder:t.$t("user.userPanel.profile.bio.placeholder")},domProps:{value:t.model.bio},on:{input:function(e){e.target.composing||t.$set(t.model,"bio",e.target.value)}}}),t.errors.has("goals")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("goals")))]):t._e()])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label",attrs:{for:""}},[t._v(t._s(t.$t("user.userPanel.profile.networks.label")))]),i("div",{staticClass:"control"},[i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(1),t._m(2),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.data.website,expression:"model.data.website"},{name:"validate",rawName:"v-validate",value:{required:!1,min:5,max:100,url:!0},expression:"{required: false, min: 5, max:100, url: true }"}],staticClass:"input has-text-centered",attrs:{type:"text",name:"website","data-vv-as":t.$t("user.userPanel.profile.networks.website"),placeholder:t.$t("user.userPanel.profile.optional")},domProps:{value:t.model.data.website},on:{input:function(e){e.target.composing||t.$set(t.model.data,"website",e.target.value)}}})])]),t.errors.has("website")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("website")))]):t._e(),!t.errors.has("website")&&t.model.website?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://"+t.model.data.website}},[t._v(t._s(t.$t("user.userPanel.profile.networks.test")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(3),t._m(4),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.data.facebook,expression:"model.data.facebook"},{name:"validate",rawName:"v-validate",value:{required:!1,min:3,max:100},expression:"{required: false, min: 3, max:100 }"}],staticClass:"input has-text-centered",attrs:{type:"text",name:"facebook","data-vv-as":t.$t("user.userPanel.profile.networks.facebook"),placeholder:t.$t("user.userPanel.profile.optional")},domProps:{value:t.model.data.facebook},on:{input:function(e){e.target.composing||t.$set(t.model.data,"facebook",e.target.value)}}})])]),t.errors.has("facebook")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("facebook")))]):t._e(),!t.errors.has("facebook")&&t.model.data.facebook?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://facebook.com/"+t.model.data.facebook}},[t._v(t._s(t.$t("user.userPanel.profile.networks.test")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(5),t._m(6),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.data.twitter,expression:"model.data.twitter"},{name:"validate",rawName:"v-validate",value:{required:!1,min:3,max:100},expression:"{required: false, min: 3, max:100 }"}],staticClass:"input has-text-centered",attrs:{type:"text",name:"twitter","data-vv-as":t.$t("user.userPanel.profile.networks.twitter"),placeholder:t.$t("user.userPanel.profile.optional")},domProps:{value:t.model.data.twitter},on:{input:function(e){e.target.composing||t.$set(t.model.data,"twitter",e.target.value)}}})])]),t.errors.has("twitter")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("twitter")))]):t._e(),!t.errors.has("twitter")&&t.model.data.twitter?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://twitter.com/"+t.model.data.twitter}},[t._v(t._s(t.$t("user.userPanel.profile.networks.test")))]):t._e()])]),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field has-addons"},[t._m(7),t._m(8),i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.data.other_network,expression:"model.data.other_network"},{name:"validate",rawName:"v-validate",value:{required:!1,min:5,max:100,url:!0},expression:"{required: false, min: 5, max:100, url: true }"}],staticClass:"input has-text-centered",attrs:{type:"text",name:"other_network","data-vv-as":t.$t("user.userPanel.profile.networks.other_network"),placeholder:t.$t("user.userPanel.profile.networks.other_network")},domProps:{value:t.model.data.other_network},on:{input:function(e){e.target.composing||t.$set(t.model.data,"other_network",e.target.value)}}})])]),t.errors.has("other_network")?i("div",{staticClass:"help is-danger"},[t._v(t._s(t.errors.first("other_network")))]):t._e(),!t.errors.has("other_network")&&t.model.data.other_network?i("a",{staticClass:"has-text-primary help",attrs:{href:"https://"+t.model.data.other_network}},[t._v(t._s(t.$t("user.userPanel.profile.networks.test")))]):t._e()])])])]),t.response.ok?i("div",{staticClass:"notification is-success"},[i("i",{staticClass:"fas fa-check"}),t._v("  Success! ")]):i("div",{staticClass:"buttons is-right"},[i("div",{staticClass:"button is-primary",on:{click:t.submit}},[t._v("Save")])])])])])])},Ic=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"is-size-6"},[i("b",[t._v("Submit a new avatar")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[i("i",{staticClass:"fas fa-globe fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[t._v("https://")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[i("i",{staticClass:"fab fa-facebook fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[t._v("https://facebook.com/")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[i("i",{staticClass:"fab fa-twitter fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[t._v("https://twitter.com/")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[i("i",{staticClass:"fas fa-asterisk fa-fw"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[t._v("https://")])])}],Ac={data:function(){return{model:{bio:null,data:{website:null,twitter:null,facebook:null,other_network:null},subject:null},fileAvatar:null,response:{ok:!1}}},mounted:function(){this.fetchUser()},methods:{sync:function(t){var e=this;this.model.bio=t.bio,console.log(t.bio),Object.keys(t.data).forEach((function(i){e.model.data[i]=t.data[i]}))},fetchUser:function(){var t=this;this.startLoading(),this.$http.get("/v1/users/".concat(this.user.id)).then((function(e){t.sync(e.data.data)})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))},updateUserToken:function(){var t=this;this.$http.get("/v1/users/".concat(this.user.id)).then((function(e){t.$store.commit("updateSubjectUserAvatar",{imgType:e.data.data.img_type,imgHash:e.data.data.img_hash})})).catch((function(t){console.error(t)})).finally((function(){t.stopLoading()}))},uploadAvatar:function(){var t=this;this.startLoading(),this.$http.put("/v1/subjects/".concat(this.user.id,"/picture"),this.fileAvatar,{headers:{"content-type":this.fileAvatar.type}}).then((function(){t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Picture was successfully loaded!',type:"is-success"}),t.updateUserToken(),t.fileAvatar=null})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;There was an error while uploading your avatar',type:"is-danger"})})).finally((function(){t.stopLoading()}))},removeAvatar:function(){var t=this;this.startLoading(),this.$http.delete("/v1/subjects/".concat(this.user.id,"/picture")).then((function(){t.updateUserToken(),t.fileAvatar=null,t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Avatar was successfully deleted!',type:"is-success"})})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;There was an error while deleting the avatar',type:"is-danger"})})).finally((function(){t.stopLoading()}))},getPayload:function(){var t={},e={};return t.bio=this.model.bio,t.data=this.model.data,{data:t,options:e}},submit:function(){var t=this;this.$validator.validateAll().then((function(e){if(!e)return t.$toast.open({message:t.$t("globals.errors.formNotValid"),type:"is-danger"}),!1;t.startLoading(),t.$http.patch("/v1/users/".concat(t.user.id),t.getPayload()).then((function(){t.response.ok=!0})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open({message:t.$t(e.response.data.message),type:"is-danger"})})).finally((function(){t.stopLoading()}))}))}}},Lc=Ac,qc=(i("205d"),Object(Nt["a"])(Lc,xc,Ic,!1,null,"5d4ad488",null)),Pc=qc.exports,Tc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",{staticClass:"title is-3"},[t._v(t._s(t.$t("user.userPanel.areasOfInterest.title")))]),i("p",{domProps:{innerHTML:t._s(t.$t("user.userPanel.areasOfInterest.subtitle"))}}),i("br"),i("div",{staticClass:"card"},[i("div",{staticClass:"card-content"},[i("h1",{staticClass:"title has-text-dark is-3"},[t._v(t._s(t.$t("user.userPanel.areasOfInterest.currentAreas")))]),t.currentAreas&&t.currentAreas.length>0?i("b-taglist",t._l(t.currentAreas,(function(e){return i("b-tag",{key:e.id,attrs:{type:"is-primary",size:"is-medium",closable:""},on:{close:function(i){return t.remove(e.id)}}},[t._v(t._s(e.name))])})),1):i("div",{staticClass:"notification is-warning"},[i("i",{staticClass:"fas fa-exclamation-circle"}),t._v(" "+t._s(t.$t("user.userPanel.areasOfInterest.emptyAreas"))+" ")]),i("hr"),i("h1",{staticClass:"title has-text-dark is-3"},[t._v(t._s(t.$t("user.userPanel.areasOfInterest.manage.title")))]),i("p",[t._v(t._s(t.$t("user.userPanel.areasOfInterest.manage.subtitle")))]),i("br"),i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"notification"},[i("h1",{staticClass:"subtitle is-5"},[t._v(t._s(t.$t("user.userPanel.areasOfInterest.manage.availableAreasTitle")))]),i("b-taglist",t._l(t.availableAreas,(function(e){return i("b-tag",{key:e.id,staticStyle:{cursor:"pointer"},attrs:{type:"is-info"},nativeOn:{click:function(i){return t.selectedAreas.push(e)}}},[t._v(t._s(e.name))])})),1)],1)]),t._m(0),i("div",{staticClass:"column"},[i("div",{staticClass:"notification"},[i("h1",{staticClass:"subtitle is-5"},[t._v(t._s(t.$t("user.userPanel.areasOfInterest.manage.newAreasTitle")))]),i("b-taglist",t._l(t.selectedAreas,(function(e){return i("b-tag",{key:e.id,attrs:{type:"is-info"}},[t._v(t._s(e.name))])})),1)],1),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("div",{staticClass:"buttons is-right"},[i("button",{staticClass:"button is-primary",attrs:{disabled:0==t.selectedAreas.length},on:{click:t.submit}},[t._v(t._s(t.$t("user.userPanel.areasOfInterest.manage.submit")))])])])])])])],1)])])},Nc=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column is-narrow is-hidden-touch"},[i("br"),i("i",{staticClass:"fas fa-arrow-right fa-lg"})])}],Oc={components:{},data:function(){return{currentAreas:[],areas:[],selectedAreas:[]}},mounted:function(){this.fetchUser(),this.fetchAvailableAreasOfInterest()},methods:{sync:function(t){t.person.terms||(this.currentAreas=[]),this.currentAreas=t.person.terms},fetchUser:function(){var t=this;this.startLoading(),this.$http.get("/v1/users/".concat(this.user.id)).then((function(e){t.sync(e.data.data)})).catch((function(e){console.error(e),e.response&&e.response.data&&t.$toast.open(e.response.data.message)})).finally((function(){t.stopLoading()}))},fetchAvailableAreasOfInterest:function(){var t=this;this.startLoading(),this.$http.get("/v1/terms?taxonomy=topics&size=100").then((function(e){t.areas=e.data.data})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while fetching areas of interest',type:"is-danger"})})).finally((function(){t.stopLoading()}))},getPayload:function(){var t={};return t.terms=this.selectedAreas.map((function(t){return t.id})),{data:t}},submit:function(){var t=this;this.startLoading(),this.$http.post("/v1/users/".concat(this.user.id,"/terms"),this.getPayload()).then((function(){t.selectedAreas.forEach((function(e){t.currentAreas.push(e)})),t.selectedAreas=[],t.$emit("updateModel"),t.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Areas of interests added to your profile',type:"is-success"})})).catch((function(e){console.error(e),t.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while adding the area of interest',type:"is-danger"})})).finally((function(){t.stopLoading()}))},remove:function(t){var e=this;this.startLoading(),this.$http.delete("/v1/users/".concat(this.user.id,"/terms/").concat(t)).then((function(){e.currentAreas=e.currentAreas.filter((function(e){return e.id!=t})),e.$toast.open({message:'<i class="fas fa-check"></i>&nbsp;Area of interest has been removed from your profile',type:"is-success"})})).catch((function(t){console.error(t),e.$toast.open({message:'<i class="fas fa-times"></i>&nbsp;Error while removing Area of interest from your profile',type:"is-danger"})})).finally((function(){e.stopLoading()}))}},computed:{availableAreas:function(){if(!this.areas)return[];var t=Object(b["differenceBy"])(this.areas,this.currentAreas,"id");return Object(b["differenceBy"])(t,this.selectedAreas,"id")}}},Rc=Oc,Ec=Object(Nt["a"])(Rc,Tc,Nc,!1,null,null,null),Sc=Ec.exports;a["default"].use(Ht["a"]);var Fc=new Ht["a"]({base:"/",routes:[{path:"/",name:"home",component:de,meta:{}},{path:"/map",name:"map",component:We,meta:{hideFooter:!0}},{path:"/initiatives/new",name:"newInitiative",component:ks,meta:{hideFooter:!0,requiresAuth:!0}},{path:"/initiatives",name:"listInitiatives",component:Es},{path:"/creating-networks-tv",name:"catalogCreatingNetworksTv",component:Ws,meta:{}},{path:"/creating-networks-tv/:id",component:Xs,name:"viewCreatingNetworksTv",props:!0,beforeEnter:function(t,e,i){console.log("First time entering, getting video..."),Kt.get("/v1/videos/".concat(t.params.id)).then((function(t){k.commit("setVideo",t.data.data),console.log("GET OK - Got video"),i()})).catch((function(t){console.log("Fetching data failed.",t),i({name:"home"})}))}},{path:"/initiative/:id",component:mn,props:!0,redirect:{name:"home"},children:[{path:"",name:"initiative",component:_n,props:!0,meta:{}},{path:"location",name:"initiativeLocation",component:Pn,props:!0,meta:{}},{path:"members",name:"initiativeMembers",component:$n,props:!0,meta:{}}],beforeEnter:function(t,e,i){console.log("First time entering, getting initiative..."),Kt.get("/v1/initiatives/".concat(t.params.id)).then((function(t){k.commit("setInitiative",t.data),console.log("GET OK - Got initiative"),i()})).catch((function(t){console.log("Fetching data failed.",t),i({name:"home"})}))}},{path:"/profile/:id",component:Sn,name:"profile",props:!0,beforeEnter:function(t,e,i){console.log("First time entering, getting user profile..."),Kt.get("/v1/users/".concat(t.params.id)).then((function(t){k.commit("setUserProfile",t.data.data),console.log("GET OK - Got user profile"),i()})).catch((function(t){console.log("Fetching data failed.",t),i({name:"home"})}))}},{path:"/auth",component:Ze,redirect:{name:"home"},children:[{path:"login",name:"login",component:si,meta:{hideNavbar:!0,hideFooter:!0,requiresAnon:!0}},{path:"signup",name:"signup",component:ui,meta:{hideNavbar:!0,hideFooter:!0,requiresAnon:!0}},{path:"complete-signup/:token",name:"completeSignUp",component:gi,props:!0,meta:{hideNavbar:!0,hideFooter:!0,requiresAnon:!0}},{path:"recover/request",name:"recoverRequest",component:qi,meta:{hideNavbar:!0,hideFooter:!0,requiresAnon:!0}},{path:"complete-recover/:userId/:token",name:"recoverPassword",component:ki,props:!0,meta:{hideNavbar:!0,hideFooter:!0,requiresAnon:!0}}]},{path:"/admin",component:Wn,children:[{path:"",name:"admin",component:Xn,meta:{requiresAdmin:!0}},{path:"map/config/administrators",name:"adminConfigAdministrators",component:go,meta:{requiresAdmin:!0}},{path:"initiatives/create",name:"adminInitiativesCreate",component:Wo,meta:{requiresAdmin:!0}},{path:"initiatives/:id/edit",name:"adminInitiativesEdit",component:Tr,props:!0,meta:{requiresAdmin:!0}},{path:"initiatives",name:"adminInitiativesList",component:qo,meta:{requiresAdmin:!0}},{path:"initiatives/cities",name:"adminInitiativesListCities",component:Fr,meta:{requiresAdmin:!0}},{path:"map/cities/add",name:"adminMapCitiesAdd",component:Qr,meta:{requiresAdmin:!0}},{path:"map/cities/list",name:"adminMapCitiesList",component:Yr,meta:{requiresAdmin:!0}},{path:"map/countries/list",name:"adminMapCountriesList",component:el,meta:{requiresAdmin:!0}},{path:"map/regions/list",name:"adminMapRegionsList",component:rl,meta:{requiresAdmin:!0}},{path:"areas-of-interest/create",name:"adminAreasOfInterestCreate",component:fl,meta:{requiresAdmin:!0}},{path:"areas-of-interest/list",name:"adminAreasOfInterestList",component:bl,meta:{requiresAdmin:!0}},{path:"creating-networks-tv/create",name:"adminCreatingNetworksTvCreate",component:Tl,meta:{requiresAdmin:!0}},{path:"creating-networks-tv/:id/edit",name:"adminCreatingNetworksTvEdit",component:Yl,props:!0,meta:{requiresAdmin:!0}},{path:"creating-networks-tv/list",name:"adminCreatingNetworksTvList",component:Fl,meta:{requiresAdmin:!0}}]},{path:"/user",component:tc,children:[{path:"",name:"user",component:oc,meta:{requiresAuth:!0}},{path:"account/change-password",name:"userAccountChangePassword",component:mc,meta:{requiresAuth:!0}},{path:"initiatives",name:"userInitiativesList",component:_c,meta:{requiresAuth:!0}},{path:"profile",name:"userProfile",component:Pc,meta:{requiresAuth:!0}},{path:"areas-of-interest",name:"userAreasOfInterest",component:Sc,meta:{requiresAuth:!0}},{path:"initiatives/:id/edit",name:"userInitiativesEdit",component:$c,props:!0,meta:{requiresAuth:!0}}]}],scrollBehavior:function(t,e,i){return{x:0,y:0}}}),Mc=function(t){return!t||0===Object.keys(t).length},jc=!1;Fc.beforeEach(function(){var t=Object(Bt["a"])(regeneratorRuntime.mark((function t(e,i,a){var s,n,o,r,l,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:k.state.userToken&&(s=new Date,n=new Date(1e3*k.state.userToken.expiration),s>n&&(console.info("- user token is expired!"),k.dispatch("logout"),a({name:"login",query:{redirect:e.path}}))),o=e.matched.find((function(t){return Object.prototype.hasOwnProperty.call(t.meta,"requiresAnon")})),r=e.matched.find((function(t){return Object.prototype.hasOwnProperty.call(t.meta,"requiresAuth")})),l=e.matched.find((function(t){return Object.prototype.hasOwnProperty.call(t.meta,"requiresAdmin")})),jc&&console.log("requiresAnon",o),jc&&console.log("requiresAuth",r),jc&&console.log("requiresAdmin",l),o?(jc&&console.log("- Requires anon"),c=Mc(k.getters.user),c?(jc&&console.log("-- is anon, go on"),a()):(jc&&console.log("-- NOT ANON, kick to home"),a({name:"home"}))):r?(jc&&console.log("- Requires auth"),d=k.state.isAuthenticated,d||(jc&&console.log("-/ Not logged in.. FORBIDDEN"),a({name:"forbidden"})),l&&(jc&&console.log("-- Requires admin role"),u=k.getters.isAdmin||!1,u?(jc&&console.log("--- is Admin! Go on"),a()):(jc&&console.log("--- NO ADMIN, GET OUT OF HERE"),a({name:"forbidden"}))),jc&&console.log("-- is logged, go on"),a()):(jc&&console.log("- All good, go on"),a());case 8:case"end":return t.stop()}}),t)})));return function(e,i,a){return t.apply(this,arguments)}}());var zc=Fc,Dc=function(){return xt[document.documentElement.lang]};a["default"].mixin(x),a["default"].use(s["a"]),a["default"].use(p["a"]),a["default"].use(o.a,Dc().globals.buefyOptions),a["default"].use(g["a"]),a["default"].use(v.a,{id:"UA-141741499-1",router:zc,debug:{sendHitTask:!0}});var Uc=new s["a"]({locale:document.documentElement.lang,fallbackLocale:"en",messages:xt});a["default"].use(f["a"],{i18nRootKey:"validations",i18n:Uc,dictionary:{en:l.a,es:d.a,pt:m.a}}),a["default"].prototype.$http=Kt,a["default"].config.productionTip=!1,new a["default"]({router:zc,store:k,http:Kt,i18n:Uc,render:function(t){return t(Vt)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";i("9c0c")},"5e35":function(t,e,i){},"619a":function(t,e,i){},"61d0":function(t,e,i){"use strict";i("1c04")},"669d":function(t,e,i){},"6c09":function(t,e,i){},"6e40":function(t,e,i){"use strict";i("4492")},7467:function(t,e,i){},"81a2":function(t,e,i){},"823f":function(t,e,i){},"87a8":function(t,e,i){},"8c1e":function(t,e,i){},"8dd6":function(t,e,i){"use strict";i("6c09")},"8df0":function(t,e,i){},"9c0c":function(t,e,i){},a054:function(t,e,i){"use strict";i("551c")},a1f0:function(t,e,i){},a6b6:function(t,e,i){},a6db:function(t,e,i){"use strict";i("33d4")},ab00:function(t,e,i){"use strict";i("dfc5")},ad41:function(t,e,i){"use strict";i("a6b6")},b83f:function(t,e,i){},c593:function(t,e,i){"use strict";i("619a")},c835:function(t,e,i){"use strict";i("e5ef")},d3a4:function(t,e,i){},d870:function(t,e,i){"use strict";i("d3a4")},d9ad:function(t,e,i){"use strict";i("669d")},dae3:function(t,e,i){"use strict";i("823f")},dfc5:function(t,e,i){},e5ef:function(t,e,i){},e847:function(t,e,i){"use strict";i("5e35")},e9e2:function(t,e,i){"use strict";i("8c1e")},f861:function(t,e,i){"use strict";i("41ba")}}]);
//# sourceMappingURL=chunk-common.95b810a9.js.map